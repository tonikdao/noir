/*! For license information please see 2.751ecfab.chunk.js.LICENSE.txt */
(this["webpackJsonpnumero-noir-3d"]=this["webpackJsonpnumero-noir-3d"]||[]).push([[2],[function(e,t,n){"use strict";n.r(t),n.d(t,"ACESFilmicToneMapping",(function(){return he})),n.d(t,"AddEquation",(function(){return P})),n.d(t,"AddOperation",(function(){return se})),n.d(t,"AdditiveAnimationBlendMode",(function(){return nn})),n.d(t,"AdditiveBlending",(function(){return I})),n.d(t,"AlphaFormat",(function(){return Xe})),n.d(t,"AlwaysDepth",(function(){return J})),n.d(t,"AlwaysStencilFunc",(function(){return Ln})),n.d(t,"AmbientLight",(function(){return Od})),n.d(t,"AmbientLightProbe",(function(){return nh})),n.d(t,"AnimationClip",(function(){return jc})),n.d(t,"AnimationLoader",(function(){return Yc})),n.d(t,"AnimationMixer",(function(){return kh})),n.d(t,"AnimationObjectGroup",(function(){return Rh})),n.d(t,"AnimationUtils",(function(){return Tc})),n.d(t,"ArcCurve",(function(){return nd})),n.d(t,"ArrayCamera",(function(){return Hs})),n.d(t,"ArrowHelper",(function(){return wf})),n.d(t,"Audio",(function(){return hh})),n.d(t,"AudioAnalyser",(function(){return yh})),n.d(t,"AudioContext",(function(){return $d})),n.d(t,"AudioListener",(function(){return dh})),n.d(t,"AudioLoader",(function(){return eh})),n.d(t,"AxesHelper",(function(){return Mf})),n.d(t,"AxisHelper",(function(){return gp})),n.d(t,"BackSide",(function(){return A})),n.d(t,"BasicDepthPacking",(function(){return mn})),n.d(t,"BasicShadowMap",(function(){return _})),n.d(t,"BinaryTextureLoader",(function(){return wp})),n.d(t,"Bone",(function(){return Su})),n.d(t,"BooleanKeyframeTrack",(function(){return Oc})),n.d(t,"BoundingBoxHelper",(function(){return yp})),n.d(t,"Box2",(function(){return zh})),n.d(t,"Box3",(function(){return cr})),n.d(t,"Box3Helper",(function(){return bf})),n.d(t,"BoxBufferGeometry",(function(){return Ta})),n.d(t,"BoxGeometry",(function(){return Sa})),n.d(t,"BoxHelper",(function(){return yf})),n.d(t,"BufferAttribute",(function(){return Pi})),n.d(t,"BufferGeometry",(function(){return ea})),n.d(t,"BufferGeometryLoader",(function(){return Ud})),n.d(t,"ByteType",(function(){return Pe})),n.d(t,"Cache",(function(){return zc})),n.d(t,"Camera",(function(){return ka})),n.d(t,"CameraHelper",(function(){return ff})),n.d(t,"CanvasRenderer",(function(){return Ap})),n.d(t,"CanvasTexture",(function(){return Ju})),n.d(t,"CatmullRomCurve3",(function(){return ud})),n.d(t,"CineonToneMapping",(function(){return de})),n.d(t,"CircleBufferGeometry",(function(){return pc})),n.d(t,"CircleGeometry",(function(){return fc})),n.d(t,"ClampToEdgeWrapping",(function(){return we})),n.d(t,"Clock",(function(){return oh})),n.d(t,"ClosedSplineCurve3",(function(){return pp})),n.d(t,"Color",(function(){return Ci})),n.d(t,"ColorKeyframeTrack",(function(){return Lc})),n.d(t,"CompressedTexture",(function(){return Ku})),n.d(t,"CompressedTextureLoader",(function(){return Qc})),n.d(t,"ConeBufferGeometry",(function(){return hc})),n.d(t,"ConeGeometry",(function(){return dc})),n.d(t,"CubeCamera",(function(){return La})),n.d(t,"CubeGeometry",(function(){return Sa})),n.d(t,"CubeReflectionMapping",(function(){return me})),n.d(t,"CubeRefractionMapping",(function(){return ve})),n.d(t,"CubeTexture",(function(){return so})),n.d(t,"CubeTextureLoader",(function(){return Kc})),n.d(t,"CubeUVReflectionMapping",(function(){return be})),n.d(t,"CubeUVRefractionMapping",(function(){return _e})),n.d(t,"CubicBezierCurve",(function(){return hd})),n.d(t,"CubicBezierCurve3",(function(){return fd})),n.d(t,"CubicInterpolant",(function(){return Dc})),n.d(t,"CullFaceBack",(function(){return g})),n.d(t,"CullFaceFront",(function(){return y})),n.d(t,"CullFaceFrontBack",(function(){return b})),n.d(t,"CullFaceNone",(function(){return v})),n.d(t,"Curve",(function(){return ed})),n.d(t,"CurvePath",(function(){return _d})),n.d(t,"CustomBlending",(function(){return L})),n.d(t,"CustomToneMapping",(function(){return fe})),n.d(t,"CylinderBufferGeometry",(function(){return cc})),n.d(t,"CylinderGeometry",(function(){return lc})),n.d(t,"Cylindrical",(function(){return jh})),n.d(t,"DataTexture",(function(){return Ba})),n.d(t,"DataTexture2DArray",(function(){return uo})),n.d(t,"DataTexture3D",(function(){return lo})),n.d(t,"DataTextureLoader",(function(){return Jc})),n.d(t,"DecrementStencilOp",(function(){return Mn})),n.d(t,"DecrementWrapStencilOp",(function(){return An})),n.d(t,"DefaultLoadingManager",(function(){return Hc})),n.d(t,"DepthFormat",(function(){return Je})),n.d(t,"DepthStencilFormat",(function(){return $e})),n.d(t,"DepthTexture",(function(){return $u})),n.d(t,"DirectionalLight",(function(){return kd})),n.d(t,"DirectionalLightHelper",(function(){return cf})),n.d(t,"DiscreteInterpolant",(function(){return Ic})),n.d(t,"DodecahedronBufferGeometry",(function(){return hl})),n.d(t,"DodecahedronGeometry",(function(){return dl})),n.d(t,"DoubleSide",(function(){return S})),n.d(t,"DstAlphaFactor",(function(){return X})),n.d(t,"DstColorFactor",(function(){return Y})),n.d(t,"DynamicBufferAttribute",(function(){return ip})),n.d(t,"DynamicCopyUsage",(function(){return zn})),n.d(t,"DynamicDrawUsage",(function(){return Bn})),n.d(t,"DynamicReadUsage",(function(){return Gn})),n.d(t,"EdgesGeometry",(function(){return uc})),n.d(t,"EdgesHelper",(function(){return bp})),n.d(t,"EllipseCurve",(function(){return td})),n.d(t,"EqualDepth",(function(){return te})),n.d(t,"EqualStencilFunc",(function(){return Dn})),n.d(t,"EquirectangularReflectionMapping",(function(){return ge})),n.d(t,"EquirectangularRefractionMapping",(function(){return ye})),n.d(t,"Euler",(function(){return Vr})),n.d(t,"EventDispatcher",(function(){return Xn})),n.d(t,"ExtrudeBufferGeometry",(function(){return Yl})),n.d(t,"ExtrudeGeometry",(function(){return ql})),n.d(t,"Face3",(function(){return Di})),n.d(t,"Face4",(function(){return Vf})),n.d(t,"FaceColors",(function(){return qf})),n.d(t,"FileLoader",(function(){return qc})),n.d(t,"FlatShading",(function(){return T})),n.d(t,"Float32Attribute",(function(){return hp})),n.d(t,"Float32BufferAttribute",(function(){return Vi})),n.d(t,"Float64Attribute",(function(){return fp})),n.d(t,"Float64BufferAttribute",(function(){return Hi})),n.d(t,"FloatType",(function(){return je})),n.d(t,"Fog",(function(){return Js})),n.d(t,"FogExp2",(function(){return Ks})),n.d(t,"Font",(function(){return Zd})),n.d(t,"FontLoader",(function(){return Jd})),n.d(t,"FrontSide",(function(){return E})),n.d(t,"Frustum",(function(){return Ga})),n.d(t,"GLBufferAttribute",(function(){return Ph})),n.d(t,"GLSL1",(function(){return Hn})),n.d(t,"GLSL3",(function(){return Wn})),n.d(t,"GammaEncoding",(function(){return ln})),n.d(t,"Geometry",(function(){return Aa})),n.d(t,"GeometryUtils",(function(){return Ep})),n.d(t,"GreaterDepth",(function(){return re})),n.d(t,"GreaterEqualDepth",(function(){return ne})),n.d(t,"GreaterEqualStencilFunc",(function(){return On})),n.d(t,"GreaterStencilFunc",(function(){return In})),n.d(t,"GridHelper",(function(){return af})),n.d(t,"Group",(function(){return Ws})),n.d(t,"HalfFloatType",(function(){return Ue})),n.d(t,"HemisphereLight",(function(){return Ed})),n.d(t,"HemisphereLightHelper",(function(){return rf})),n.d(t,"HemisphereLightProbe",(function(){return th})),n.d(t,"IcosahedronBufferGeometry",(function(){return cl})),n.d(t,"IcosahedronGeometry",(function(){return ll})),n.d(t,"ImageBitmapLoader",(function(){return Yd})),n.d(t,"ImageLoader",(function(){return Zc})),n.d(t,"ImageUtils",(function(){return er})),n.d(t,"ImmediateRenderObject",(function(){return Xh})),n.d(t,"IncrementStencilOp",(function(){return wn})),n.d(t,"IncrementWrapStencilOp",(function(){return En})),n.d(t,"InstancedBufferAttribute",(function(){return jd})),n.d(t,"InstancedBufferGeometry",(function(){return Gd})),n.d(t,"InstancedInterleavedBuffer",(function(){return Lh})),n.d(t,"InstancedMesh",(function(){return Iu})),n.d(t,"Int16Attribute",(function(){return up})),n.d(t,"Int16BufferAttribute",(function(){return Gi})),n.d(t,"Int32Attribute",(function(){return cp})),n.d(t,"Int32BufferAttribute",(function(){return Ui})),n.d(t,"Int8Attribute",(function(){return ap})),n.d(t,"Int8BufferAttribute",(function(){return Bi})),n.d(t,"IntType",(function(){return Ne})),n.d(t,"InterleavedBuffer",(function(){return eu})),n.d(t,"InterleavedBufferAttribute",(function(){return ru})),n.d(t,"Interpolant",(function(){return Cc})),n.d(t,"InterpolateDiscrete",(function(){return Qt})),n.d(t,"InterpolateLinear",(function(){return Zt})),n.d(t,"InterpolateSmooth",(function(){return Kt})),n.d(t,"InvertStencilOp",(function(){return Sn})),n.d(t,"JSONLoader",(function(){return Sp})),n.d(t,"KeepStencilOp",(function(){return _n})),n.d(t,"KeyframeTrack",(function(){return kc})),n.d(t,"LOD",(function(){return xu})),n.d(t,"LatheBufferGeometry",(function(){return ic})),n.d(t,"LatheGeometry",(function(){return rc})),n.d(t,"Layers",(function(){return Xr})),n.d(t,"LensFlare",(function(){return Cp})),n.d(t,"LessDepth",(function(){return $})),n.d(t,"LessEqualDepth",(function(){return ee})),n.d(t,"LessEqualStencilFunc",(function(){return Rn})),n.d(t,"LessStencilFunc",(function(){return Cn})),n.d(t,"Light",(function(){return Md})),n.d(t,"LightProbe",(function(){return Bd})),n.d(t,"LightShadow",(function(){return Ad})),n.d(t,"Line",(function(){return Nu})),n.d(t,"Line3",(function(){return Wh})),n.d(t,"LineBasicMaterial",(function(){return ku})),n.d(t,"LineCurve",(function(){return pd})),n.d(t,"LineCurve3",(function(){return md})),n.d(t,"LineDashedMaterial",(function(){return Ac})),n.d(t,"LineLoop",(function(){return zu})),n.d(t,"LinePieces",(function(){return Wf})),n.d(t,"LineSegments",(function(){return Uu})),n.d(t,"LineStrip",(function(){return Hf})),n.d(t,"LinearEncoding",(function(){return sn})),n.d(t,"LinearFilter",(function(){return De})),n.d(t,"LinearInterpolant",(function(){return Rc})),n.d(t,"LinearMipMapLinearFilter",(function(){return Oe})),n.d(t,"LinearMipMapNearestFilter",(function(){return Ie})),n.d(t,"LinearMipmapLinearFilter",(function(){return ke})),n.d(t,"LinearMipmapNearestFilter",(function(){return Re})),n.d(t,"LinearToneMapping",(function(){return le})),n.d(t,"Loader",(function(){return Wc})),n.d(t,"LoaderUtils",(function(){return Nd})),n.d(t,"LoadingManager",(function(){return Vc})),n.d(t,"LogLuvEncoding",(function(){return dn})),n.d(t,"LoopOnce",(function(){return Xt})),n.d(t,"LoopPingPong",(function(){return Yt})),n.d(t,"LoopRepeat",(function(){return qt})),n.d(t,"LuminanceAlphaFormat",(function(){return Ze})),n.d(t,"LuminanceFormat",(function(){return Qe})),n.d(t,"MOUSE",(function(){return p})),n.d(t,"Material",(function(){return Ii})),n.d(t,"MaterialLoader",(function(){return Fd})),n.d(t,"Math",(function(){return Kn})),n.d(t,"MathUtils",(function(){return Kn})),n.d(t,"Matrix3",(function(){return $n})),n.d(t,"Matrix4",(function(){return Pr})),n.d(t,"MaxEquation",(function(){return G})),n.d(t,"Mesh",(function(){return ya})),n.d(t,"MeshBasicMaterial",(function(){return ki})),n.d(t,"MeshDepthMaterial",(function(){return Ns})),n.d(t,"MeshDistanceMaterial",(function(){return Gs})),n.d(t,"MeshFaceMaterial",(function(){return Qf})),n.d(t,"MeshLambertMaterial",(function(){return Mc})),n.d(t,"MeshMatcapMaterial",(function(){return Ec})),n.d(t,"MeshNormalMaterial",(function(){return wc})),n.d(t,"MeshPhongMaterial",(function(){return _c})),n.d(t,"MeshPhysicalMaterial",(function(){return bc})),n.d(t,"MeshStandardMaterial",(function(){return yc})),n.d(t,"MeshToonMaterial",(function(){return xc})),n.d(t,"MinEquation",(function(){return N})),n.d(t,"MirroredRepeatWrapping",(function(){return Me})),n.d(t,"MixOperation",(function(){return oe})),n.d(t,"MultiMaterial",(function(){return Zf})),n.d(t,"MultiplyBlending",(function(){return O})),n.d(t,"MultiplyOperation",(function(){return ae})),n.d(t,"NearestFilter",(function(){return Ee})),n.d(t,"NearestMipMapLinearFilter",(function(){return Ce})),n.d(t,"NearestMipMapNearestFilter",(function(){return Se})),n.d(t,"NearestMipmapLinearFilter",(function(){return Te})),n.d(t,"NearestMipmapNearestFilter",(function(){return Ae})),n.d(t,"NeverDepth",(function(){return K})),n.d(t,"NeverStencilFunc",(function(){return Tn})),n.d(t,"NoBlending",(function(){return D})),n.d(t,"NoColors",(function(){return Xf})),n.d(t,"NoToneMapping",(function(){return ue})),n.d(t,"NormalAnimationBlendMode",(function(){return tn})),n.d(t,"NormalBlending",(function(){return R})),n.d(t,"NotEqualDepth",(function(){return ie})),n.d(t,"NotEqualStencilFunc",(function(){return kn})),n.d(t,"NumberKeyframeTrack",(function(){return Pc})),n.d(t,"Object3D",(function(){return oi})),n.d(t,"ObjectLoader",(function(){return Vd})),n.d(t,"ObjectSpaceNormalMap",(function(){return yn})),n.d(t,"OctahedronBufferGeometry",(function(){return ul})),n.d(t,"OctahedronGeometry",(function(){return sl})),n.d(t,"OneFactor",(function(){return U})),n.d(t,"OneMinusDstAlphaFactor",(function(){return q})),n.d(t,"OneMinusDstColorFactor",(function(){return Q})),n.d(t,"OneMinusSrcAlphaFactor",(function(){return W})),n.d(t,"OneMinusSrcColorFactor",(function(){return V})),n.d(t,"OrthographicCamera",(function(){return Rd})),n.d(t,"PCFShadowMap",(function(){return x})),n.d(t,"PCFSoftShadowMap",(function(){return w})),n.d(t,"PMREMGenerator",(function(){return Ff})),n.d(t,"ParametricBufferGeometry",(function(){return nl})),n.d(t,"ParametricGeometry",(function(){return tl})),n.d(t,"Particle",(function(){return Jf})),n.d(t,"ParticleBasicMaterial",(function(){return tp})),n.d(t,"ParticleSystem",(function(){return $f})),n.d(t,"ParticleSystemMaterial",(function(){return np})),n.d(t,"Path",(function(){return xd})),n.d(t,"PerspectiveCamera",(function(){return Oa})),n.d(t,"Plane",(function(){return ci})),n.d(t,"PlaneBufferGeometry",(function(){return Va})),n.d(t,"PlaneGeometry",(function(){return za})),n.d(t,"PlaneHelper",(function(){return _f})),n.d(t,"PointCloud",(function(){return Kf})),n.d(t,"PointCloudMaterial",(function(){return ep})),n.d(t,"PointLight",(function(){return Dd})),n.d(t,"PointLightHelper",(function(){return $h})),n.d(t,"Points",(function(){return Yu})),n.d(t,"PointsMaterial",(function(){return Vu})),n.d(t,"PolarGridHelper",(function(){return of})),n.d(t,"PolyhedronBufferGeometry",(function(){return il})),n.d(t,"PolyhedronGeometry",(function(){return rl})),n.d(t,"PositionalAudio",(function(){return gh})),n.d(t,"PropertyBinding",(function(){return Dh})),n.d(t,"PropertyMixer",(function(){return bh})),n.d(t,"QuadraticBezierCurve",(function(){return vd})),n.d(t,"QuadraticBezierCurve3",(function(){return gd})),n.d(t,"Quaternion",(function(){return or})),n.d(t,"QuaternionKeyframeTrack",(function(){return Fc})),n.d(t,"QuaternionLinearInterpolant",(function(){return Bc})),n.d(t,"REVISION",(function(){return f})),n.d(t,"RGBADepthPacking",(function(){return vn})),n.d(t,"RGBAFormat",(function(){return Ye})),n.d(t,"RGBAIntegerFormat",(function(){return at})),n.d(t,"RGBA_ASTC_10x10_Format",(function(){return Ct})),n.d(t,"RGBA_ASTC_10x5_Format",(function(){return At})),n.d(t,"RGBA_ASTC_10x6_Format",(function(){return St})),n.d(t,"RGBA_ASTC_10x8_Format",(function(){return Tt})),n.d(t,"RGBA_ASTC_12x10_Format",(function(){return Dt})),n.d(t,"RGBA_ASTC_12x12_Format",(function(){return Rt})),n.d(t,"RGBA_ASTC_4x4_Format",(function(){return gt})),n.d(t,"RGBA_ASTC_5x4_Format",(function(){return yt})),n.d(t,"RGBA_ASTC_5x5_Format",(function(){return bt})),n.d(t,"RGBA_ASTC_6x5_Format",(function(){return _t})),n.d(t,"RGBA_ASTC_6x6_Format",(function(){return xt})),n.d(t,"RGBA_ASTC_8x5_Format",(function(){return wt})),n.d(t,"RGBA_ASTC_8x6_Format",(function(){return Mt})),n.d(t,"RGBA_ASTC_8x8_Format",(function(){return Et})),n.d(t,"RGBA_BPTC_Format",(function(){return It})),n.d(t,"RGBA_ETC2_EAC_Format",(function(){return vt})),n.d(t,"RGBA_PVRTC_2BPPV1_Format",(function(){return ft})),n.d(t,"RGBA_PVRTC_4BPPV1_Format",(function(){return ht})),n.d(t,"RGBA_S3TC_DXT1_Format",(function(){return st})),n.d(t,"RGBA_S3TC_DXT3_Format",(function(){return ut})),n.d(t,"RGBA_S3TC_DXT5_Format",(function(){return lt})),n.d(t,"RGBDEncoding",(function(){return pn})),n.d(t,"RGBEEncoding",(function(){return cn})),n.d(t,"RGBEFormat",(function(){return Ke})),n.d(t,"RGBFormat",(function(){return qe})),n.d(t,"RGBIntegerFormat",(function(){return it})),n.d(t,"RGBM16Encoding",(function(){return fn})),n.d(t,"RGBM7Encoding",(function(){return hn})),n.d(t,"RGB_ETC1_Format",(function(){return pt})),n.d(t,"RGB_ETC2_Format",(function(){return mt})),n.d(t,"RGB_PVRTC_2BPPV1_Format",(function(){return dt})),n.d(t,"RGB_PVRTC_4BPPV1_Format",(function(){return ct})),n.d(t,"RGB_S3TC_DXT1_Format",(function(){return ot})),n.d(t,"RGFormat",(function(){return nt})),n.d(t,"RGIntegerFormat",(function(){return rt})),n.d(t,"RawShaderMaterial",(function(){return gc})),n.d(t,"Ray",(function(){return Lr})),n.d(t,"Raycaster",(function(){return Bh})),n.d(t,"RectAreaLight",(function(){return Ld})),n.d(t,"RedFormat",(function(){return et})),n.d(t,"RedIntegerFormat",(function(){return tt})),n.d(t,"ReinhardToneMapping",(function(){return ce})),n.d(t,"RepeatWrapping",(function(){return xe})),n.d(t,"ReplaceStencilOp",(function(){return xn})),n.d(t,"ReverseSubtractEquation",(function(){return F})),n.d(t,"RingBufferGeometry",(function(){return nc})),n.d(t,"RingGeometry",(function(){return tc})),n.d(t,"SRGB8_ALPHA8_ASTC_10x10_Format",(function(){return Vt})),n.d(t,"SRGB8_ALPHA8_ASTC_10x5_Format",(function(){return jt})),n.d(t,"SRGB8_ALPHA8_ASTC_10x6_Format",(function(){return Ut})),n.d(t,"SRGB8_ALPHA8_ASTC_10x8_Format",(function(){return zt})),n.d(t,"SRGB8_ALPHA8_ASTC_12x10_Format",(function(){return Ht})),n.d(t,"SRGB8_ALPHA8_ASTC_12x12_Format",(function(){return Wt})),n.d(t,"SRGB8_ALPHA8_ASTC_4x4_Format",(function(){return kt})),n.d(t,"SRGB8_ALPHA8_ASTC_5x4_Format",(function(){return Ot})),n.d(t,"SRGB8_ALPHA8_ASTC_5x5_Format",(function(){return Lt})),n.d(t,"SRGB8_ALPHA8_ASTC_6x5_Format",(function(){return Pt})),n.d(t,"SRGB8_ALPHA8_ASTC_6x6_Format",(function(){return Bt})),n.d(t,"SRGB8_ALPHA8_ASTC_8x5_Format",(function(){return Ft})),n.d(t,"SRGB8_ALPHA8_ASTC_8x6_Format",(function(){return Nt})),n.d(t,"SRGB8_ALPHA8_ASTC_8x8_Format",(function(){return Gt})),n.d(t,"Scene",(function(){return $s})),n.d(t,"SceneUtils",(function(){return Tp})),n.d(t,"ShaderChunk",(function(){return Ha})),n.d(t,"ShaderLib",(function(){return Xa})),n.d(t,"ShaderMaterial",(function(){return Ia})),n.d(t,"ShadowMaterial",(function(){return vc})),n.d(t,"Shape",(function(){return wd})),n.d(t,"ShapeBufferGeometry",(function(){return oc})),n.d(t,"ShapeGeometry",(function(){return ac})),n.d(t,"ShapePath",(function(){return Qd})),n.d(t,"ShapeUtils",(function(){return Hl})),n.d(t,"ShortType",(function(){return Be})),n.d(t,"Skeleton",(function(){return Au})),n.d(t,"SkeletonHelper",(function(){return Jh})),n.d(t,"SkinnedMesh",(function(){return wu})),n.d(t,"SmoothShading",(function(){return C})),n.d(t,"Sphere",(function(){return Sr})),n.d(t,"SphereBufferGeometry",(function(){return ec})),n.d(t,"SphereGeometry",(function(){return $l})),n.d(t,"Spherical",(function(){return Gh})),n.d(t,"SphericalHarmonics3",(function(){return Pd})),n.d(t,"Spline",(function(){return vp})),n.d(t,"SplineCurve",(function(){return yd})),n.d(t,"SplineCurve3",(function(){return mp})),n.d(t,"SpotLight",(function(){return Td})),n.d(t,"SpotLightHelper",(function(){return Yh})),n.d(t,"Sprite",(function(){return gu})),n.d(t,"SpriteMaterial",(function(){return iu})),n.d(t,"SrcAlphaFactor",(function(){return H})),n.d(t,"SrcAlphaSaturateFactor",(function(){return Z})),n.d(t,"SrcColorFactor",(function(){return z})),n.d(t,"StaticCopyUsage",(function(){return Un})),n.d(t,"StaticDrawUsage",(function(){return Pn})),n.d(t,"StaticReadUsage",(function(){return Nn})),n.d(t,"StereoCamera",(function(){return ah})),n.d(t,"StreamCopyUsage",(function(){return Vn})),n.d(t,"StreamDrawUsage",(function(){return Fn})),n.d(t,"StreamReadUsage",(function(){return jn})),n.d(t,"StringKeyframeTrack",(function(){return Nc})),n.d(t,"SubtractEquation",(function(){return B})),n.d(t,"SubtractiveBlending",(function(){return k})),n.d(t,"TOUCH",(function(){return m})),n.d(t,"TangentSpaceNormalMap",(function(){return gn})),n.d(t,"TetrahedronBufferGeometry",(function(){return ol})),n.d(t,"TetrahedronGeometry",(function(){return al})),n.d(t,"TextBufferGeometry",(function(){return Jl})),n.d(t,"TextGeometry",(function(){return Kl})),n.d(t,"Texture",(function(){return nr})),n.d(t,"TextureLoader",(function(){return $c})),n.d(t,"TorusBufferGeometry",(function(){return yl})),n.d(t,"TorusGeometry",(function(){return gl})),n.d(t,"TorusKnotBufferGeometry",(function(){return vl})),n.d(t,"TorusKnotGeometry",(function(){return ml})),n.d(t,"Triangle",(function(){return xi})),n.d(t,"TriangleFanDrawMode",(function(){return on})),n.d(t,"TriangleStripDrawMode",(function(){return an})),n.d(t,"TrianglesDrawMode",(function(){return rn})),n.d(t,"TubeBufferGeometry",(function(){return pl})),n.d(t,"TubeGeometry",(function(){return fl})),n.d(t,"UVMapping",(function(){return pe})),n.d(t,"Uint16Attribute",(function(){return lp})),n.d(t,"Uint16BufferAttribute",(function(){return ji})),n.d(t,"Uint32Attribute",(function(){return dp})),n.d(t,"Uint32BufferAttribute",(function(){return zi})),n.d(t,"Uint8Attribute",(function(){return op})),n.d(t,"Uint8BufferAttribute",(function(){return Fi})),n.d(t,"Uint8ClampedAttribute",(function(){return sp})),n.d(t,"Uint8ClampedBufferAttribute",(function(){return Ni})),n.d(t,"Uniform",(function(){return Oh})),n.d(t,"UniformsLib",(function(){return Wa})),n.d(t,"UniformsUtils",(function(){return Ra})),n.d(t,"UnsignedByteType",(function(){return Le})),n.d(t,"UnsignedInt248Type",(function(){return We})),n.d(t,"UnsignedIntType",(function(){return Ge})),n.d(t,"UnsignedShort4444Type",(function(){return ze})),n.d(t,"UnsignedShort5551Type",(function(){return Ve})),n.d(t,"UnsignedShort565Type",(function(){return He})),n.d(t,"UnsignedShortType",(function(){return Fe})),n.d(t,"VSMShadowMap",(function(){return M})),n.d(t,"Vector2",(function(){return Jn})),n.d(t,"Vector3",(function(){return sr})),n.d(t,"Vector4",(function(){return rr})),n.d(t,"VectorKeyframeTrack",(function(){return Gc})),n.d(t,"Vertex",(function(){return rp})),n.d(t,"VertexColors",(function(){return Yf})),n.d(t,"VideoTexture",(function(){return Zu})),n.d(t,"WebGL1Renderer",(function(){return Zs})),n.d(t,"WebGLCubeRenderTarget",(function(){return Pa})),n.d(t,"WebGLMultisampleRenderTarget",(function(){return ar})),n.d(t,"WebGLRenderTarget",(function(){return ir})),n.d(t,"WebGLRenderTargetCube",(function(){return Mp})),n.d(t,"WebGLRenderer",(function(){return Qs})),n.d(t,"WebGLUtils",(function(){return Vs})),n.d(t,"WireframeGeometry",(function(){return el})),n.d(t,"WireframeHelper",(function(){return _p})),n.d(t,"WrapAroundEnding",(function(){return en})),n.d(t,"XHRLoader",(function(){return xp})),n.d(t,"ZeroCurvatureEnding",(function(){return Jt})),n.d(t,"ZeroFactor",(function(){return j})),n.d(t,"ZeroSlopeEnding",(function(){return $t})),n.d(t,"ZeroStencilOp",(function(){return bn})),n.d(t,"sRGBEncoding",(function(){return un}));var r,i=n(49),a=n(16),o=n(13),s=n(12),u=n(18),l=n(5),c=n(6),d=n(4),h=n(7);void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=function(e){return"number"===typeof e&&isFinite(e)&&Math.floor(e)===e}),void 0===Math.sign&&(Math.sign=function(e){return e<0?-1:e>0?1:+e}),"name"in Function.prototype===!1&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&(Object.assign=function(e){if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(void 0!==r&&null!==r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t});var f="120",p={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},m={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},v=0,g=1,y=2,b=3,_=0,x=1,w=2,M=3,E=0,A=1,S=2,T=1,C=2,D=0,R=1,I=2,k=3,O=4,L=5,P=100,B=101,F=102,N=103,G=104,j=200,U=201,z=202,V=203,H=204,W=205,X=206,q=207,Y=208,Q=209,Z=210,K=0,J=1,$=2,ee=3,te=4,ne=5,re=6,ie=7,ae=0,oe=1,se=2,ue=0,le=1,ce=2,de=3,he=4,fe=5,pe=300,me=301,ve=302,ge=303,ye=304,be=306,_e=307,xe=1e3,we=1001,Me=1002,Ee=1003,Ae=1004,Se=1004,Te=1005,Ce=1005,De=1006,Re=1007,Ie=1007,ke=1008,Oe=1008,Le=1009,Pe=1010,Be=1011,Fe=1012,Ne=1013,Ge=1014,je=1015,Ue=1016,ze=1017,Ve=1018,He=1019,We=1020,Xe=1021,qe=1022,Ye=1023,Qe=1024,Ze=1025,Ke=Ye,Je=1026,$e=1027,et=1028,tt=1029,nt=1030,rt=1031,it=1032,at=1033,ot=33776,st=33777,ut=33778,lt=33779,ct=35840,dt=35841,ht=35842,ft=35843,pt=36196,mt=37492,vt=37496,gt=37808,yt=37809,bt=37810,_t=37811,xt=37812,wt=37813,Mt=37814,Et=37815,At=37816,St=37817,Tt=37818,Ct=37819,Dt=37820,Rt=37821,It=36492,kt=37840,Ot=37841,Lt=37842,Pt=37843,Bt=37844,Ft=37845,Nt=37846,Gt=37847,jt=37848,Ut=37849,zt=37850,Vt=37851,Ht=37852,Wt=37853,Xt=2200,qt=2201,Yt=2202,Qt=2300,Zt=2301,Kt=2302,Jt=2400,$t=2401,en=2402,tn=2500,nn=2501,rn=0,an=1,on=2,sn=3e3,un=3001,ln=3007,cn=3002,dn=3003,hn=3004,fn=3005,pn=3006,mn=3200,vn=3201,gn=0,yn=1,bn=0,_n=7680,xn=7681,wn=7682,Mn=7683,En=34055,An=34056,Sn=5386,Tn=512,Cn=513,Dn=514,Rn=515,In=516,kn=517,On=518,Ln=519,Pn=35044,Bn=35048,Fn=35040,Nn=35045,Gn=35049,jn=35041,Un=35046,zn=35050,Vn=35042,Hn="100",Wn="300 es";function Xn(){}Object.assign(Xn.prototype,{addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)},hasEventListener:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)},removeEventListener:function(e,t){if(void 0!==this._listeners){var n=this._listeners[e];if(void 0!==n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}}},dispatchEvent:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var n=t.slice(0),r=0,i=n.length;r<i;r++)n[r].call(this,e)}}}});for(var qn=[],Yn=0;Yn<256;Yn++)qn[Yn]=(Yn<16?"0":"")+Yn.toString(16);var Qn,Zn=1234567,Kn={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(qn[255&e]+qn[e>>8&255]+qn[e>>16&255]+qn[e>>24&255]+"-"+qn[255&t]+qn[t>>8&255]+"-"+qn[t>>16&15|64]+qn[t>>24&255]+"-"+qn[63&n|128]+qn[n>>8&255]+"-"+qn[n>>16&255]+qn[n>>24&255]+qn[255&r]+qn[r>>8&255]+qn[r>>16&255]+qn[r>>24&255]).toUpperCase()},clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},lerp:function(e,t,n){return(1-n)*e+n*t},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){return void 0!==e&&(Zn=e%2147483647),((Zn=16807*Zn%2147483647)-1)/2147483646},degToRad:function(e){return e*Kn.DEG2RAD},radToDeg:function(e){return e*Kn.RAD2DEG},isPowerOfTwo:function(e){return 0===(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},setQuaternionFromProperEuler:function(e,t,n,r,i){var a=Math.cos,o=Math.sin,s=a(n/2),u=o(n/2),l=a((t+r)/2),c=o((t+r)/2),d=a((t-r)/2),h=o((t-r)/2),f=a((r-t)/2),p=o((r-t)/2);switch(i){case"XYX":e.set(s*c,u*d,u*h,s*l);break;case"YZY":e.set(u*h,s*c,u*d,s*l);break;case"ZXZ":e.set(u*d,u*h,s*c,s*l);break;case"XZX":e.set(s*c,u*p,u*f,s*l);break;case"YXY":e.set(u*f,s*c,u*p,s*l);break;case"ZYZ":e.set(u*p,u*f,s*c,s*l);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}},Jn=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(d.a)(this,e),Object.defineProperty(this,"isVector2",{value:!0}),this.x=t,this.y=n}return Object(h.a)(e,[{key:"width",get:function(){return this.x},set:function(e){this.x=e}},{key:"height",get:function(){return this.y},set:function(e){this.y=e}},{key:"set",value:function(e,t){return this.x=e,this.y=t,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this}},{key:"add",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}},{key:"sub",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y}},{key:"cross",value:function(e){return this.x*e.y-this.y*e.x}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"angle",value:function(){var e=Math.atan2(-this.y,-this.x)+Math.PI;return e}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y}},{key:"fromArray",value:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this}},{key:"toArray",value:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e}},{key:"fromBufferAttribute",value:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this}},{key:"rotateAround",value:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,a=this.y-e.y;return this.x=i*n-a*r+e.x,this.y=i*r+a*n+e.y,this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this}}]),e}(),$n=function(){function e(){Object(d.a)(this,e),Object.defineProperty(this,"isMatrix3",{value:!0}),this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}return Object(h.a)(e,[{key:"set",value:function(e,t,n,r,i,a,o,s,u){var l=this.elements;return l[0]=e,l[1]=r,l[2]=o,l[3]=t,l[4]=i,l[5]=s,l[6]=n,l[7]=a,l[8]=u,this}},{key:"identity",value:function(){return this.set(1,0,0,0,1,0,0,0,1),this}},{key:"clone",value:function(){return(new this.constructor).fromArray(this.elements)}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}},{key:"setFromMatrix4",value:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[3],s=n[6],u=n[1],l=n[4],c=n[7],d=n[2],h=n[5],f=n[8],p=r[0],m=r[3],v=r[6],g=r[1],y=r[4],b=r[7],_=r[2],x=r[5],w=r[8];return i[0]=a*p+o*g+s*_,i[3]=a*m+o*y+s*x,i[6]=a*v+o*b+s*w,i[1]=u*p+l*g+c*_,i[4]=u*m+l*y+c*x,i[7]=u*v+l*b+c*w,i[2]=d*p+h*g+f*_,i[5]=d*m+h*y+f*x,i[8]=d*v+h*b+f*w,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],u=e[7],l=e[8];return t*a*l-t*o*u-n*i*l+n*o*s+r*i*u-r*a*s}},{key:"getInverse",value:function(e,t){void 0!==t&&console.warn("THREE.Matrix3: .getInverse() can no longer be configured to throw on degenerate.");var n=e.elements,r=this.elements,i=n[0],a=n[1],o=n[2],s=n[3],u=n[4],l=n[5],c=n[6],d=n[7],h=n[8],f=h*u-l*d,p=l*c-h*s,m=d*s-u*c,v=i*f+a*p+o*m;if(0===v)return this.set(0,0,0,0,0,0,0,0,0);var g=1/v;return r[0]=f*g,r[1]=(o*d-h*a)*g,r[2]=(l*a-o*u)*g,r[3]=p*g,r[4]=(h*i-o*c)*g,r[5]=(o*s-l*i)*g,r[6]=m*g,r[7]=(a*c-d*i)*g,r[8]=(u*i-a*s)*g,this}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}},{key:"getNormalMatrix",value:function(e){return this.setFromMatrix4(e).getInverse(this).transpose()}},{key:"transposeIntoArray",value:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}},{key:"setUvTransform",value:function(e,t,n,r,i,a,o){var s=Math.cos(i),u=Math.sin(i);this.set(n*s,n*u,-n*(s*a+u*o)+a+e,-r*u,r*s,-r*(-u*a+s*o)+o+t,0,0,1)}},{key:"scale",value:function(e,t){var n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this}},{key:"rotate",value:function(e){var t=Math.cos(e),n=Math.sin(e),r=this.elements,i=r[0],a=r[3],o=r[6],s=r[1],u=r[4],l=r[7];return r[0]=t*i+n*s,r[3]=t*a+n*u,r[6]=t*o+n*l,r[1]=-n*i+t*s,r[4]=-n*a+t*u,r[7]=-n*o+t*l,this}},{key:"translate",value:function(e,t){var n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e,t){void 0===t&&(t=0);for(var n=0;n<9;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}}]),e}(),er={getDataURL:function(e){if(/^data:/i.test(e.src))return e.src;if("undefined"==typeof HTMLCanvasElement)return e.src;var t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===Qn&&(Qn=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),Qn.width=e.width,Qn.height=e.height;var n=Qn.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=Qn}return t.width>2048||t.height>2048?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}},tr=0;function nr(e,t,n,r,i,a,o,s,u,l){Object.defineProperty(this,"id",{value:tr++}),this.uuid=Kn.generateUUID(),this.name="",this.image=void 0!==e?e:nr.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==t?t:nr.DEFAULT_MAPPING,this.wrapS=void 0!==n?n:we,this.wrapT=void 0!==r?r:we,this.magFilter=void 0!==i?i:De,this.minFilter=void 0!==a?a:ke,this.anisotropy=void 0!==u?u:1,this.format=void 0!==o?o:Ye,this.internalFormat=null,this.type=void 0!==s?s:Le,this.offset=new Jn(0,0),this.repeat=new Jn(1,1),this.center=new Jn(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new $n,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==l?l:sn,this.version=0,this.onUpdate=null}nr.DEFAULT_IMAGE=void 0,nr.DEFAULT_MAPPING=pe,nr.prototype=Object.assign(Object.create(Xn.prototype),{constructor:nr,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){var t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){var r=this.image;if(void 0===r.uuid&&(r.uuid=Kn.generateUUID()),!t&&void 0===e.images[r.uuid]){var i;if(Array.isArray(r)){i=[];for(var a=0,o=r.length;a<o;a++)i.push(er.getDataURL(r[a]))}else i=er.getDataURL(r);e.images[r.uuid]={uuid:r.uuid,url:i}}n.image=r.uuid}return t||(e.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(this.mapping!==pe)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case xe:e.x=e.x-Math.floor(e.x);break;case we:e.x=e.x<0?0:1;break;case Me:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case xe:e.y=e.y-Math.floor(e.y);break;case we:e.y=e.y<0?0:1;break;case Me:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}}),Object.defineProperty(nr.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}});var rr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;Object(d.a)(this,e),Object.defineProperty(this,"isVector4",{value:!0}),this.x=t,this.y=n,this.z=r,this.w=i}return Object(h.a)(e,[{key:"width",get:function(){return this.z},set:function(e){this.z=e}},{key:"height",get:function(){return this.w},set:function(e){this.w=e}},{key:"set",value:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setW",value:function(e){return this.w=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z,this.w)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}},{key:"add",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}},{key:"sub",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,r=this.z,i=this.w,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*r+a[12]*i,this.y=a[1]*t+a[5]*n+a[9]*r+a[13]*i,this.z=a[2]*t+a[6]*n+a[10]*r+a[14]*i,this.w=a[3]*t+a[7]*n+a[11]*r+a[15]*i,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"setAxisAngleFromQuaternion",value:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}},{key:"setAxisAngleFromRotationMatrix",value:function(e){var t,n,r,i,a=e.elements,o=a[0],s=a[4],u=a[8],l=a[1],c=a[5],d=a[9],h=a[2],f=a[6],p=a[10];if(Math.abs(s-l)<.01&&Math.abs(u-h)<.01&&Math.abs(d-f)<.01){if(Math.abs(s+l)<.1&&Math.abs(u+h)<.1&&Math.abs(d+f)<.1&&Math.abs(o+c+p-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;var m=(o+1)/2,v=(c+1)/2,g=(p+1)/2,y=(s+l)/4,b=(u+h)/4,_=(d+f)/4;return m>v&&m>g?m<.01?(n=0,r=.707106781,i=.707106781):(r=y/(n=Math.sqrt(m)),i=b/n):v>g?v<.01?(n=.707106781,r=0,i=.707106781):(n=y/(r=Math.sqrt(v)),i=_/r):g<.01?(n=.707106781,r=.707106781,i=0):(n=b/(i=Math.sqrt(g)),r=_/i),this.set(n,r,i,t),this}var x=Math.sqrt((f-d)*(f-d)+(u-h)*(u-h)+(l-s)*(l-s));return Math.abs(x)<.001&&(x=1),this.x=(f-d)/x,this.y=(u-h)/x,this.z=(l-s)/x,this.w=Math.acos((o+c+p-1)/2),this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}},{key:"fromArray",value:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}},{key:"toArray",value:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}},{key:"fromBufferAttribute",value:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}}]),e}();function ir(e,t,n){this.width=e,this.height=t,this.scissor=new rr(0,0,e,t),this.scissorTest=!1,this.viewport=new rr(0,0,e,t),n=n||{},this.texture=new nr(void 0,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.image={},this.texture.image.width=e,this.texture.image.height=t,this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:De,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0!==n.stencilBuffer&&n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function ar(e,t,n){ir.call(this,e,t,n),this.samples=4}ir.prototype=Object.assign(Object.create(Xn.prototype),{constructor:ir,isWebGLRenderTarget:!0,setSize:function(e,t){this.width===e&&this.height===t||(this.width=e,this.height=t,this.texture.image.width=e,this.texture.image.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),ar.prototype=Object.assign(Object.create(ir.prototype),{constructor:ar,isWebGLMultisampleRenderTarget:!0,copy:function(e){return ir.prototype.copy.call(this,e),this.samples=e.samples,this}});var or=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;Object(d.a)(this,e),Object.defineProperty(this,"isQuaternion",{value:!0}),this._x=t,this._y=n,this._z=r,this._w=i}return Object(h.a)(e,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"w",get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._w)}},{key:"copy",value:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}},{key:"setFromEuler",value:function(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=e._x,r=e._y,i=e._z,a=e._order,o=Math.cos,s=Math.sin,u=o(n/2),l=o(r/2),c=o(i/2),d=s(n/2),h=s(r/2),f=s(i/2);switch(a){case"XYZ":this._x=d*l*c+u*h*f,this._y=u*h*c-d*l*f,this._z=u*l*f+d*h*c,this._w=u*l*c-d*h*f;break;case"YXZ":this._x=d*l*c+u*h*f,this._y=u*h*c-d*l*f,this._z=u*l*f-d*h*c,this._w=u*l*c+d*h*f;break;case"ZXY":this._x=d*l*c-u*h*f,this._y=u*h*c+d*l*f,this._z=u*l*f+d*h*c,this._w=u*l*c-d*h*f;break;case"ZYX":this._x=d*l*c-u*h*f,this._y=u*h*c+d*l*f,this._z=u*l*f-d*h*c,this._w=u*l*c+d*h*f;break;case"YZX":this._x=d*l*c+u*h*f,this._y=u*h*c+d*l*f,this._z=u*l*f-d*h*c,this._w=u*l*c-d*h*f;break;case"XZY":this._x=d*l*c-u*h*f,this._y=u*h*c-d*l*f,this._z=u*l*f+d*h*c,this._w=u*l*c+d*h*f;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return!1!==t&&this._onChangeCallback(),this}},{key:"setFromAxisAngle",value:function(e,t){var n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=e.elements,n=t[0],r=t[4],i=t[8],a=t[1],o=t[5],s=t[9],u=t[2],l=t[6],c=t[10],d=n+o+c;if(d>0){var h=.5/Math.sqrt(d+1);this._w=.25/h,this._x=(l-s)*h,this._y=(i-u)*h,this._z=(a-r)*h}else if(n>o&&n>c){var f=2*Math.sqrt(1+n-o-c);this._w=(l-s)/f,this._x=.25*f,this._y=(r+a)/f,this._z=(i+u)/f}else if(o>c){var p=2*Math.sqrt(1+o-n-c);this._w=(i-u)/p,this._x=(r+a)/p,this._y=.25*p,this._z=(s+l)/p}else{var m=2*Math.sqrt(1+c-n-o);this._w=(a-r)/m,this._x=(i+u)/m,this._y=(s+l)/m,this._z=.25*m}return this._onChangeCallback(),this}},{key:"setFromUnitVectors",value:function(e,t){var n=e.dot(t)+1;return n<1e-6?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}},{key:"angleTo",value:function(e){return 2*Math.acos(Math.abs(Kn.clamp(this.dot(e),-1,1)))}},{key:"rotateTowards",value:function(e,t){var n=this.angleTo(e);if(0===n)return this;var r=Math.min(1,t/n);return this.slerp(e,r),this}},{key:"identity",value:function(){return this.set(0,0,0,1)}},{key:"inverse",value:function(){return this.conjugate()}},{key:"conjugate",value:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}},{key:"dot",value:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}},{key:"lengthSq",value:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}},{key:"length",value:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}},{key:"normalize",value:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}},{key:"multiply",value:function(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)}},{key:"premultiply",value:function(e){return this.multiplyQuaternions(e,this)}},{key:"multiplyQuaternions",value:function(e,t){var n=e._x,r=e._y,i=e._z,a=e._w,o=t._x,s=t._y,u=t._z,l=t._w;return this._x=n*l+a*o+r*u-i*s,this._y=r*l+a*s+i*o-n*u,this._z=i*l+a*u+n*s-r*o,this._w=a*l-n*o-r*s-i*u,this._onChangeCallback(),this}},{key:"slerp",value:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,r=this._y,i=this._z,a=this._w,o=a*e._w+n*e._x+r*e._y+i*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=n,this._y=r,this._z=i,this;var s=1-o*o;if(s<=Number.EPSILON){var u=1-t;return this._w=u*a+t*this._w,this._x=u*n+t*this._x,this._y=u*r+t*this._y,this._z=u*i+t*this._z,this.normalize(),this._onChangeCallback(),this}var l=Math.sqrt(s),c=Math.atan2(l,o),d=Math.sin((1-t)*c)/l,h=Math.sin(t*c)/l;return this._w=a*d+this._w*h,this._x=n*d+this._x*h,this._y=r*d+this._y*h,this._z=i*d+this._z*h,this._onChangeCallback(),this}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}},{key:"fromArray",value:function(e,t){return void 0===t&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}},{key:"toArray",value:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}},{key:"fromBufferAttribute",value:function(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}}],[{key:"slerp",value:function(e,t,n,r){return n.copy(e).slerp(t,r)}},{key:"slerpFlat",value:function(e,t,n,r,i,a,o){var s=n[r+0],u=n[r+1],l=n[r+2],c=n[r+3],d=i[a+0],h=i[a+1],f=i[a+2],p=i[a+3];if(c!==p||s!==d||u!==h||l!==f){var m=1-o,v=s*d+u*h+l*f+c*p,g=v>=0?1:-1,y=1-v*v;if(y>Number.EPSILON){var b=Math.sqrt(y),_=Math.atan2(b,v*g);m=Math.sin(m*_)/b,o=Math.sin(o*_)/b}var x=o*g;if(s=s*m+d*x,u=u*m+h*x,l=l*m+f*x,c=c*m+p*x,m===1-o){var w=1/Math.sqrt(s*s+u*u+l*l+c*c);s*=w,u*=w,l*=w,c*=w}}e[t]=s,e[t+1]=u,e[t+2]=l,e[t+3]=c}},{key:"multiplyQuaternionsFlat",value:function(e,t,n,r,i,a){var o=n[r],s=n[r+1],u=n[r+2],l=n[r+3],c=i[a],d=i[a+1],h=i[a+2],f=i[a+3];return e[t]=o*f+l*c+s*h-u*d,e[t+1]=s*f+l*d+u*c-o*h,e[t+2]=u*f+l*h+o*d-s*c,e[t+3]=l*f-o*c-s*d-u*h,e}}]),e}(),sr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;Object(d.a)(this,e),Object.defineProperty(this,"isVector3",{value:!0}),this.x=t,this.y=n,this.z=r}return Object(h.a)(e,[{key:"set",value:function(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}},{key:"add",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}},{key:"sub",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}},{key:"multiply",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this}},{key:"multiplyVectors",value:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}},{key:"applyEuler",value:function(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(lr.setFromEuler(e))}},{key:"applyAxisAngle",value:function(e,t){return this.applyQuaternion(lr.setFromAxisAngle(e,t))}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this}},{key:"applyNormalMatrix",value:function(e){return this.applyMatrix3(e).normalize()}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements,a=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*a,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*a,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*a,this}},{key:"applyQuaternion",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.x,a=e.y,o=e.z,s=e.w,u=s*t+a*r-o*n,l=s*n+o*t-i*r,c=s*r+i*n-a*t,d=-i*t-a*n-o*r;return this.x=u*s+d*-i+l*-o-c*-a,this.y=l*s+d*-a+c*-i-u*-o,this.z=c*s+d*-o+u*-a-l*-i,this}},{key:"project",value:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}},{key:"unproject",value:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}},{key:"transformDirection",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}},{key:"cross",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)}},{key:"crossVectors",value:function(e,t){var n=e.x,r=e.y,i=e.z,a=t.x,o=t.y,s=t.z;return this.x=r*s-i*o,this.y=i*a-n*s,this.z=n*o-r*a,this}},{key:"projectOnVector",value:function(e){var t=e.lengthSq();if(0===t)return this.set(0,0,0);var n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}},{key:"projectOnPlane",value:function(e){return ur.copy(this).projectOnVector(e),this.sub(ur)}},{key:"reflect",value:function(e){return this.sub(ur.copy(e).multiplyScalar(2*this.dot(e)))}},{key:"angleTo",value:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;var n=this.dot(e)/t;return Math.acos(Kn.clamp(n,-1,1))}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}},{key:"setFromSpherical",value:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}},{key:"setFromSphericalCoords",value:function(e,t,n){var r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}},{key:"setFromCylindrical",value:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}},{key:"setFromCylindricalCoords",value:function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}},{key:"setFromMatrixPosition",value:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}},{key:"setFromMatrixScale",value:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}},{key:"setFromMatrixColumn",value:function(e,t){return this.fromArray(e.elements,4*t)}},{key:"setFromMatrix3Column",value:function(e,t){return this.fromArray(e.elements,3*t)}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}},{key:"fromArray",value:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}},{key:"toArray",value:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}},{key:"fromBufferAttribute",value:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}}]),e}(),ur=new sr,lr=new or,cr=function(){function e(t,n){Object(d.a)(this,e),Object.defineProperty(this,"isBox3",{value:!0}),this.min=void 0!==t?t:new sr(1/0,1/0,1/0),this.max=void 0!==n?n:new sr(-1/0,-1/0,-1/0)}return Object(h.a)(e,[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"setFromArray",value:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,a=-1/0,o=-1/0,s=0,u=e.length;s<u;s+=3){var l=e[s],c=e[s+1],d=e[s+2];l<t&&(t=l),c<n&&(n=c),d<r&&(r=d),l>i&&(i=l),c>a&&(a=c),d>o&&(o=d)}return this.min.set(t,n,r),this.max.set(i,a,o),this}},{key:"setFromBufferAttribute",value:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,a=-1/0,o=-1/0,s=0,u=e.count;s<u;s++){var l=e.getX(s),c=e.getY(s),d=e.getZ(s);l<t&&(t=l),c<n&&(n=c),d<r&&(r=d),l>i&&(i=l),c>a&&(a=c),d>o&&(o=d)}return this.min.set(t,n,r),this.max.set(i,a,o),this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}},{key:"setFromCenterAndSize",value:function(e,t){var n=fr.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}},{key:"setFromObject",value:function(e){return this.makeEmpty(),this.expandByObject(e)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}},{key:"getCenter",value:function(e){return void 0===e&&(console.warn("THREE.Box3: .getCenter() target is now required"),e=new sr),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return void 0===e&&(console.warn("THREE.Box3: .getSize() target is now required"),e=new sr),this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"expandByObject",value:function(e){e.updateWorldMatrix(!1,!1);var t=e.geometry;void 0!==t&&(null===t.boundingBox&&t.computeBoundingBox(),pr.copy(t.boundingBox),pr.applyMatrix4(e.matrixWorld),this.union(pr));for(var n=e.children,r=0,i=n.length;r<i;r++)this.expandByObject(n[r]);return this}},{key:"containsPoint",value:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}},{key:"getParameter",value:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .getParameter() target is now required"),t=new sr),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}},{key:"intersectsBox",value:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}},{key:"intersectsSphere",value:function(e){return this.clampPoint(e.center,fr),fr.distanceToSquared(e.center)<=e.radius*e.radius}},{key:"intersectsPlane",value:function(e){var t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}},{key:"intersectsTriangle",value:function(e){if(this.isEmpty())return!1;this.getCenter(xr),wr.subVectors(this.max,xr),mr.subVectors(e.a,xr),vr.subVectors(e.b,xr),gr.subVectors(e.c,xr),yr.subVectors(vr,mr),br.subVectors(gr,vr),_r.subVectors(mr,gr);var t=[0,-yr.z,yr.y,0,-br.z,br.y,0,-_r.z,_r.y,yr.z,0,-yr.x,br.z,0,-br.x,_r.z,0,-_r.x,-yr.y,yr.x,0,-br.y,br.x,0,-_r.y,_r.x,0];return!!dr(t,mr,vr,gr,wr)&&(!!dr(t=[1,0,0,0,1,0,0,0,1],mr,vr,gr,wr)&&(Mr.crossVectors(yr,br),dr(t=[Mr.x,Mr.y,Mr.z],mr,vr,gr,wr)))}},{key:"clampPoint",value:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .clampPoint() target is now required"),t=new sr),t.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return fr.copy(e).clamp(this.min,this.max).sub(e).length()}},{key:"getBoundingSphere",value:function(e){return void 0===e&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(e.center),e.radius=.5*this.getSize(fr).length(),e}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"applyMatrix4",value:function(e){return this.isEmpty()||(hr[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),hr[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),hr[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),hr[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),hr[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),hr[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),hr[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),hr[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(hr)),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}]),e}();function dr(e,t,n,r,i){for(var a=0,o=e.length-3;a<=o;a+=3){Er.fromArray(e,a);var s=i.x*Math.abs(Er.x)+i.y*Math.abs(Er.y)+i.z*Math.abs(Er.z),u=t.dot(Er),l=n.dot(Er),c=r.dot(Er);if(Math.max(-Math.max(u,l,c),Math.min(u,l,c))>s)return!1}return!0}var hr=[new sr,new sr,new sr,new sr,new sr,new sr,new sr,new sr],fr=new sr,pr=new cr,mr=new sr,vr=new sr,gr=new sr,yr=new sr,br=new sr,_r=new sr,xr=new sr,wr=new sr,Mr=new sr,Er=new sr,Ar=new cr,Sr=function(){function e(t,n){Object(d.a)(this,e),this.center=void 0!==t?t:new sr,this.radius=void 0!==n?n:-1}return Object(h.a)(e,[{key:"set",value:function(e,t){return this.center.copy(e),this.radius=t,this}},{key:"setFromPoints",value:function(e,t){var n=this.center;void 0!==t?n.copy(t):Ar.setFromPoints(e).getCenter(n);for(var r=0,i=0,a=e.length;i<a;i++)r=Math.max(r,n.distanceToSquared(e[i]));return this.radius=Math.sqrt(r),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.center.copy(e.center),this.radius=e.radius,this}},{key:"isEmpty",value:function(){return this.radius<0}},{key:"makeEmpty",value:function(){return this.center.set(0,0,0),this.radius=-1,this}},{key:"containsPoint",value:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}},{key:"distanceToPoint",value:function(e){return e.distanceTo(this.center)-this.radius}},{key:"intersectsSphere",value:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}},{key:"intersectsBox",value:function(e){return e.intersectsSphere(this)}},{key:"intersectsPlane",value:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}},{key:"clampPoint",value:function(e,t){var n=this.center.distanceToSquared(e);return void 0===t&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),t=new sr),t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}},{key:"getBoundingBox",value:function(e){return void 0===e&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),e=new cr),this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}},{key:"applyMatrix4",value:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}},{key:"translate",value:function(e){return this.center.add(e),this}},{key:"equals",value:function(e){return e.center.equals(this.center)&&e.radius===this.radius}}]),e}(),Tr=new sr,Cr=new sr,Dr=new sr,Rr=new sr,Ir=new sr,kr=new sr,Or=new sr,Lr=function(){function e(t,n){Object(d.a)(this,e),this.origin=void 0!==t?t:new sr,this.direction=void 0!==n?n:new sr(0,0,-1)}return Object(h.a)(e,[{key:"set",value:function(e,t){return this.origin.copy(e),this.direction.copy(t),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}},{key:"at",value:function(e,t){return void 0===t&&(console.warn("THREE.Ray: .at() target is now required"),t=new sr),t.copy(this.direction).multiplyScalar(e).add(this.origin)}},{key:"lookAt",value:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this}},{key:"recast",value:function(e){return this.origin.copy(this.at(e,Tr)),this}},{key:"closestPointToPoint",value:function(e,t){void 0===t&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),t=new sr),t.subVectors(e,this.origin);var n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)}},{key:"distanceToPoint",value:function(e){return Math.sqrt(this.distanceSqToPoint(e))}},{key:"distanceSqToPoint",value:function(e){var t=Tr.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Tr.copy(this.direction).multiplyScalar(t).add(this.origin),Tr.distanceToSquared(e))}},{key:"distanceSqToSegment",value:function(e,t,n,r){Cr.copy(e).add(t).multiplyScalar(.5),Dr.copy(t).sub(e).normalize(),Rr.copy(this.origin).sub(Cr);var i,a,o,s,u=.5*e.distanceTo(t),l=-this.direction.dot(Dr),c=Rr.dot(this.direction),d=-Rr.dot(Dr),h=Rr.lengthSq(),f=Math.abs(1-l*l);if(f>0)if(a=l*c-d,s=u*f,(i=l*d-c)>=0)if(a>=-s)if(a<=s){var p=1/f;o=(i*=p)*(i+l*(a*=p)+2*c)+a*(l*i+a+2*d)+h}else a=u,o=-(i=Math.max(0,-(l*a+c)))*i+a*(a+2*d)+h;else a=-u,o=-(i=Math.max(0,-(l*a+c)))*i+a*(a+2*d)+h;else a<=-s?o=-(i=Math.max(0,-(-l*u+c)))*i+(a=i>0?-u:Math.min(Math.max(-u,-d),u))*(a+2*d)+h:a<=s?(i=0,o=(a=Math.min(Math.max(-u,-d),u))*(a+2*d)+h):o=-(i=Math.max(0,-(l*u+c)))*i+(a=i>0?u:Math.min(Math.max(-u,-d),u))*(a+2*d)+h;else a=l>0?-u:u,o=-(i=Math.max(0,-(l*a+c)))*i+a*(a+2*d)+h;return n&&n.copy(this.direction).multiplyScalar(i).add(this.origin),r&&r.copy(Dr).multiplyScalar(a).add(Cr),o}},{key:"intersectSphere",value:function(e,t){Tr.subVectors(e.center,this.origin);var n=Tr.dot(this.direction),r=Tr.dot(Tr)-n*n,i=e.radius*e.radius;if(r>i)return null;var a=Math.sqrt(i-r),o=n-a,s=n+a;return o<0&&s<0?null:o<0?this.at(s,t):this.at(o,t)}},{key:"intersectsSphere",value:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}},{key:"distanceToPlane",value:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}},{key:"intersectPlane",value:function(e,t){var n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}},{key:"intersectsPlane",value:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}},{key:"intersectBox",value:function(e,t){var n,r,i,a,o,s,u=1/this.direction.x,l=1/this.direction.y,c=1/this.direction.z,d=this.origin;return u>=0?(n=(e.min.x-d.x)*u,r=(e.max.x-d.x)*u):(n=(e.max.x-d.x)*u,r=(e.min.x-d.x)*u),l>=0?(i=(e.min.y-d.y)*l,a=(e.max.y-d.y)*l):(i=(e.max.y-d.y)*l,a=(e.min.y-d.y)*l),n>a||i>r?null:((i>n||n!==n)&&(n=i),(a<r||r!==r)&&(r=a),c>=0?(o=(e.min.z-d.z)*c,s=(e.max.z-d.z)*c):(o=(e.max.z-d.z)*c,s=(e.min.z-d.z)*c),n>s||o>r?null:((o>n||n!==n)&&(n=o),(s<r||r!==r)&&(r=s),r<0?null:this.at(n>=0?n:r,t)))}},{key:"intersectsBox",value:function(e){return null!==this.intersectBox(e,Tr)}},{key:"intersectTriangle",value:function(e,t,n,r,i){Ir.subVectors(t,e),kr.subVectors(n,e),Or.crossVectors(Ir,kr);var a,o=this.direction.dot(Or);if(o>0){if(r)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}Rr.subVectors(this.origin,e);var s=a*this.direction.dot(kr.crossVectors(Rr,kr));if(s<0)return null;var u=a*this.direction.dot(Ir.cross(Rr));if(u<0)return null;if(s+u>o)return null;var l=-a*Rr.dot(Or);return l<0?null:this.at(l/o,i)}},{key:"applyMatrix4",value:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}},{key:"equals",value:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}}]),e}(),Pr=function(){function e(){Object(d.a)(this,e),Object.defineProperty(this,"isMatrix4",{value:!0}),this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}return Object(h.a)(e,[{key:"set",value:function(e,t,n,r,i,a,o,s,u,l,c,d,h,f,p,m){var v=this.elements;return v[0]=e,v[4]=t,v[8]=n,v[12]=r,v[1]=i,v[5]=a,v[9]=o,v[13]=s,v[2]=u,v[6]=l,v[10]=c,v[14]=d,v[3]=h,v[7]=f,v[11]=p,v[15]=m,this}},{key:"identity",value:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}},{key:"clone",value:function(){return(new e).fromArray(this.elements)}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}},{key:"copyPosition",value:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}},{key:"makeBasis",value:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}},{key:"extractRotation",value:function(e){var t=this.elements,n=e.elements,r=1/Br.setFromMatrixColumn(e,0).length(),i=1/Br.setFromMatrixColumn(e,1).length(),a=1/Br.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromEuler",value:function(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t=this.elements,n=e.x,r=e.y,i=e.z,a=Math.cos(n),o=Math.sin(n),s=Math.cos(r),u=Math.sin(r),l=Math.cos(i),c=Math.sin(i);if("XYZ"===e.order){var d=a*l,h=a*c,f=o*l,p=o*c;t[0]=s*l,t[4]=-s*c,t[8]=u,t[1]=h+f*u,t[5]=d-p*u,t[9]=-o*s,t[2]=p-d*u,t[6]=f+h*u,t[10]=a*s}else if("YXZ"===e.order){var m=s*l,v=s*c,g=u*l,y=u*c;t[0]=m+y*o,t[4]=g*o-v,t[8]=a*u,t[1]=a*c,t[5]=a*l,t[9]=-o,t[2]=v*o-g,t[6]=y+m*o,t[10]=a*s}else if("ZXY"===e.order){var b=s*l,_=s*c,x=u*l,w=u*c;t[0]=b-w*o,t[4]=-a*c,t[8]=x+_*o,t[1]=_+x*o,t[5]=a*l,t[9]=w-b*o,t[2]=-a*u,t[6]=o,t[10]=a*s}else if("ZYX"===e.order){var M=a*l,E=a*c,A=o*l,S=o*c;t[0]=s*l,t[4]=A*u-E,t[8]=M*u+S,t[1]=s*c,t[5]=S*u+M,t[9]=E*u-A,t[2]=-u,t[6]=o*s,t[10]=a*s}else if("YZX"===e.order){var T=a*s,C=a*u,D=o*s,R=o*u;t[0]=s*l,t[4]=R-T*c,t[8]=D*c+C,t[1]=c,t[5]=a*l,t[9]=-o*l,t[2]=-u*l,t[6]=C*c+D,t[10]=T-R*c}else if("XZY"===e.order){var I=a*s,k=a*u,O=o*s,L=o*u;t[0]=s*l,t[4]=-c,t[8]=u*l,t[1]=I*c+L,t[5]=a*l,t[9]=k*c-O,t[2]=O*c-k,t[6]=o*l,t[10]=L*c+I}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromQuaternion",value:function(e){return this.compose(Nr,e,Gr)}},{key:"lookAt",value:function(e,t,n){var r=this.elements;return zr.subVectors(e,t),0===zr.lengthSq()&&(zr.z=1),zr.normalize(),jr.crossVectors(n,zr),0===jr.lengthSq()&&(1===Math.abs(n.z)?zr.x+=1e-4:zr.z+=1e-4,zr.normalize(),jr.crossVectors(n,zr)),jr.normalize(),Ur.crossVectors(zr,jr),r[0]=jr.x,r[4]=Ur.x,r[8]=zr.x,r[1]=jr.y,r[5]=Ur.y,r[9]=zr.y,r[2]=jr.z,r[6]=Ur.z,r[10]=zr.z,this}},{key:"multiply",value:function(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[4],s=n[8],u=n[12],l=n[1],c=n[5],d=n[9],h=n[13],f=n[2],p=n[6],m=n[10],v=n[14],g=n[3],y=n[7],b=n[11],_=n[15],x=r[0],w=r[4],M=r[8],E=r[12],A=r[1],S=r[5],T=r[9],C=r[13],D=r[2],R=r[6],I=r[10],k=r[14],O=r[3],L=r[7],P=r[11],B=r[15];return i[0]=a*x+o*A+s*D+u*O,i[4]=a*w+o*S+s*R+u*L,i[8]=a*M+o*T+s*I+u*P,i[12]=a*E+o*C+s*k+u*B,i[1]=l*x+c*A+d*D+h*O,i[5]=l*w+c*S+d*R+h*L,i[9]=l*M+c*T+d*I+h*P,i[13]=l*E+c*C+d*k+h*B,i[2]=f*x+p*A+m*D+v*O,i[6]=f*w+p*S+m*R+v*L,i[10]=f*M+p*T+m*I+v*P,i[14]=f*E+p*C+m*k+v*B,i[3]=g*x+y*A+b*D+_*O,i[7]=g*w+y*S+b*R+_*L,i[11]=g*M+y*T+b*I+_*P,i[15]=g*E+y*C+b*k+_*B,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],a=e[1],o=e[5],s=e[9],u=e[13],l=e[2],c=e[6],d=e[10],h=e[14];return e[3]*(+i*s*c-r*u*c-i*o*d+n*u*d+r*o*h-n*s*h)+e[7]*(+t*s*h-t*u*d+i*a*d-r*a*h+r*u*l-i*s*l)+e[11]*(+t*u*c-t*o*h-i*a*c+n*a*h+i*o*l-n*u*l)+e[15]*(-r*o*l-t*s*c+t*o*d+r*a*c-n*a*d+n*s*l)}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}},{key:"setPosition",value:function(e,t,n){var r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}},{key:"getInverse",value:function(e,t){void 0!==t&&console.warn("THREE.Matrix4: .getInverse() can no longer be configured to throw on degenerate.");var n=this.elements,r=e.elements,i=r[0],a=r[1],o=r[2],s=r[3],u=r[4],l=r[5],c=r[6],d=r[7],h=r[8],f=r[9],p=r[10],m=r[11],v=r[12],g=r[13],y=r[14],b=r[15],_=f*y*d-g*p*d+g*c*m-l*y*m-f*c*b+l*p*b,x=v*p*d-h*y*d-v*c*m+u*y*m+h*c*b-u*p*b,w=h*g*d-v*f*d+v*l*m-u*g*m-h*l*b+u*f*b,M=v*f*c-h*g*c-v*l*p+u*g*p+h*l*y-u*f*y,E=i*_+a*x+o*w+s*M;if(0===E)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);var A=1/E;return n[0]=_*A,n[1]=(g*p*s-f*y*s-g*o*m+a*y*m+f*o*b-a*p*b)*A,n[2]=(l*y*s-g*c*s+g*o*d-a*y*d-l*o*b+a*c*b)*A,n[3]=(f*c*s-l*p*s-f*o*d+a*p*d+l*o*m-a*c*m)*A,n[4]=x*A,n[5]=(h*y*s-v*p*s+v*o*m-i*y*m-h*o*b+i*p*b)*A,n[6]=(v*c*s-u*y*s-v*o*d+i*y*d+u*o*b-i*c*b)*A,n[7]=(u*p*s-h*c*s+h*o*d-i*p*d-u*o*m+i*c*m)*A,n[8]=w*A,n[9]=(v*f*s-h*g*s-v*a*m+i*g*m+h*a*b-i*f*b)*A,n[10]=(u*g*s-v*l*s+v*a*d-i*g*d-u*a*b+i*l*b)*A,n[11]=(h*l*s-u*f*s-h*a*d+i*f*d+u*a*m-i*l*m)*A,n[12]=M*A,n[13]=(h*g*o-v*f*o+v*a*p-i*g*p-h*a*y+i*f*y)*A,n[14]=(v*l*o-u*g*o-v*a*c+i*g*c+u*a*y-i*l*y)*A,n[15]=(u*f*o-h*l*o+h*a*c-i*f*c-u*a*p+i*l*p)*A,this}},{key:"scale",value:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this}},{key:"getMaxScaleOnAxis",value:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}},{key:"makeTranslation",value:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}},{key:"makeRotationX",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}},{key:"makeRotationY",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}},{key:"makeRotationZ",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}},{key:"makeRotationAxis",value:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=1-n,a=e.x,o=e.y,s=e.z,u=i*a,l=i*o;return this.set(u*a+n,u*o-r*s,u*s+r*o,0,u*o+r*s,l*o+n,l*s-r*a,0,u*s-r*o,l*s+r*a,i*s*s+n,0,0,0,0,1),this}},{key:"makeScale",value:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}},{key:"makeShear",value:function(e,t,n){return this.set(1,t,n,0,e,1,n,0,e,t,1,0,0,0,0,1),this}},{key:"compose",value:function(e,t,n){var r=this.elements,i=t._x,a=t._y,o=t._z,s=t._w,u=i+i,l=a+a,c=o+o,d=i*u,h=i*l,f=i*c,p=a*l,m=a*c,v=o*c,g=s*u,y=s*l,b=s*c,_=n.x,x=n.y,w=n.z;return r[0]=(1-(p+v))*_,r[1]=(h+b)*_,r[2]=(f-y)*_,r[3]=0,r[4]=(h-b)*x,r[5]=(1-(d+v))*x,r[6]=(m+g)*x,r[7]=0,r[8]=(f+y)*w,r[9]=(m-g)*w,r[10]=(1-(d+p))*w,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}},{key:"decompose",value:function(e,t,n){var r=this.elements,i=Br.set(r[0],r[1],r[2]).length(),a=Br.set(r[4],r[5],r[6]).length(),o=Br.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],Fr.copy(this);var s=1/i,u=1/a,l=1/o;return Fr.elements[0]*=s,Fr.elements[1]*=s,Fr.elements[2]*=s,Fr.elements[4]*=u,Fr.elements[5]*=u,Fr.elements[6]*=u,Fr.elements[8]*=l,Fr.elements[9]*=l,Fr.elements[10]*=l,t.setFromRotationMatrix(Fr),n.x=i,n.y=a,n.z=o,this}},{key:"makePerspective",value:function(e,t,n,r,i,a){void 0===a&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var o=this.elements,s=2*i/(t-e),u=2*i/(n-r),l=(t+e)/(t-e),c=(n+r)/(n-r),d=-(a+i)/(a-i),h=-2*a*i/(a-i);return o[0]=s,o[4]=0,o[8]=l,o[12]=0,o[1]=0,o[5]=u,o[9]=c,o[13]=0,o[2]=0,o[6]=0,o[10]=d,o[14]=h,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this}},{key:"makeOrthographic",value:function(e,t,n,r,i,a){var o=this.elements,s=1/(t-e),u=1/(n-r),l=1/(a-i),c=(t+e)*s,d=(n+r)*u,h=(a+i)*l;return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-c,o[1]=0,o[5]=2*u,o[9]=0,o[13]=-d,o[2]=0,o[6]=0,o[10]=-2*l,o[14]=-h,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e,t){void 0===t&&(t=0);for(var n=0;n<16;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}]),e}(),Br=new sr,Fr=new Pr,Nr=new sr(0,0,0),Gr=new sr(1,1,1),jr=new sr,Ur=new sr,zr=new sr,Vr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.DefaultOrder;Object(d.a)(this,e),Object.defineProperty(this,"isEuler",{value:!0}),this._x=t,this._y=n,this._z=r,this._order=i}return Object(h.a)(e,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"order",get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._order=r||this._order,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._order)}},{key:"copy",value:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e,t,n){var r=Kn.clamp,i=e.elements,a=i[0],o=i[4],s=i[8],u=i[1],l=i[5],c=i[9],d=i[2],h=i[6],f=i[10];switch(t=t||this._order){case"XYZ":this._y=Math.asin(r(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-c,f),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(h,l),this._z=0);break;case"YXZ":this._x=Math.asin(-r(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(s,f),this._z=Math.atan2(u,l)):(this._y=Math.atan2(-d,a),this._z=0);break;case"ZXY":this._x=Math.asin(r(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-d,f),this._z=Math.atan2(-o,l)):(this._y=0,this._z=Math.atan2(u,a));break;case"ZYX":this._y=Math.asin(-r(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(h,f),this._z=Math.atan2(u,a)):(this._x=0,this._z=Math.atan2(-o,l));break;case"YZX":this._z=Math.asin(r(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-c,l),this._y=Math.atan2(-d,a)):(this._x=0,this._y=Math.atan2(s,f));break;case"XZY":this._z=Math.asin(-r(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(h,l),this._y=Math.atan2(s,a)):(this._x=Math.atan2(-c,f),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!1!==n&&this._onChangeCallback(),this}},{key:"setFromQuaternion",value:function(e,t,n){return Hr.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Hr,t,n)}},{key:"setFromVector3",value:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)}},{key:"reorder",value:function(e){return Wr.setFromEuler(this),this.setFromQuaternion(Wr,e)}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}},{key:"fromArray",value:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}},{key:"toArray",value:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}},{key:"toVector3",value:function(e){return e?e.set(this._x,this._y,this._z):new sr(this._x,this._y,this._z)}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}}]),e}();Vr.DefaultOrder="XYZ",Vr.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];var Hr=new Pr,Wr=new or,Xr=function(){function e(){Object(d.a)(this,e),this.mask=1}return Object(h.a)(e,[{key:"set",value:function(e){this.mask=1<<e|0}},{key:"enable",value:function(e){this.mask|=1<<e|0}},{key:"enableAll",value:function(){this.mask=-1}},{key:"toggle",value:function(e){this.mask^=1<<e|0}},{key:"disable",value:function(e){this.mask&=~(1<<e|0)}},{key:"disableAll",value:function(){this.mask=0}},{key:"test",value:function(e){return 0!==(this.mask&e.mask)}}]),e}(),qr=0,Yr=new sr,Qr=new or,Zr=new Pr,Kr=new sr,Jr=new sr,$r=new sr,ei=new or,ti=new sr(1,0,0),ni=new sr(0,1,0),ri=new sr(0,0,1),ii={type:"added"},ai={type:"removed"};function oi(){Object.defineProperty(this,"id",{value:qr++}),this.uuid=Kn.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=oi.DefaultUp.clone();var e=new sr,t=new Vr,n=new or,r=new sr(1,1,1);t._onChange((function(){n.setFromEuler(t,!1)})),n._onChange((function(){t.setFromQuaternion(n,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Pr},normalMatrix:{value:new $n}}),this.matrix=new Pr,this.matrixWorld=new Pr,this.matrixAutoUpdate=oi.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Xr,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}oi.DefaultUp=new sr(0,1,0),oi.DefaultMatrixAutoUpdate=!0,oi.prototype=Object.assign(Object.create(Xn.prototype),{constructor:oi,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(e,t){return Qr.setFromAxisAngle(e,t),this.quaternion.multiply(Qr),this},rotateOnWorldAxis:function(e,t){return Qr.setFromAxisAngle(e,t),this.quaternion.premultiply(Qr),this},rotateX:function(e){return this.rotateOnAxis(ti,e)},rotateY:function(e){return this.rotateOnAxis(ni,e)},rotateZ:function(e){return this.rotateOnAxis(ri,e)},translateOnAxis:function(e,t){return Yr.copy(e).applyQuaternion(this.quaternion),this.position.add(Yr.multiplyScalar(t)),this},translateX:function(e){return this.translateOnAxis(ti,e)},translateY:function(e){return this.translateOnAxis(ni,e)},translateZ:function(e){return this.translateOnAxis(ri,e)},localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(e){return e.applyMatrix4(Zr.getInverse(this.matrixWorld))},lookAt:function(e,t,n){e.isVector3?Kr.copy(e):Kr.set(e,t,n);var r=this.parent;this.updateWorldMatrix(!0,!1),Jr.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Zr.lookAt(Jr,Kr,this.up):Zr.lookAt(Kr,Jr,this.up),this.quaternion.setFromRotationMatrix(Zr),r&&(Zr.extractRotation(r.matrixWorld),Qr.setFromRotationMatrix(Zr),this.quaternion.premultiply(Qr.inverse()))},add:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(ii)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)},remove:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var n=this.children.indexOf(e);return-1!==n&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(ai)),this},attach:function(e){return this.updateWorldMatrix(!0,!1),Zr.getInverse(this.matrixWorld),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),Zr.multiply(e.parent.matrixWorld)),e.applyMatrix4(Zr),e.updateWorldMatrix(!1,!1),this.add(e),this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n].getObjectByProperty(e,t);if(void 0!==i)return i}},getWorldPosition:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),e=new sr),this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),e=new or),this.updateMatrixWorld(!0),this.matrixWorld.decompose(Jr,e,$r),e},getWorldScale:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),e=new sr),this.updateMatrixWorld(!0),this.matrixWorld.decompose(Jr,ei,e),e},getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),e=new sr),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()},raycast:function(){},traverse:function(e){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverse(e)},traverseVisible:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}},traverseAncestors:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].updateMatrixWorld(e)},updateWorldMatrix:function(e,t){var n=this.parent;if(!0===e&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t)for(var r=this.children,i=0,a=r.length;i<a;i++)r[i].updateWorldMatrix(!1,!0)},toJSON:function(e){var t=void 0===e||"string"===typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var r={};function i(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON()),this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);var a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes){var o=a.shapes;if(Array.isArray(o))for(var s=0,u=o.length;s<u;s++){var l=o[s];i(e.shapes,l)}else i(e.shapes,o)}}if(void 0!==this.material)if(Array.isArray(this.material)){for(var c=[],d=0,h=this.material.length;d<h;d++)c.push(i(e.materials,this.material[d]));r.material=c}else r.material=i(e.materials,this.material);if(this.children.length>0){r.children=[];for(var f=0;f<this.children.length;f++)r.children.push(this.children[f].toJSON(e).object)}if(t){var p=b(e.geometries),m=b(e.materials),v=b(e.textures),g=b(e.images),y=b(e.shapes);p.length>0&&(n.geometries=p),m.length>0&&(n.materials=m),v.length>0&&(n.textures=v),g.length>0&&(n.images=g),y.length>0&&(n.shapes=y)}return n.object=r,n;function b(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}},clone:function(e){return(new this.constructor).copy(this,e)},copy:function(e,t){if(void 0===t&&(t=!0),this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var n=0;n<e.children.length;n++){var r=e.children[n];this.add(r.clone())}return this}});var si=new sr,ui=new sr,li=new $n,ci=function(){function e(t,n){Object(d.a)(this,e),Object.defineProperty(this,"isPlane",{value:!0}),this.normal=void 0!==t?t:new sr(1,0,0),this.constant=void 0!==n?n:0}return Object(h.a)(e,[{key:"set",value:function(e,t){return this.normal.copy(e),this.constant=t,this}},{key:"setComponents",value:function(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}},{key:"setFromNormalAndCoplanarPoint",value:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}},{key:"setFromCoplanarPoints",value:function(e,t,n){var r=si.subVectors(n,t).cross(ui.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this}},{key:"normalize",value:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}},{key:"negate",value:function(){return this.constant*=-1,this.normal.negate(),this}},{key:"distanceToPoint",value:function(e){return this.normal.dot(e)+this.constant}},{key:"distanceToSphere",value:function(e){return this.distanceToPoint(e.center)-e.radius}},{key:"projectPoint",value:function(e,t){return void 0===t&&(console.warn("THREE.Plane: .projectPoint() target is now required"),t=new sr),t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}},{key:"intersectLine",value:function(e,t){void 0===t&&(console.warn("THREE.Plane: .intersectLine() target is now required"),t=new sr);var n=e.delta(si),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):void 0;var i=-(e.start.dot(this.normal)+this.constant)/r;return i<0||i>1?void 0:t.copy(n).multiplyScalar(i).add(e.start)}},{key:"intersectsLine",value:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}},{key:"intersectsBox",value:function(e){return e.intersectsPlane(this)}},{key:"intersectsSphere",value:function(e){return e.intersectsPlane(this)}},{key:"coplanarPoint",value:function(e){return void 0===e&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),e=new sr),e.copy(this.normal).multiplyScalar(-this.constant)}},{key:"applyMatrix4",value:function(e,t){var n=t||li.getNormalMatrix(e),r=this.coplanarPoint(si).applyMatrix4(e),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this}},{key:"translate",value:function(e){return this.constant-=e.dot(this.normal),this}},{key:"equals",value:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}}]),e}(),di=new sr,hi=new sr,fi=new sr,pi=new sr,mi=new sr,vi=new sr,gi=new sr,yi=new sr,bi=new sr,_i=new sr,xi=function(){function e(t,n,r){Object(d.a)(this,e),this.a=void 0!==t?t:new sr,this.b=void 0!==n?n:new sr,this.c=void 0!==r?r:new sr}return Object(h.a)(e,[{key:"set",value:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}},{key:"setFromPointsAndIndices",value:function(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}},{key:"getArea",value:function(){return di.subVectors(this.c,this.b),hi.subVectors(this.a,this.b),.5*di.cross(hi).length()}},{key:"getMidpoint",value:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),e=new sr),e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}},{key:"getNormal",value:function(t){return e.getNormal(this.a,this.b,this.c,t)}},{key:"getPlane",value:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getPlane() target is now required"),e=new ci),e.setFromCoplanarPoints(this.a,this.b,this.c)}},{key:"getBarycoord",value:function(t,n){return e.getBarycoord(t,this.a,this.b,this.c,n)}},{key:"getUV",value:function(t,n,r,i,a){return e.getUV(t,this.a,this.b,this.c,n,r,i,a)}},{key:"containsPoint",value:function(t){return e.containsPoint(t,this.a,this.b,this.c)}},{key:"isFrontFacing",value:function(t){return e.isFrontFacing(this.a,this.b,this.c,t)}},{key:"intersectsBox",value:function(e){return e.intersectsTriangle(this)}},{key:"closestPointToPoint",value:function(e,t){void 0===t&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),t=new sr);var n,r,i=this.a,a=this.b,o=this.c;mi.subVectors(a,i),vi.subVectors(o,i),yi.subVectors(e,i);var s=mi.dot(yi),u=vi.dot(yi);if(s<=0&&u<=0)return t.copy(i);bi.subVectors(e,a);var l=mi.dot(bi),c=vi.dot(bi);if(l>=0&&c<=l)return t.copy(a);var d=s*c-l*u;if(d<=0&&s>=0&&l<=0)return n=s/(s-l),t.copy(i).addScaledVector(mi,n);_i.subVectors(e,o);var h=mi.dot(_i),f=vi.dot(_i);if(f>=0&&h<=f)return t.copy(o);var p=h*u-s*f;if(p<=0&&u>=0&&f<=0)return r=u/(u-f),t.copy(i).addScaledVector(vi,r);var m=l*f-h*c;if(m<=0&&c-l>=0&&h-f>=0)return gi.subVectors(o,a),r=(c-l)/(c-l+(h-f)),t.copy(a).addScaledVector(gi,r);var v=1/(m+p+d);return n=p*v,r=d*v,t.copy(i).addScaledVector(mi,n).addScaledVector(vi,r)}},{key:"equals",value:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}],[{key:"getNormal",value:function(e,t,n,r){void 0===r&&(console.warn("THREE.Triangle: .getNormal() target is now required"),r=new sr),r.subVectors(n,t),di.subVectors(e,t),r.cross(di);var i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)}},{key:"getBarycoord",value:function(e,t,n,r,i){di.subVectors(r,t),hi.subVectors(n,t),fi.subVectors(e,t);var a=di.dot(di),o=di.dot(hi),s=di.dot(fi),u=hi.dot(hi),l=hi.dot(fi),c=a*u-o*o;if(void 0===i&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),i=new sr),0===c)return i.set(-2,-1,-1);var d=1/c,h=(u*s-o*l)*d,f=(a*l-o*s)*d;return i.set(1-h-f,f,h)}},{key:"containsPoint",value:function(e,t,n,r){return this.getBarycoord(e,t,n,r,pi),pi.x>=0&&pi.y>=0&&pi.x+pi.y<=1}},{key:"getUV",value:function(e,t,n,r,i,a,o,s){return this.getBarycoord(e,t,n,r,pi),s.set(0,0),s.addScaledVector(i,pi.x),s.addScaledVector(a,pi.y),s.addScaledVector(o,pi.z),s}},{key:"isFrontFacing",value:function(e,t,n,r){return di.subVectors(n,t),hi.subVectors(e,t),di.cross(hi).dot(r)<0}}]),e}(),wi={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Mi={h:0,s:0,l:0},Ei={h:0,s:0,l:0};function Ai(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}function Si(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function Ti(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}var Ci=function(){function e(t,n,r){return Object(d.a)(this,e),Object.defineProperty(this,"isColor",{value:!0}),void 0===n&&void 0===r?this.set(t):this.setRGB(t,n,r)}return Object(h.a)(e,[{key:"set",value:function(e){return e&&e.isColor?this.copy(e):"number"===typeof e?this.setHex(e):"string"===typeof e&&this.setStyle(e),this}},{key:"setScalar",value:function(e){return this.r=e,this.g=e,this.b=e,this}},{key:"setHex",value:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this}},{key:"setRGB",value:function(e,t,n){return this.r=e,this.g=t,this.b=n,this}},{key:"setHSL",value:function(e,t,n){if(e=Kn.euclideanModulo(e,1),t=Kn.clamp(t,0,1),n=Kn.clamp(n,0,1),0===t)this.r=this.g=this.b=n;else{var r=n<=.5?n*(1+t):n+t-n*t,i=2*n-r;this.r=Ai(i,r,e+1/3),this.g=Ai(i,r,e),this.b=Ai(i,r,e-1/3)}return this}},{key:"setStyle",value:function(e){function t(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){var r,i=n[1],a=n[2];switch(i){case"rgb":case"rgba":if(r=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,t(r[5]),this;if(r=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,t(r[5]),this;break;case"hsl":case"hsla":if(r=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a)){var o=parseFloat(r[1])/360,s=parseInt(r[2],10)/100,u=parseInt(r[3],10)/100;return t(r[5]),this.setHSL(o,s,u)}}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(e)){var l=n[1],c=l.length;if(3===c)return this.r=parseInt(l.charAt(0)+l.charAt(0),16)/255,this.g=parseInt(l.charAt(1)+l.charAt(1),16)/255,this.b=parseInt(l.charAt(2)+l.charAt(2),16)/255,this;if(6===c)return this.r=parseInt(l.charAt(0)+l.charAt(1),16)/255,this.g=parseInt(l.charAt(2)+l.charAt(3),16)/255,this.b=parseInt(l.charAt(4)+l.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this}},{key:"setColorName",value:function(e){var t=wi[e];return void 0!==t?this.setHex(t):console.warn("THREE.Color: Unknown color "+e),this}},{key:"clone",value:function(){return new this.constructor(this.r,this.g,this.b)}},{key:"copy",value:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}},{key:"copyGammaToLinear",value:function(e,t){return void 0===t&&(t=2),this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this}},{key:"copyLinearToGamma",value:function(e,t){void 0===t&&(t=2);var n=t>0?1/t:1;return this.r=Math.pow(e.r,n),this.g=Math.pow(e.g,n),this.b=Math.pow(e.b,n),this}},{key:"convertGammaToLinear",value:function(e){return this.copyGammaToLinear(this,e),this}},{key:"convertLinearToGamma",value:function(e){return this.copyLinearToGamma(this,e),this}},{key:"copySRGBToLinear",value:function(e){return this.r=Si(e.r),this.g=Si(e.g),this.b=Si(e.b),this}},{key:"copyLinearToSRGB",value:function(e){return this.r=Ti(e.r),this.g=Ti(e.g),this.b=Ti(e.b),this}},{key:"convertSRGBToLinear",value:function(){return this.copySRGBToLinear(this),this}},{key:"convertLinearToSRGB",value:function(){return this.copyLinearToSRGB(this),this}},{key:"getHex",value:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0}},{key:"getHexString",value:function(){return("000000"+this.getHex().toString(16)).slice(-6)}},{key:"getHSL",value:function(e){void 0===e&&(console.warn("THREE.Color: .getHSL() target is now required"),e={h:0,s:0,l:0});var t,n,r=this.r,i=this.g,a=this.b,o=Math.max(r,i,a),s=Math.min(r,i,a),u=(s+o)/2;if(s===o)t=0,n=0;else{var l=o-s;switch(n=u<=.5?l/(o+s):l/(2-o-s),o){case r:t=(i-a)/l+(i<a?6:0);break;case i:t=(a-r)/l+2;break;case a:t=(r-i)/l+4}t/=6}return e.h=t,e.s=n,e.l=u,e}},{key:"getStyle",value:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"}},{key:"offsetHSL",value:function(e,t,n){return this.getHSL(Mi),Mi.h+=e,Mi.s+=t,Mi.l+=n,this.setHSL(Mi.h,Mi.s,Mi.l),this}},{key:"add",value:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}},{key:"addColors",value:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}},{key:"addScalar",value:function(e){return this.r+=e,this.g+=e,this.b+=e,this}},{key:"sub",value:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}},{key:"multiply",value:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}},{key:"multiplyScalar",value:function(e){return this.r*=e,this.g*=e,this.b*=e,this}},{key:"lerp",value:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}},{key:"lerpHSL",value:function(e,t){this.getHSL(Mi),e.getHSL(Ei);var n=Kn.lerp(Mi.h,Ei.h,t),r=Kn.lerp(Mi.s,Ei.s,t),i=Kn.lerp(Mi.l,Ei.l,t);return this.setHSL(n,r,i),this}},{key:"equals",value:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}},{key:"fromArray",value:function(e,t){return void 0===t&&(t=0),this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}},{key:"toArray",value:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}},{key:"fromBufferAttribute",value:function(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),!0===e.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}},{key:"toJSON",value:function(){return this.getHex()}}]),e}();Ci.NAMES=wi,Ci.prototype.r=1,Ci.prototype.g=1,Ci.prototype.b=1;var Di=function(){function e(t,n,r,i,a,o){Object(d.a)(this,e),this.a=t,this.b=n,this.c=r,this.normal=i&&i.isVector3?i:new sr,this.vertexNormals=Array.isArray(i)?i:[],this.color=a&&a.isColor?a:new Ci,this.vertexColors=Array.isArray(a)?a:[],this.materialIndex=void 0!==o?o:0}return Object(h.a)(e,[{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(var t=0,n=e.vertexNormals.length;t<n;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(var r=0,i=e.vertexColors.length;r<i;r++)this.vertexColors[r]=e.vertexColors[r].clone();return this}}]),e}(),Ri=0;function Ii(){Object.defineProperty(this,"id",{value:Ri++}),this.uuid=Kn.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=R,this.side=E,this.flatShading=!1,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=H,this.blendDst=W,this.blendEquation=P,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=ee,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=Ln,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=_n,this.stencilZFail=_n,this.stencilZPass=_n,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}function ki(e){Ii.call(this),this.type="MeshBasicMaterial",this.color=new Ci(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ae,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(e)}Ii.prototype=Object.assign(Object.create(Xn.prototype),{constructor:Ii,isMaterial:!0,onBeforeCompile:function(){},customProgramCacheKey:function(){return this.onBeforeCompile.toString()},setValues:function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0!==n)if("shading"!==t){var r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===T;else console.warn("THREE.Material: '"+t+"' parameter is undefined.")}},toJSON:function(e){var t=void 0===e||"string"===typeof e;t&&(e={textures:{},images:{}});var n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(n.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,n.reflectivity=this.reflectivity,n.refractionRatio=this.refractionRatio,void 0!==this.combine&&(n.combine=this.combine),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.size&&(n.size=this.size),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==R&&(n.blending=this.blending),!0===this.flatShading&&(n.flatShading=this.flatShading),this.side!==E&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(n.morphTargets=!0),!0===this.morphNormals&&(n.morphNormals=!0),!0===this.skinning&&(n.skinning=!0),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),t){var i=r(e.textures),a=r(e.images);i.length>0&&(n.textures=i),a.length>0&&(n.images=a)}return n},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;var t=e.clippingPlanes,n=null;if(null!==t){var r=t.length;n=new Array(r);for(var i=0;i!==r;++i)n[i]=t[i].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(Ii.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),ki.prototype=Object.create(Ii.prototype),ki.prototype.constructor=ki,ki.prototype.isMeshBasicMaterial=!0,ki.prototype.copy=function(e){return Ii.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this};var Oi=new sr,Li=new Jn;function Pi(e,t,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===n,this.usage=Pn,this.updateRange={offset:0,count:-1},this.version=0}function Bi(e,t,n){Pi.call(this,new Int8Array(e),t,n)}function Fi(e,t,n){Pi.call(this,new Uint8Array(e),t,n)}function Ni(e,t,n){Pi.call(this,new Uint8ClampedArray(e),t,n)}function Gi(e,t,n){Pi.call(this,new Int16Array(e),t,n)}function ji(e,t,n){Pi.call(this,new Uint16Array(e),t,n)}function Ui(e,t,n){Pi.call(this,new Int32Array(e),t,n)}function zi(e,t,n){Pi.call(this,new Uint32Array(e),t,n)}function Vi(e,t,n){Pi.call(this,new Float32Array(e),t,n)}function Hi(e,t,n){Pi.call(this,new Float64Array(e),t,n)}Object.defineProperty(Pi.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(Pi.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this},copyAt:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var a=e[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),a=new Ci),t[n++]=a.r,t[n++]=a.g,t[n++]=a.b}return this},copyVector2sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var a=e[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),a=new Jn),t[n++]=a.x,t[n++]=a.y}return this},copyVector3sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var a=e[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),a=new sr),t[n++]=a.x,t[n++]=a.y,t[n++]=a.z}return this},copyVector4sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var a=e[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),a=new rr),t[n++]=a.x,t[n++]=a.y,t[n++]=a.z,t[n++]=a.w}return this},applyMatrix3:function(e){if(2===this.itemSize)for(var t=0,n=this.count;t<n;t++)Li.fromBufferAttribute(this,t),Li.applyMatrix3(e),this.setXY(t,Li.x,Li.y);else if(3===this.itemSize)for(var r=0,i=this.count;r<i;r++)Oi.fromBufferAttribute(this,r),Oi.applyMatrix3(e),this.setXYZ(r,Oi.x,Oi.y,Oi.z);return this},applyMatrix4:function(e){for(var t=0,n=this.count;t<n;t++)Oi.x=this.getX(t),Oi.y=this.getY(t),Oi.z=this.getZ(t),Oi.applyMatrix4(e),this.setXYZ(t,Oi.x,Oi.y,Oi.z);return this},applyNormalMatrix:function(e){for(var t=0,n=this.count;t<n;t++)Oi.x=this.getX(t),Oi.y=this.getY(t),Oi.z=this.getZ(t),Oi.applyNormalMatrix(e),this.setXYZ(t,Oi.x,Oi.y,Oi.z);return this},transformDirection:function(e){for(var t=0,n=this.count;t<n;t++)Oi.x=this.getX(t),Oi.y=this.getY(t),Oi.z=this.getZ(t),Oi.transformDirection(e),this.setXYZ(t,Oi.x,Oi.y,Oi.z);return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this},setXYZW:function(e,t,n,r,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}}),Bi.prototype=Object.create(Pi.prototype),Bi.prototype.constructor=Bi,Fi.prototype=Object.create(Pi.prototype),Fi.prototype.constructor=Fi,Ni.prototype=Object.create(Pi.prototype),Ni.prototype.constructor=Ni,Gi.prototype=Object.create(Pi.prototype),Gi.prototype.constructor=Gi,ji.prototype=Object.create(Pi.prototype),ji.prototype.constructor=ji,Ui.prototype=Object.create(Pi.prototype),Ui.prototype.constructor=Ui,zi.prototype=Object.create(Pi.prototype),zi.prototype.constructor=zi,Vi.prototype=Object.create(Pi.prototype),Vi.prototype.constructor=Vi,Hi.prototype=Object.create(Pi.prototype),Hi.prototype.constructor=Hi;var Wi=function(){function e(){Object(d.a)(this,e),this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}return Object(h.a)(e,[{key:"computeGroups",value:function(e){var t,n,r=[],i=void 0,a=e.faces;for(n=0;n<a.length;n++){var o=a[n];o.materialIndex!==i&&(i=o.materialIndex,void 0!==t&&(t.count=3*n-t.start,r.push(t)),t={start:3*n,materialIndex:i})}void 0!==t&&(t.count=3*n-t.start,r.push(t)),this.groups=r}},{key:"fromGeometry",value:function(e){var t,n=e.faces,r=e.vertices,i=e.faceVertexUvs,a=i[0]&&i[0].length>0,o=i[1]&&i[1].length>0,s=e.morphTargets,u=s.length;if(u>0){t=[];for(var l=0;l<u;l++)t[l]={name:s[l].name,data:[]};this.morphTargets.position=t}var c,d=e.morphNormals,h=d.length;if(h>0){c=[];for(var f=0;f<h;f++)c[f]={name:d[f].name,data:[]};this.morphTargets.normal=c}var p=e.skinIndices,m=e.skinWeights,v=p.length===r.length,g=m.length===r.length;r.length>0&&0===n.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(var y=0;y<n.length;y++){var b=n[y];this.vertices.push(r[b.a],r[b.b],r[b.c]);var _=b.vertexNormals;if(3===_.length)this.normals.push(_[0],_[1],_[2]);else{var x=b.normal;this.normals.push(x,x,x)}var w=b.vertexColors;if(3===w.length)this.colors.push(w[0],w[1],w[2]);else{var M=b.color;this.colors.push(M,M,M)}if(!0===a){var E=i[0][y];void 0!==E?this.uvs.push(E[0],E[1],E[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",y),this.uvs.push(new Jn,new Jn,new Jn))}if(!0===o){var A=i[1][y];void 0!==A?this.uvs2.push(A[0],A[1],A[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",y),this.uvs2.push(new Jn,new Jn,new Jn))}for(var S=0;S<u;S++){var T=s[S].vertices;t[S].data.push(T[b.a],T[b.b],T[b.c])}for(var C=0;C<h;C++){var D=d[C].vertexNormals[y];c[C].data.push(D.a,D.b,D.c)}v&&this.skinIndices.push(p[b.a],p[b.b],p[b.c]),g&&this.skinWeights.push(m[b.a],m[b.b],m[b.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this}}]),e}();function Xi(e){if(0===e.length)return-1/0;for(var t=e[0],n=1,r=e.length;n<r;++n)e[n]>t&&(t=e[n]);return t}var qi=1,Yi=new Pr,Qi=new oi,Zi=new sr,Ki=new cr,Ji=new cr,$i=new sr;function ea(){Object.defineProperty(this,"id",{value:qi+=2}),this.uuid=Kn.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}ea.prototype=Object.assign(Object.create(Xn.prototype),{constructor:ea,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){Array.isArray(e)?this.index=new(Xi(e)>65535?zi:ji)(e,1):this.index=e},getAttribute:function(e){return this.attributes[e]},setAttribute:function(e,t){return this.attributes[e]=t,this},deleteAttribute:function(e){return delete this.attributes[e],this},addGroup:function(e,t,n){this.groups.push({start:e,count:t,materialIndex:void 0!==n?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix4:function(e){var t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){var r=(new $n).getNormalMatrix(e);n.applyNormalMatrix(r),n.needsUpdate=!0}var i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(e),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(e){return Yi.makeRotationX(e),this.applyMatrix4(Yi),this},rotateY:function(e){return Yi.makeRotationY(e),this.applyMatrix4(Yi),this},rotateZ:function(e){return Yi.makeRotationZ(e),this.applyMatrix4(Yi),this},translate:function(e,t,n){return Yi.makeTranslation(e,t,n),this.applyMatrix4(Yi),this},scale:function(e,t,n){return Yi.makeScale(e,t,n),this.applyMatrix4(Yi),this},lookAt:function(e){return Qi.lookAt(e),Qi.updateMatrix(),this.applyMatrix4(Qi.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Zi).negate(),this.translate(Zi.x,Zi.y,Zi.z),this},setFromObject:function(e){var t=e.geometry;if(e.isPoints||e.isLine){var n=new Vi(3*t.vertices.length,3),r=new Vi(3*t.colors.length,3);if(this.setAttribute("position",n.copyVector3sArray(t.vertices)),this.setAttribute("color",r.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length){var i=new Vi(t.lineDistances.length,1);this.setAttribute("lineDistance",i.copyArray(t.lineDistances))}null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone())}else e.isMesh&&t&&t.isGeometry&&this.fromGeometry(t);return this},setFromPoints:function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];t.push(i.x,i.y,i.z||0)}return this.setAttribute("position",new Vi(t,3)),this},updateFromObject:function(e){var t=e.geometry;if(e.isMesh){var n=t.__directGeometry;if(!0===t.elementsNeedUpdate&&(n=void 0,t.elementsNeedUpdate=!1),void 0===n)return this.fromGeometry(t);n.verticesNeedUpdate=t.verticesNeedUpdate,n.normalsNeedUpdate=t.normalsNeedUpdate,n.colorsNeedUpdate=t.colorsNeedUpdate,n.uvsNeedUpdate=t.uvsNeedUpdate,n.groupsNeedUpdate=t.groupsNeedUpdate,t.verticesNeedUpdate=!1,t.normalsNeedUpdate=!1,t.colorsNeedUpdate=!1,t.uvsNeedUpdate=!1,t.groupsNeedUpdate=!1,t=n}if(!0===t.verticesNeedUpdate){var r=this.attributes.position;void 0!==r&&(r.copyVector3sArray(t.vertices),r.needsUpdate=!0),t.verticesNeedUpdate=!1}if(!0===t.normalsNeedUpdate){var i=this.attributes.normal;void 0!==i&&(i.copyVector3sArray(t.normals),i.needsUpdate=!0),t.normalsNeedUpdate=!1}if(!0===t.colorsNeedUpdate){var a=this.attributes.color;void 0!==a&&(a.copyColorsArray(t.colors),a.needsUpdate=!0),t.colorsNeedUpdate=!1}if(t.uvsNeedUpdate){var o=this.attributes.uv;void 0!==o&&(o.copyVector2sArray(t.uvs),o.needsUpdate=!0),t.uvsNeedUpdate=!1}if(t.lineDistancesNeedUpdate){var s=this.attributes.lineDistance;void 0!==s&&(s.copyArray(t.lineDistances),s.needsUpdate=!0),t.lineDistancesNeedUpdate=!1}return t.groupsNeedUpdate&&(t.computeGroups(e.geometry),this.groups=t.groups,t.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=(new Wi).fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){var t=new Float32Array(3*e.vertices.length);if(this.setAttribute("position",new Pi(t,3).copyVector3sArray(e.vertices)),e.normals.length>0){var n=new Float32Array(3*e.normals.length);this.setAttribute("normal",new Pi(n,3).copyVector3sArray(e.normals))}if(e.colors.length>0){var r=new Float32Array(3*e.colors.length);this.setAttribute("color",new Pi(r,3).copyColorsArray(e.colors))}if(e.uvs.length>0){var i=new Float32Array(2*e.uvs.length);this.setAttribute("uv",new Pi(i,2).copyVector2sArray(e.uvs))}if(e.uvs2.length>0){var a=new Float32Array(2*e.uvs2.length);this.setAttribute("uv2",new Pi(a,2).copyVector2sArray(e.uvs2))}for(var o in this.groups=e.groups,e.morphTargets){for(var s=[],u=e.morphTargets[o],l=0,c=u.length;l<c;l++){var d=u[l],h=new Vi(3*d.data.length,3);h.name=d.name,s.push(h.copyVector3sArray(d.data))}this.morphAttributes[o]=s}if(e.skinIndices.length>0){var f=new Vi(4*e.skinIndices.length,4);this.setAttribute("skinIndex",f.copyVector4sArray(e.skinIndices))}if(e.skinWeights.length>0){var p=new Vi(4*e.skinWeights.length,4);this.setAttribute("skinWeight",p.copyVector4sArray(e.skinWeights))}return null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new cr);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new sr(-1/0,-1/0,-1/0),new sr(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(var n=0,r=t.length;n<r;n++){var i=t[n];Ki.setFromBufferAttribute(i),this.morphTargetsRelative?($i.addVectors(this.boundingBox.min,Ki.min),this.boundingBox.expandByPoint($i),$i.addVectors(this.boundingBox.max,Ki.max),this.boundingBox.expandByPoint($i)):(this.boundingBox.expandByPoint(Ki.min),this.boundingBox.expandByPoint(Ki.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new Sr);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new sr,1/0);if(e){var n=this.boundingSphere.center;if(Ki.setFromBufferAttribute(e),t)for(var r=0,i=t.length;r<i;r++){var a=t[r];Ji.setFromBufferAttribute(a),this.morphTargetsRelative?($i.addVectors(Ki.min,Ji.min),Ki.expandByPoint($i),$i.addVectors(Ki.max,Ji.max),Ki.expandByPoint($i)):(Ki.expandByPoint(Ji.min),Ki.expandByPoint(Ji.max))}Ki.getCenter(n);for(var o=0,s=0,u=e.count;s<u;s++)$i.fromBufferAttribute(e,s),o=Math.max(o,n.distanceToSquared($i));if(t)for(var l=0,c=t.length;l<c;l++)for(var d=t[l],h=this.morphTargetsRelative,f=0,p=d.count;f<p;f++)$i.fromBufferAttribute(d,f),h&&(Zi.fromBufferAttribute(e,f),$i.add(Zi)),o=Math.max(o,n.distanceToSquared($i));this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeVertexNormals:function(){var e=this.index,t=this.getAttribute("position");if(void 0!==t){var n=this.getAttribute("normal");if(void 0===n)n=new Pi(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(var r=0,i=n.count;r<i;r++)n.setXYZ(r,0,0,0);var a=new sr,o=new sr,s=new sr,u=new sr,l=new sr,c=new sr,d=new sr,h=new sr;if(e)for(var f=0,p=e.count;f<p;f+=3){var m=e.getX(f+0),v=e.getX(f+1),g=e.getX(f+2);a.fromBufferAttribute(t,m),o.fromBufferAttribute(t,v),s.fromBufferAttribute(t,g),d.subVectors(s,o),h.subVectors(a,o),d.cross(h),u.fromBufferAttribute(n,m),l.fromBufferAttribute(n,v),c.fromBufferAttribute(n,g),u.add(d),l.add(d),c.add(d),n.setXYZ(m,u.x,u.y,u.z),n.setXYZ(v,l.x,l.y,l.z),n.setXYZ(g,c.x,c.y,c.z)}else for(var y=0,b=t.count;y<b;y+=3)a.fromBufferAttribute(t,y+0),o.fromBufferAttribute(t,y+1),s.fromBufferAttribute(t,y+2),d.subVectors(s,o),h.subVectors(a,o),d.cross(h),n.setXYZ(y+0,d.x,d.y,d.z),n.setXYZ(y+1,d.x,d.y,d.z),n.setXYZ(y+2,d.x,d.y,d.z);this.normalizeNormals(),n.needsUpdate=!0}},merge:function(e,t){if(e&&e.isBufferGeometry){void 0===t&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var n=this.attributes;for(var r in n)if(void 0!==e.attributes[r])for(var i=n[r].array,a=e.attributes[r],o=a.array,s=a.itemSize*t,u=Math.min(o.length,i.length-s),l=0,c=s;l<u;l++,c++)i[c]=o[l];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e)},normalizeNormals:function(){for(var e=this.attributes.normal,t=0,n=e.count;t<n;t++)$i.fromBufferAttribute(e,t),$i.normalize(),e.setXYZ(t,$i.x,$i.y,$i.z)},toNonIndexed:function(){function e(e,t){for(var n=e.array,r=e.itemSize,i=e.normalized,a=new n.constructor(t.length*r),o=0,s=0,u=0,l=t.length;u<l;u++){o=t[u]*r;for(var c=0;c<r;c++)a[s++]=n[o++]}return new Pi(a,r,i)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var t=new ea,n=this.index.array,r=this.attributes;for(var i in r){var a=e(r[i],n);t.setAttribute(i,a)}var o=this.morphAttributes;for(var s in o){for(var u=[],l=o[s],c=0,d=l.length;c<d;c++){var h=e(l[c],n);u.push(h)}t.morphAttributes[s]=u}t.morphTargetsRelative=this.morphTargetsRelative;for(var f=this.groups,p=0,m=f.length;p<m;p++){var v=f[p];t.addGroup(v.start,v.count,v.materialIndex)}return t},toJSON:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};var r=this.index;null!==r&&(e.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)});var i=this.attributes;for(var a in i){var o=i[a],s=o.toJSON(e.data);""!==o.name&&(s.name=o.name),e.data.attributes[a]=s}var u={},l=!1;for(var c in this.morphAttributes){for(var d=this.morphAttributes[c],h=[],f=0,p=d.length;f<p;f++){var m=d[f],v=m.toJSON(e.data);""!==m.name&&(v.name=m.name),h.push(v)}h.length>0&&(u[c]=h,l=!0)}l&&(e.data.morphAttributes=u,e.data.morphTargetsRelative=this.morphTargetsRelative);var g=this.groups;g.length>0&&(e.data.groups=JSON.parse(JSON.stringify(g)));var y=this.boundingSphere;return null!==y&&(e.data.boundingSphere={center:y.center.toArray(),radius:y.radius}),e},clone:function(){return(new ea).copy(this)},copy:function(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;var t={};this.name=e.name;var n=e.index;null!==n&&this.setIndex(n.clone(t));var r=e.attributes;for(var i in r){var a=r[i];this.setAttribute(i,a.clone(t))}var o=e.morphAttributes;for(var s in o){for(var u=[],l=o[s],c=0,d=l.length;c<d;c++)u.push(l[c].clone(t));this.morphAttributes[s]=u}this.morphTargetsRelative=e.morphTargetsRelative;for(var h=e.groups,f=0,p=h.length;f<p;f++){var m=h[f];this.addGroup(m.start,m.count,m.materialIndex)}var v=e.boundingBox;null!==v&&(this.boundingBox=v.clone());var g=e.boundingSphere;return null!==g&&(this.boundingSphere=g.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var ta=new Pr,na=new Lr,ra=new Sr,ia=new sr,aa=new sr,oa=new sr,sa=new sr,ua=new sr,la=new sr,ca=new sr,da=new sr,ha=new sr,fa=new Jn,pa=new Jn,ma=new Jn,va=new sr,ga=new sr;function ya(e,t){oi.call(this),this.type="Mesh",this.geometry=void 0!==e?e:new ea,this.material=void 0!==t?t:new ki,this.updateMorphTargets()}function ba(e,t,n,r,i,a,o,s){if(null===(t.side===A?r.intersectTriangle(o,a,i,!0,s):r.intersectTriangle(i,a,o,t.side!==S,s)))return null;ga.copy(s),ga.applyMatrix4(e.matrixWorld);var u=n.ray.origin.distanceTo(ga);return u<n.near||u>n.far?null:{distance:u,point:ga.clone(),object:e}}function _a(e,t,n,r,i,a,o,s,u,l,c,d){ia.fromBufferAttribute(i,l),aa.fromBufferAttribute(i,c),oa.fromBufferAttribute(i,d);var h=e.morphTargetInfluences;if(t.morphTargets&&a&&h){ca.set(0,0,0),da.set(0,0,0),ha.set(0,0,0);for(var f=0,p=a.length;f<p;f++){var m=h[f],v=a[f];0!==m&&(sa.fromBufferAttribute(v,l),ua.fromBufferAttribute(v,c),la.fromBufferAttribute(v,d),o?(ca.addScaledVector(sa,m),da.addScaledVector(ua,m),ha.addScaledVector(la,m)):(ca.addScaledVector(sa.sub(ia),m),da.addScaledVector(ua.sub(aa),m),ha.addScaledVector(la.sub(oa),m)))}ia.add(ca),aa.add(da),oa.add(ha)}e.isSkinnedMesh&&(e.boneTransform(l,ia),e.boneTransform(c,aa),e.boneTransform(d,oa));var g=ba(e,t,n,r,ia,aa,oa,va);if(g){s&&(fa.fromBufferAttribute(s,l),pa.fromBufferAttribute(s,c),ma.fromBufferAttribute(s,d),g.uv=xi.getUV(va,ia,aa,oa,fa,pa,ma,new Jn)),u&&(fa.fromBufferAttribute(u,l),pa.fromBufferAttribute(u,c),ma.fromBufferAttribute(u,d),g.uv2=xi.getUV(va,ia,aa,oa,fa,pa,ma,new Jn));var y=new Di(l,c,d);xi.getNormal(ia,aa,oa,y.normal),g.face=y}return g}ya.prototype=Object.assign(Object.create(oi.prototype),{constructor:ya,isMesh:!0,copy:function(e){return oi.prototype.copy.call(this,e),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this},updateMorphTargets:function(){var e=this.geometry;if(e.isBufferGeometry){var t=e.morphAttributes,n=Object.keys(t);if(n.length>0){var r=t[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var i=0,a=r.length;i<a;i++){var o=r[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=i}}}}else{var s=e.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(e,t){var n,r=this.geometry,i=this.material,a=this.matrixWorld;if(void 0!==i&&(null===r.boundingSphere&&r.computeBoundingSphere(),ra.copy(r.boundingSphere),ra.applyMatrix4(a),!1!==e.ray.intersectsSphere(ra)&&(ta.getInverse(a),na.copy(e.ray).applyMatrix4(ta),null===r.boundingBox||!1!==na.intersectsBox(r.boundingBox))))if(r.isBufferGeometry){var o=r.index,s=r.attributes.position,u=r.morphAttributes.position,l=r.morphTargetsRelative,c=r.attributes.uv,d=r.attributes.uv2,h=r.groups,f=r.drawRange;if(null!==o)if(Array.isArray(i))for(var p=0,m=h.length;p<m;p++)for(var v=h[p],g=i[v.materialIndex],y=Math.max(v.start,f.start),b=Math.min(v.start+v.count,f.start+f.count);y<b;y+=3){var _=o.getX(y),x=o.getX(y+1),w=o.getX(y+2);(n=_a(this,g,e,na,s,u,l,c,d,_,x,w))&&(n.faceIndex=Math.floor(y/3),n.face.materialIndex=v.materialIndex,t.push(n))}else for(var M=Math.max(0,f.start),E=Math.min(o.count,f.start+f.count);M<E;M+=3){var A=o.getX(M),S=o.getX(M+1),T=o.getX(M+2);(n=_a(this,i,e,na,s,u,l,c,d,A,S,T))&&(n.faceIndex=Math.floor(M/3),t.push(n))}else if(void 0!==s)if(Array.isArray(i))for(var C=0,D=h.length;C<D;C++)for(var R=h[C],I=i[R.materialIndex],k=Math.max(R.start,f.start),O=Math.min(R.start+R.count,f.start+f.count);k<O;k+=3){(n=_a(this,I,e,na,s,u,l,c,d,k,k+1,k+2))&&(n.faceIndex=Math.floor(k/3),n.face.materialIndex=R.materialIndex,t.push(n))}else for(var L=Math.max(0,f.start),P=Math.min(s.count,f.start+f.count);L<P;L+=3){(n=_a(this,i,e,na,s,u,l,c,d,L,L+1,L+2))&&(n.faceIndex=Math.floor(L/3),t.push(n))}}else if(r.isGeometry){var B,F=Array.isArray(i),N=r.vertices,G=r.faces,j=r.faceVertexUvs[0];j.length>0&&(B=j);for(var U=0,z=G.length;U<z;U++){var V=G[U],H=F?i[V.materialIndex]:i;if(void 0!==H){var W=N[V.a],X=N[V.b],q=N[V.c];if(n=ba(this,H,e,na,W,X,q,va)){if(B&&B[U]){var Y=B[U];fa.copy(Y[0]),pa.copy(Y[1]),ma.copy(Y[2]),n.uv=xi.getUV(va,W,X,q,fa,pa,ma,new Jn)}n.face=V,n.faceIndex=U,t.push(n)}}}}}});var xa=0,wa=new Pr,Ma=new oi,Ea=new sr;function Aa(){Object.defineProperty(this,"id",{value:xa+=2}),this.uuid=Kn.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}Aa.prototype=Object.assign(Object.create(Xn.prototype),{constructor:Aa,isGeometry:!0,applyMatrix4:function(e){for(var t=(new $n).getNormalMatrix(e),n=0,r=this.vertices.length;n<r;n++){this.vertices[n].applyMatrix4(e)}for(var i=0,a=this.faces.length;i<a;i++){var o=this.faces[i];o.normal.applyMatrix3(t).normalize();for(var s=0,u=o.vertexNormals.length;s<u;s++)o.vertexNormals[s].applyMatrix3(t).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(e){return wa.makeRotationX(e),this.applyMatrix4(wa),this},rotateY:function(e){return wa.makeRotationY(e),this.applyMatrix4(wa),this},rotateZ:function(e){return wa.makeRotationZ(e),this.applyMatrix4(wa),this},translate:function(e,t,n){return wa.makeTranslation(e,t,n),this.applyMatrix4(wa),this},scale:function(e,t,n){return wa.makeScale(e,t,n),this.applyMatrix4(wa),this},lookAt:function(e){return Ma.lookAt(e),Ma.updateMatrix(),this.applyMatrix4(Ma.matrix),this},fromBufferGeometry:function(e){var t=this,n=null!==e.index?e.index:void 0,r=e.attributes;if(void 0===r.position)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;var i=r.position,a=r.normal,o=r.color,s=r.uv,u=r.uv2;void 0!==u&&(this.faceVertexUvs[1]=[]);for(var l=0;l<i.count;l++)t.vertices.push((new sr).fromBufferAttribute(i,l)),void 0!==o&&t.colors.push((new Ci).fromBufferAttribute(o,l));function c(e,n,r,i){var l=void 0===o?[]:[t.colors[e].clone(),t.colors[n].clone(),t.colors[r].clone()],c=void 0===a?[]:[(new sr).fromBufferAttribute(a,e),(new sr).fromBufferAttribute(a,n),(new sr).fromBufferAttribute(a,r)],d=new Di(e,n,r,c,l,i);t.faces.push(d),void 0!==s&&t.faceVertexUvs[0].push([(new Jn).fromBufferAttribute(s,e),(new Jn).fromBufferAttribute(s,n),(new Jn).fromBufferAttribute(s,r)]),void 0!==u&&t.faceVertexUvs[1].push([(new Jn).fromBufferAttribute(u,e),(new Jn).fromBufferAttribute(u,n),(new Jn).fromBufferAttribute(u,r)])}var d=e.groups;if(d.length>0)for(var h=0;h<d.length;h++)for(var f=d[h],p=f.start,m=p,v=p+f.count;m<v;m+=3)void 0!==n?c(n.getX(m),n.getX(m+1),n.getX(m+2),f.materialIndex):c(m,m+1,m+2,f.materialIndex);else if(void 0!==n)for(var g=0;g<n.count;g+=3)c(n.getX(g),n.getX(g+1),n.getX(g+2));else for(var y=0;y<i.count;y+=3)c(y,y+1,y+2);return this.computeFaceNormals(),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Ea).negate(),this.translate(Ea.x,Ea.y,Ea.z),this},normalize:function(){this.computeBoundingSphere();var e=this.boundingSphere.center,t=this.boundingSphere.radius,n=0===t?1:1/t,r=new Pr;return r.set(n,0,0,-n*e.x,0,n,0,-n*e.y,0,0,n,-n*e.z,0,0,0,1),this.applyMatrix4(r),this},computeFaceNormals:function(){for(var e=new sr,t=new sr,n=0,r=this.faces.length;n<r;n++){var i=this.faces[n],a=this.vertices[i.a],o=this.vertices[i.b],s=this.vertices[i.c];e.subVectors(s,o),t.subVectors(a,o),e.cross(t),e.normalize(),i.normal.copy(e)}},computeVertexNormals:function(e){void 0===e&&(e=!0);for(var t=new Array(this.vertices.length),n=0,r=this.vertices.length;n<r;n++)t[n]=new sr;if(e)for(var i=new sr,a=new sr,o=0,s=this.faces.length;o<s;o++){var u=this.faces[o],l=this.vertices[u.a],c=this.vertices[u.b],d=this.vertices[u.c];i.subVectors(d,c),a.subVectors(l,c),i.cross(a),t[u.a].add(i),t[u.b].add(i),t[u.c].add(i)}else{this.computeFaceNormals();for(var h=0,f=this.faces.length;h<f;h++){var p=this.faces[h];t[p.a].add(p.normal),t[p.b].add(p.normal),t[p.c].add(p.normal)}}for(var m=0,v=this.vertices.length;m<v;m++)t[m].normalize();for(var g=0,y=this.faces.length;g<y;g++){var b=this.faces[g],_=b.vertexNormals;3===_.length?(_[0].copy(t[b.a]),_[1].copy(t[b.b]),_[2].copy(t[b.c])):(_[0]=t[b.a].clone(),_[1]=t[b.b].clone(),_[2]=t[b.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){this.computeFaceNormals();for(var e=0,t=this.faces.length;e<t;e++){var n=this.faces[e],r=n.vertexNormals;3===r.length?(r[0].copy(n.normal),r[1].copy(n.normal),r[2].copy(n.normal)):(r[0]=n.normal.clone(),r[1]=n.normal.clone(),r[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){for(var e=0,t=this.faces.length;e<t;e++){var n=this.faces[e];n.__originalFaceNormal?n.__originalFaceNormal.copy(n.normal):n.__originalFaceNormal=n.normal.clone(),n.__originalVertexNormals||(n.__originalVertexNormals=[]);for(var r=0,i=n.vertexNormals.length;r<i;r++)n.__originalVertexNormals[r]?n.__originalVertexNormals[r].copy(n.vertexNormals[r]):n.__originalVertexNormals[r]=n.vertexNormals[r].clone()}var a=new Aa;a.faces=this.faces;for(var o=0,s=this.morphTargets.length;o<s;o++){if(!this.morphNormals[o]){this.morphNormals[o]={},this.morphNormals[o].faceNormals=[],this.morphNormals[o].vertexNormals=[];for(var u=this.morphNormals[o].faceNormals,l=this.morphNormals[o].vertexNormals,c=0,d=this.faces.length;c<d;c++){var h=new sr,f={a:new sr,b:new sr,c:new sr};u.push(h),l.push(f)}}var p=this.morphNormals[o];a.vertices=this.morphTargets[o].vertices,a.computeFaceNormals(),a.computeVertexNormals();for(var m=0,v=this.faces.length;m<v;m++){var g=this.faces[m],y=p.faceNormals[m],b=p.vertexNormals[m];y.copy(g.normal),b.a.copy(g.vertexNormals[0]),b.b.copy(g.vertexNormals[1]),b.c.copy(g.vertexNormals[2])}}for(var _=0,x=this.faces.length;_<x;_++){var w=this.faces[_];w.normal=w.__originalFaceNormal,w.vertexNormals=w.__originalVertexNormals}},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new cr),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new Sr),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,n){if(e&&e.isGeometry){var r,i=this.vertices.length,a=this.vertices,o=e.vertices,s=this.faces,u=e.faces,l=this.colors,c=e.colors;void 0===n&&(n=0),void 0!==t&&(r=(new $n).getNormalMatrix(t));for(var d=0,h=o.length;d<h;d++){var f=o[d].clone();void 0!==t&&f.applyMatrix4(t),a.push(f)}for(var p=0,m=c.length;p<m;p++)l.push(c[p].clone());for(var v=0,g=u.length;v<g;v++){var y=u[v],b=void 0,_=void 0,x=y.vertexNormals,w=y.vertexColors,M=new Di(y.a+i,y.b+i,y.c+i);M.normal.copy(y.normal),void 0!==r&&M.normal.applyMatrix3(r).normalize();for(var E=0,A=x.length;E<A;E++)b=x[E].clone(),void 0!==r&&b.applyMatrix3(r).normalize(),M.vertexNormals.push(b);M.color.copy(y.color);for(var S=0,T=w.length;S<T;S++)_=w[S],M.vertexColors.push(_.clone());M.materialIndex=y.materialIndex+n,s.push(M)}for(var C=0,D=e.faceVertexUvs.length;C<D;C++){var R=e.faceVertexUvs[C];void 0===this.faceVertexUvs[C]&&(this.faceVertexUvs[C]=[]);for(var I=0,k=R.length;I<k;I++){for(var O=R[I],L=[],P=0,B=O.length;P<B;P++)L.push(O[P].clone());this.faceVertexUvs[C].push(L)}}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e)},mergeMesh:function(e){e&&e.isMesh?(e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e)},mergeVertices:function(){for(var e={},t=[],n=[],r=Math.pow(10,4),i=0,a=this.vertices.length;i<a;i++){var o=this.vertices[i],s=Math.round(o.x*r)+"_"+Math.round(o.y*r)+"_"+Math.round(o.z*r);void 0===e[s]?(e[s]=i,t.push(this.vertices[i]),n[i]=t.length-1):n[i]=n[e[s]]}for(var u=[],l=0,c=this.faces.length;l<c;l++){var d=this.faces[l];d.a=n[d.a],d.b=n[d.b],d.c=n[d.c];for(var h=[d.a,d.b,d.c],f=0;f<3;f++)if(h[f]===h[(f+1)%3]){u.push(l);break}}for(var p=u.length-1;p>=0;p--){var m=u[p];this.faces.splice(m,1);for(var v=0,g=this.faceVertexUvs.length;v<g;v++)this.faceVertexUvs[v].splice(m,1)}var y=this.vertices.length-t.length;return this.vertices=t,y},setFromPoints:function(e){this.vertices=[];for(var t=0,n=e.length;t<n;t++){var r=e[t];this.vertices.push(new sr(r.x,r.y,r.z||0))}return this},sortFacesByMaterialIndex:function(){for(var e=this.faces,t=e.length,n=0;n<t;n++)e[n]._id=n;e.sort((function(e,t){return e.materialIndex-t.materialIndex}));var r,i,a=this.faceVertexUvs[0],o=this.faceVertexUvs[1];a&&a.length===t&&(r=[]),o&&o.length===t&&(i=[]);for(var s=0;s<t;s++){var u=e[s]._id;r&&r.push(a[u]),i&&i.push(o[u])}r&&(this.faceVertexUvs[0]=r),i&&(this.faceVertexUvs[1]=i)},toJSON:function(){var e={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}for(var r=[],i=0;i<this.vertices.length;i++){var a=this.vertices[i];r.push(a.x,a.y,a.z)}for(var o=[],s=[],u={},l=[],c={},d=[],h={},f=0;f<this.faces.length;f++){var p=this.faces[f],m=void 0!==this.faceVertexUvs[0][f],v=p.normal.length()>0,g=p.vertexNormals.length>0,y=1!==p.color.r||1!==p.color.g||1!==p.color.b,b=p.vertexColors.length>0,_=0;if(_=E(_,0,0),_=E(_,1,!0),_=E(_,2,!1),_=E(_,3,m),_=E(_,4,v),_=E(_,5,g),_=E(_,6,y),_=E(_,7,b),o.push(_),o.push(p.a,p.b,p.c),o.push(p.materialIndex),m){var x=this.faceVertexUvs[0][f];o.push(T(x[0]),T(x[1]),T(x[2]))}if(v&&o.push(A(p.normal)),g){var w=p.vertexNormals;o.push(A(w[0]),A(w[1]),A(w[2]))}if(y&&o.push(S(p.color)),b){var M=p.vertexColors;o.push(S(M[0]),S(M[1]),S(M[2]))}}function E(e,t,n){return n?e|1<<t:e&~(1<<t)}function A(e){var t=e.x.toString()+e.y.toString()+e.z.toString();return void 0!==u[t]||(u[t]=s.length/3,s.push(e.x,e.y,e.z)),u[t]}function S(e){var t=e.r.toString()+e.g.toString()+e.b.toString();return void 0!==c[t]||(c[t]=l.length,l.push(e.getHex())),c[t]}function T(e){var t=e.x.toString()+e.y.toString();return void 0!==h[t]||(h[t]=d.length/2,d.push(e.x,e.y)),h[t]}return e.data={},e.data.vertices=r,e.data.normals=s,l.length>0&&(e.data.colors=l),d.length>0&&(e.data.uvs=[d]),e.data.faces=o,e},clone:function(){return(new Aa).copy(this)},copy:function(e){this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;for(var t=e.vertices,n=0,r=t.length;n<r;n++)this.vertices.push(t[n].clone());for(var i=e.colors,a=0,o=i.length;a<o;a++)this.colors.push(i[a].clone());for(var s=e.faces,u=0,l=s.length;u<l;u++)this.faces.push(s[u].clone());for(var c=0,d=e.faceVertexUvs.length;c<d;c++){var h=e.faceVertexUvs[c];void 0===this.faceVertexUvs[c]&&(this.faceVertexUvs[c]=[]);for(var f=0,p=h.length;f<p;f++){for(var m=h[f],v=[],g=0,y=m.length;g<y;g++){var b=m[g];v.push(b.clone())}this.faceVertexUvs[c].push(v)}}for(var _=e.morphTargets,x=0,w=_.length;x<w;x++){var M={};if(M.name=_[x].name,void 0!==_[x].vertices){M.vertices=[];for(var E=0,A=_[x].vertices.length;E<A;E++)M.vertices.push(_[x].vertices[E].clone())}if(void 0!==_[x].normals){M.normals=[];for(var S=0,T=_[x].normals.length;S<T;S++)M.normals.push(_[x].normals[S].clone())}this.morphTargets.push(M)}for(var C=e.morphNormals,D=0,R=C.length;D<R;D++){var I={};if(void 0!==C[D].vertexNormals){I.vertexNormals=[];for(var k=0,O=C[D].vertexNormals.length;k<O;k++){var L=C[D].vertexNormals[k],P={};P.a=L.a.clone(),P.b=L.b.clone(),P.c=L.c.clone(),I.vertexNormals.push(P)}}if(void 0!==C[D].faceNormals){I.faceNormals=[];for(var B=0,F=C[D].faceNormals.length;B<F;B++)I.faceNormals.push(C[D].faceNormals[B].clone())}this.morphNormals.push(I)}for(var N=e.skinWeights,G=0,j=N.length;G<j;G++)this.skinWeights.push(N[G].clone());for(var U=e.skinIndices,z=0,V=U.length;z<V;z++)this.skinIndices.push(U[z].clone());for(var H=e.lineDistances,W=0,X=H.length;W<X;W++)this.lineDistances.push(H[W]);var q=e.boundingBox;null!==q&&(this.boundingBox=q.clone());var Y=e.boundingSphere;return null!==Y&&(this.boundingSphere=Y.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var Sa=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e,r,i,a,o,s){var u;return Object(d.a)(this,n),(u=t.call(this)).type="BoxGeometry",u.parameters={width:e,height:r,depth:i,widthSegments:a,heightSegments:o,depthSegments:s},u.fromBufferGeometry(new Ta(e,r,i,a,o,s)),u.mergeVertices(),u}return n}(Aa),Ta=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;Object(d.a)(this,n),(e=t.call(this)).type="BoxBufferGeometry",e.parameters={width:r,height:i,depth:a,widthSegments:o,heightSegments:s,depthSegments:l};var c=Object(u.a)(e);o=Math.floor(o),s=Math.floor(s),l=Math.floor(l);var h=[],f=[],p=[],m=[],v=0,g=0;function y(e,t,n,r,i,a,o,s,u,l,d){for(var y=a/u,b=o/l,_=a/2,x=o/2,w=s/2,M=u+1,E=l+1,A=0,S=0,T=new sr,C=0;C<E;C++)for(var D=C*b-x,R=0;R<M;R++){var I=R*y-_;T[e]=I*r,T[t]=D*i,T[n]=w,f.push(T.x,T.y,T.z),T[e]=0,T[t]=0,T[n]=s>0?1:-1,p.push(T.x,T.y,T.z),m.push(R/u),m.push(1-C/l),A+=1}for(var k=0;k<l;k++)for(var O=0;O<u;O++){var L=v+O+M*k,P=v+O+M*(k+1),B=v+(O+1)+M*(k+1),F=v+(O+1)+M*k;h.push(L,P,F),h.push(P,B,F),S+=6}c.addGroup(g,S,d),g+=S,v+=A}return y("z","y","x",-1,-1,a,i,r,l,s,0),y("z","y","x",1,-1,a,i,-r,l,s,1),y("x","z","y",1,1,r,a,i,o,l,2),y("x","z","y",1,-1,r,a,-i,o,l,3),y("x","y","z",1,-1,r,i,a,o,s,4),y("x","y","z",-1,-1,r,i,-a,o,s,5),e.setIndex(h),e.setAttribute("position",new Vi(f,3)),e.setAttribute("normal",new Vi(p,3)),e.setAttribute("uv",new Vi(m,2)),e}return n}(ea);function Ca(e){var t={};for(var n in e)for(var r in t[n]={},e[n]){var i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture)?t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}return t}function Da(e){for(var t={},n=0;n<e.length;n++){var r=Ca(e[n]);for(var i in r)t[i]=r[i]}return t}var Ra={clone:Ca,merge:Da};function Ia(e){Ii.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}function ka(){oi.call(this),this.type="Camera",this.matrixWorldInverse=new Pr,this.projectionMatrix=new Pr,this.projectionMatrixInverse=new Pr}function Oa(e,t,n,r){ka.call(this),this.type="PerspectiveCamera",this.fov=void 0!==e?e:50,this.zoom=1,this.near=void 0!==n?n:.1,this.far=void 0!==r?r:2e3,this.focus=10,this.aspect=void 0!==t?t:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}Ia.prototype=Object.create(Ii.prototype),Ia.prototype.constructor=Ia,Ia.prototype.isShaderMaterial=!0,Ia.prototype.copy=function(e){return Ii.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Ca(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this},Ia.prototype.toJSON=function(e){var t=Ii.prototype.toJSON.call(this,e);for(var n in t.glslVersion=this.glslVersion,t.uniforms={},this.uniforms){var r=this.uniforms[n].value;r&&r.isTexture?t.uniforms[n]={type:"t",value:r.toJSON(e).uuid}:r&&r.isColor?t.uniforms[n]={type:"c",value:r.getHex()}:r&&r.isVector2?t.uniforms[n]={type:"v2",value:r.toArray()}:r&&r.isVector3?t.uniforms[n]={type:"v3",value:r.toArray()}:r&&r.isVector4?t.uniforms[n]={type:"v4",value:r.toArray()}:r&&r.isMatrix3?t.uniforms[n]={type:"m3",value:r.toArray()}:r&&r.isMatrix4?t.uniforms[n]={type:"m4",value:r.toArray()}:t.uniforms[n]={value:r}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;var i={};for(var a in this.extensions)!0===this.extensions[a]&&(i[a]=!0);return Object.keys(i).length>0&&(t.extensions=i),t},ka.prototype=Object.assign(Object.create(oi.prototype),{constructor:ka,isCamera:!0,copy:function(e,t){return oi.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this},getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),e=new sr),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()},updateMatrixWorld:function(e){oi.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.getInverse(this.matrixWorld)},updateWorldMatrix:function(e,t){oi.prototype.updateWorldMatrix.call(this,e,t),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),Oa.prototype=Object.assign(Object.create(ka.prototype),{constructor:Oa,isPerspectiveCamera:!0,copy:function(e,t){return ka.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*Kn.RAD2DEG*Math.atan(t),this.updateProjectionMatrix()},getFocalLength:function(){var e=Math.tan(.5*Kn.DEG2RAD*this.fov);return.5*this.getFilmHeight()/e},getEffectiveFOV:function(){return 2*Kn.RAD2DEG*Math.atan(Math.tan(.5*Kn.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,n,r,i,a){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=this.near,t=e*Math.tan(.5*Kn.DEG2RAD*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r,a=this.view;if(null!==this.view&&this.view.enabled){var o=a.fullWidth,s=a.fullHeight;i+=a.offsetX*r/o,t-=a.offsetY*n/s,r*=a.width/o,n*=a.height/s}var u=this.filmOffset;0!==u&&(i+=e*u/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){var t=oi.prototype.toJSON.call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}});function La(e,t,n){if(oi.call(this),this.type="CubeCamera",!0===n.isWebGLCubeRenderTarget){this.renderTarget=n;var r=new Oa(90,1,e,t);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new sr(1,0,0)),this.add(r);var i=new Oa(90,1,e,t);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new sr(-1,0,0)),this.add(i);var a=new Oa(90,1,e,t);a.layers=this.layers,a.up.set(0,0,1),a.lookAt(new sr(0,1,0)),this.add(a);var o=new Oa(90,1,e,t);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(new sr(0,-1,0)),this.add(o);var s=new Oa(90,1,e,t);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new sr(0,0,1)),this.add(s);var u=new Oa(90,1,e,t);u.layers=this.layers,u.up.set(0,-1,0),u.lookAt(new sr(0,0,-1)),this.add(u),this.update=function(e,t){null===this.parent&&this.updateMatrixWorld();var l=e.xr.enabled,c=e.getRenderTarget();e.xr.enabled=!1;var d=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,r),e.setRenderTarget(n,1),e.render(t,i),e.setRenderTarget(n,2),e.render(t,a),e.setRenderTarget(n,3),e.render(t,o),e.setRenderTarget(n,4),e.render(t,s),n.texture.generateMipmaps=d,e.setRenderTarget(n,5),e.render(t,u),e.setRenderTarget(c),e.xr.enabled=l},this.clear=function(e,t,r,i){for(var a=e.getRenderTarget(),o=0;o<6;o++)e.setRenderTarget(n,o),e.clear(t,r,i);e.setRenderTarget(a)}}else console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.")}function Pa(e,t,n){Number.isInteger(t)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),t=n),ir.call(this,e,e,t),this.texture.isWebGLCubeRenderTargetTexture=!0}function Ba(e,t,n,r,i,a,o,s,u,l,c,d){nr.call(this,null,a,o,s,u,l,r,i,c,d),this.image={data:e||null,width:t||1,height:n||1},this.magFilter=void 0!==u?u:Ee,this.minFilter=void 0!==l?l:Ee,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}La.prototype=Object.create(oi.prototype),La.prototype.constructor=La,Pa.prototype=Object.create(ir.prototype),Pa.prototype.constructor=Pa,Pa.prototype.isWebGLCubeRenderTarget=!0,Pa.prototype.fromEquirectangularTexture=function(e,t){this.texture.type=t.type,this.texture.format=Ye,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;var n={tEquirect:{value:null}},r="\n\n\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t#include <begin_vertex>\n\t\t\t\t#include <project_vertex>\n\n\t\t\t}\n\t\t",i="\n\n\t\t\tuniform sampler2D tEquirect;\n\n\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t}\n\t\t",a=new Ta(5,5,5),o=new Ia({name:"CubemapFromEquirect",uniforms:Ca(n),vertexShader:r,fragmentShader:i,side:A,blending:D});o.uniforms.tEquirect.value=t;var s=new ya(a,o),u=t.minFilter;return t.minFilter===ke&&(t.minFilter=De),new La(1,10,this).update(e,s),t.minFilter=u,s.geometry.dispose(),s.material.dispose(),this},Ba.prototype=Object.create(nr.prototype),Ba.prototype.constructor=Ba,Ba.prototype.isDataTexture=!0;var Fa=new Sr,Na=new sr,Ga=function(){function e(t,n,r,i,a,o){Object(d.a)(this,e),this.planes=[void 0!==t?t:new ci,void 0!==n?n:new ci,void 0!==r?r:new ci,void 0!==i?i:new ci,void 0!==a?a:new ci,void 0!==o?o:new ci]}return Object(h.a)(e,[{key:"set",value:function(e,t,n,r,i,a){var o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(r),o[4].copy(i),o[5].copy(a),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this}},{key:"setFromProjectionMatrix",value:function(e){var t=this.planes,n=e.elements,r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],u=n[5],l=n[6],c=n[7],d=n[8],h=n[9],f=n[10],p=n[11],m=n[12],v=n[13],g=n[14],y=n[15];return t[0].setComponents(o-r,c-s,p-d,y-m).normalize(),t[1].setComponents(o+r,c+s,p+d,y+m).normalize(),t[2].setComponents(o+i,c+u,p+h,y+v).normalize(),t[3].setComponents(o-i,c-u,p-h,y-v).normalize(),t[4].setComponents(o-a,c-l,p-f,y-g).normalize(),t[5].setComponents(o+a,c+l,p+f,y+g).normalize(),this}},{key:"intersectsObject",value:function(e){var t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),Fa.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Fa)}},{key:"intersectsSprite",value:function(e){return Fa.center.set(0,0,0),Fa.radius=.7071067811865476,Fa.applyMatrix4(e.matrixWorld),this.intersectsSphere(Fa)}},{key:"intersectsSphere",value:function(e){for(var t=this.planes,n=e.center,r=-e.radius,i=0;i<6;i++){if(t[i].distanceToPoint(n)<r)return!1}return!0}},{key:"intersectsBox",value:function(e){for(var t=this.planes,n=0;n<6;n++){var r=t[n];if(Na.x=r.normal.x>0?e.max.x:e.min.x,Na.y=r.normal.y>0?e.max.y:e.min.y,Na.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Na)<0)return!1}return!0}},{key:"containsPoint",value:function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}}]),e}();function ja(){var e=null,t=!1,n=null,r=null;function i(t,a){n(t,a),r=e.requestAnimationFrame(i)}return{start:function(){!0!==t&&null!==n&&(r=e.requestAnimationFrame(i),t=!0)},stop:function(){e.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function Ua(e,t){var n=t.isWebGL2,r=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),r.get(e)},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);var n=r.get(t);n&&(e.deleteBuffer(n.buffer),r.delete(t))},update:function(t,i){if(t.isGLBufferAttribute){var a=r.get(t);(!a||a.version<t.version)&&r.set(t,{buffer:t.buffer,type:t.type,bytesPerElement:t.elementSize,version:t.version})}else{t.isInterleavedBufferAttribute&&(t=t.data);var o=r.get(t);void 0===o?r.set(t,function(t,n){var r=t.array,i=t.usage,a=e.createBuffer();e.bindBuffer(n,a),e.bufferData(n,r,i),t.onUploadCallback();var o=5126;return r instanceof Float32Array?o=5126:r instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):r instanceof Uint16Array?o=5123:r instanceof Int16Array?o=5122:r instanceof Uint32Array?o=5125:r instanceof Int32Array?o=5124:r instanceof Int8Array?o=5120:r instanceof Uint8Array&&(o=5121),{buffer:a,type:o,bytesPerElement:r.BYTES_PER_ELEMENT,version:t.version}}(t,i)):o.version<t.version&&(!function(t,r,i){var a=r.array,o=r.updateRange;e.bindBuffer(i,t),-1===o.count?e.bufferSubData(i,0,a):(n?e.bufferSubData(i,o.offset*a.BYTES_PER_ELEMENT,a,o.offset,o.count):e.bufferSubData(i,o.offset*a.BYTES_PER_ELEMENT,a.subarray(o.offset,o.offset+o.count)),o.count=-1)}(o.buffer,t,i),o.version=t.version)}}}}var za=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e,r,i,a){var o;return Object(d.a)(this,n),(o=t.call(this)).type="PlaneGeometry",o.parameters={width:e,height:r,widthSegments:i,heightSegments:a},o.fromBufferGeometry(new Va(e,r,i,a)),o.mergeVertices(),o}return n}(Aa),Va=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e,r,i,a){var o;Object(d.a)(this,n),(o=t.call(this)).type="PlaneBufferGeometry",o.parameters={width:e,height:r,widthSegments:i,heightSegments:a};for(var s=(e=e||1)/2,u=(r=r||1)/2,l=Math.floor(i)||1,c=Math.floor(a)||1,h=l+1,f=c+1,p=e/l,m=r/c,v=[],g=[],y=[],b=[],_=0;_<f;_++)for(var x=_*m-u,w=0;w<h;w++){var M=w*p-s;g.push(M,-x,0),y.push(0,0,1),b.push(w/l),b.push(1-_/c)}for(var E=0;E<c;E++)for(var A=0;A<l;A++){var S=A+h*E,T=A+h*(E+1),C=A+1+h*(E+1),D=A+1+h*E;v.push(S,T,D),v.push(T,C,D)}return o.setIndex(v),o.setAttribute("position",new Vi(g,3)),o.setAttribute("normal",new Vi(y,3)),o.setAttribute("uv",new Vi(b,2)),o}return n}(ea),Ha={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie(float roughness, float NoH) {\n\tfloat invAlpha = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\n}\nfloat V_Neubelt(float NoV, float NoL) {\n\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\n}\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor.xyz *= color.xyz;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_maxMipLevel 8.0\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_maxTileSize 256.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tfloat texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );\n\t\tvec2 f = fract( uv );\n\t\tuv += 0.5 - f;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tif ( mipInt < cubeUV_maxMipLevel ) {\n\t\t\tuv.y += 2.0 * cubeUV_maxTileSize;\n\t\t}\n\t\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\n\t\tuv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );\n\t\tuv *= texelSize;\n\t\tvec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x += texelSize;\n\t\tvec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.y += texelSize;\n\t\tvec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x -= texelSize;\n\t\tvec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tvec3 tm = mix( tl, tr, f.x );\n\t\tvec3 bm = mix( bl, br, f.x );\n\t\treturn mix( tm, bm, f.y );\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value ) {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\tenvColor = envMapTexelToLinear( envColor );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -viewDir, normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn texture2D( gradientMap, coord ).rgb;\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\n#ifdef REFLECTIVITY\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#endif\n#ifdef CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheen;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat specularRoughness;\n\tvec3 specularColor;\n#ifdef CLEARCOAT\n\tfloat clearcoat;\n\tfloat clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tvec3 sheenColor;\n#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = ccDotNL * directLight.color;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tccIrradiance *= PI;\n\t\t#endif\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\n\t\t\tmaterial.specularRoughness,\n\t\t\tdirectLight.direction,\n\t\t\tgeometry,\n\t\t\tmaterial.sheenColor\n\t\t);\n\t#else\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\n\t#endif\n\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t\tfloat ccDotNL = ccDotNV;\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\tfloat clearcoatInv = 1.0 - clearcoatDHR;\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\n\t#ifdef CLEARCOAT\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifndef USE_MORPHNORMALS\n\t\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\t\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\tvec3 N = normalize( surf_norm );\n\t\tmat3 tsn = mat3( S, T, N );\n\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmissionmap_fragment:"#ifdef USE_TRANSMISSIONMAP\n\ttotalTransmission *= texture2D( transmissionMap, vUv ).r;\n#endif",transmissionmap_pars_fragment:"#ifdef USE_TRANSMISSIONMAP\n\tuniform sampler2D transmissionMap;\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n\t#define TRANSMISSION\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef TRANSMISSION\n\tuniform float transmission;\n#endif\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <transmissionmap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#ifdef TRANSMISSION\n\t\tfloat totalTransmission = transmission;\n\t#endif\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <transmissionmap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#ifdef TRANSMISSION\n\t\tdiffuseColor.a *= saturate( 1. - totalTransmission + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) );\n\t#endif\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"},Wa={common:{diffuse:{value:new Ci(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new $n},uv2Transform:{value:new $n},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Jn(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ci(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ci(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new $n}},sprite:{diffuse:{value:new Ci(15658734)},opacity:{value:1},center:{value:new Jn(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new $n}}},Xa={basic:{uniforms:Da([Wa.common,Wa.specularmap,Wa.envmap,Wa.aomap,Wa.lightmap,Wa.fog]),vertexShader:Ha.meshbasic_vert,fragmentShader:Ha.meshbasic_frag},lambert:{uniforms:Da([Wa.common,Wa.specularmap,Wa.envmap,Wa.aomap,Wa.lightmap,Wa.emissivemap,Wa.fog,Wa.lights,{emissive:{value:new Ci(0)}}]),vertexShader:Ha.meshlambert_vert,fragmentShader:Ha.meshlambert_frag},phong:{uniforms:Da([Wa.common,Wa.specularmap,Wa.envmap,Wa.aomap,Wa.lightmap,Wa.emissivemap,Wa.bumpmap,Wa.normalmap,Wa.displacementmap,Wa.fog,Wa.lights,{emissive:{value:new Ci(0)},specular:{value:new Ci(1118481)},shininess:{value:30}}]),vertexShader:Ha.meshphong_vert,fragmentShader:Ha.meshphong_frag},standard:{uniforms:Da([Wa.common,Wa.envmap,Wa.aomap,Wa.lightmap,Wa.emissivemap,Wa.bumpmap,Wa.normalmap,Wa.displacementmap,Wa.roughnessmap,Wa.metalnessmap,Wa.fog,Wa.lights,{emissive:{value:new Ci(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Ha.meshphysical_vert,fragmentShader:Ha.meshphysical_frag},toon:{uniforms:Da([Wa.common,Wa.aomap,Wa.lightmap,Wa.emissivemap,Wa.bumpmap,Wa.normalmap,Wa.displacementmap,Wa.gradientmap,Wa.fog,Wa.lights,{emissive:{value:new Ci(0)}}]),vertexShader:Ha.meshtoon_vert,fragmentShader:Ha.meshtoon_frag},matcap:{uniforms:Da([Wa.common,Wa.bumpmap,Wa.normalmap,Wa.displacementmap,Wa.fog,{matcap:{value:null}}]),vertexShader:Ha.meshmatcap_vert,fragmentShader:Ha.meshmatcap_frag},points:{uniforms:Da([Wa.points,Wa.fog]),vertexShader:Ha.points_vert,fragmentShader:Ha.points_frag},dashed:{uniforms:Da([Wa.common,Wa.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Ha.linedashed_vert,fragmentShader:Ha.linedashed_frag},depth:{uniforms:Da([Wa.common,Wa.displacementmap]),vertexShader:Ha.depth_vert,fragmentShader:Ha.depth_frag},normal:{uniforms:Da([Wa.common,Wa.bumpmap,Wa.normalmap,Wa.displacementmap,{opacity:{value:1}}]),vertexShader:Ha.normal_vert,fragmentShader:Ha.normal_frag},sprite:{uniforms:Da([Wa.sprite,Wa.fog]),vertexShader:Ha.sprite_vert,fragmentShader:Ha.sprite_frag},background:{uniforms:{uvTransform:{value:new $n},t2D:{value:null}},vertexShader:Ha.background_vert,fragmentShader:Ha.background_frag},cube:{uniforms:Da([Wa.envmap,{opacity:{value:1}}]),vertexShader:Ha.cube_vert,fragmentShader:Ha.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Ha.equirect_vert,fragmentShader:Ha.equirect_frag},distanceRGBA:{uniforms:Da([Wa.common,Wa.displacementmap,{referencePosition:{value:new sr},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Ha.distanceRGBA_vert,fragmentShader:Ha.distanceRGBA_frag},shadow:{uniforms:Da([Wa.lights,Wa.fog,{color:{value:new Ci(0)},opacity:{value:1}}]),vertexShader:Ha.shadow_vert,fragmentShader:Ha.shadow_frag}};function qa(e,t,n,r,i){var a,o,s=new Ci(0),u=0,l=null,c=0,d=null;function h(e,t){n.buffers.color.setClear(e.r,e.g,e.b,t,i)}return{getClearColor:function(){return s},setClearColor:function(e,t){s.set(e),h(s,u=void 0!==t?t:1)},getClearAlpha:function(){return u},setClearAlpha:function(e){h(s,u=e)},render:function(n,i,f,p){var m=!0===i.isScene?i.background:null;m&&m.isTexture&&(m=t.get(m));var v=e.xr,g=v.getSession&&v.getSession();g&&"additive"===g.environmentBlendMode&&(m=null),null===m?h(s,u):m&&m.isColor&&(h(m,1),p=!0),(e.autoClear||p)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),m&&(m.isCubeTexture||m.isWebGLCubeRenderTarget||m.isWebGLCubeRenderTargetTexture||m.mapping===be)?(void 0===o&&((o=new ya(new Ta(1,1,1),new Ia({name:"BackgroundCubeMaterial",uniforms:Ca(Xa.cube.uniforms),vertexShader:Xa.cube.vertexShader,fragmentShader:Xa.cube.fragmentShader,side:A,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),o.geometry.deleteAttribute("uv"),o.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(o.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(o)),m.isWebGLCubeRenderTarget&&(m=m.texture),o.material.uniforms.envMap.value=m,o.material.uniforms.flipEnvMap.value=m.isCubeTexture?-1:1,l===m&&c===m.version&&d===e.toneMapping||(o.material.needsUpdate=!0,l=m,c=m.version,d=e.toneMapping),n.unshift(o,o.geometry,o.material,0,0,null)):m&&m.isTexture&&(void 0===a&&((a=new ya(new Va(2,2),new Ia({name:"BackgroundMaterial",uniforms:Ca(Xa.background.uniforms),vertexShader:Xa.background.vertexShader,fragmentShader:Xa.background.fragmentShader,side:E,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(a.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(a)),a.material.uniforms.t2D.value=m,!0===m.matrixAutoUpdate&&m.updateMatrix(),a.material.uniforms.uvTransform.value.copy(m.matrix),l===m&&c===m.version&&d===e.toneMapping||(a.material.needsUpdate=!0,l=m,c=m.version,d=e.toneMapping),n.unshift(a,a.geometry,a.material,0,0,null))}}}function Ya(e,t,n,r){var i=e.getParameter(34921),a=r.isWebGL2?null:t.get("OES_vertex_array_object"),o=r.isWebGL2||null!==a,s={},u=h(null),l=u;function c(t){return r.isWebGL2?e.bindVertexArray(t):a.bindVertexArrayOES(t)}function d(t){return r.isWebGL2?e.deleteVertexArray(t):a.deleteVertexArrayOES(t)}function h(e){for(var t=[],n=[],r=[],a=0;a<i;a++)t[a]=0,n[a]=0,r[a]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:n,attributeDivisors:r,object:e,attributes:{},index:null}}function f(){for(var e=l.newAttributes,t=0,n=e.length;t<n;t++)e[t]=0}function p(e){m(e,0)}function m(n,i){var a=l.newAttributes,o=l.enabledAttributes,s=l.attributeDivisors;(a[n]=1,0===o[n]&&(e.enableVertexAttribArray(n),o[n]=1),s[n]!==i)&&((r.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,i),s[n]=i)}function v(){for(var t=l.newAttributes,n=l.enabledAttributes,r=0,i=n.length;r<i;r++)n[r]!==t[r]&&(e.disableVertexAttribArray(r),n[r]=0)}function g(t,n,i,a,o,s){!0!==r.isWebGL2||5124!==i&&5125!==i?e.vertexAttribPointer(t,n,i,a,o,s):e.vertexAttribIPointer(t,n,i,o,s)}function y(){b(),l!==u&&c((l=u).object)}function b(){u.geometry=null,u.program=null,u.wireframe=!1}return{setup:function(i,u,d,y,b){var _=!1;if(o){var x=function(t,n,i){var o=!0===i.wireframe,u=s[t.id];void 0===u&&(u={},s[t.id]=u);var l=u[n.id];void 0===l&&(l={},u[n.id]=l);var c=l[o];void 0===c&&(c=h(r.isWebGL2?e.createVertexArray():a.createVertexArrayOES()),l[o]=c);return c}(y,d,u);l!==x&&c((l=x).object),(_=function(e,t){var n=l.attributes,r=e.attributes;if(Object.keys(n).length!==Object.keys(r).length)return!0;for(var i in r){var a=n[i],o=r[i];if(void 0===a)return!0;if(a.attribute!==o)return!0;if(a.data!==o.data)return!0}return l.index!==t}(y,b))&&function(e,t){var n={},r=e.attributes;for(var i in r){var a=r[i],o={};o.attribute=a,a.data&&(o.data=a.data),n[i]=o}l.attributes=n,l.index=t}(y,b)}else{var w=!0===u.wireframe;l.geometry===y.id&&l.program===d.id&&l.wireframe===w||(l.geometry=y.id,l.program=d.id,l.wireframe=w,_=!0)}!0===i.isInstancedMesh&&(_=!0),null!==b&&n.update(b,34963),_&&(!function(i,a,o,s){if(!1===r.isWebGL2&&(i.isInstancedMesh||s.isInstancedBufferGeometry)&&null===t.get("ANGLE_instanced_arrays"))return;f();var u=s.attributes,l=o.getAttributes(),c=a.defaultAttributeValues;for(var d in l){var h=l[d];if(h>=0){var y=u[d];if(void 0!==y){var b=y.normalized,_=y.itemSize,x=n.get(y);if(void 0===x)continue;var w=x.buffer,M=x.type,E=x.bytesPerElement;if(y.isInterleavedBufferAttribute){var A=y.data,S=A.stride,T=y.offset;A&&A.isInstancedInterleavedBuffer?(m(h,A.meshPerAttribute),void 0===s._maxInstanceCount&&(s._maxInstanceCount=A.meshPerAttribute*A.count)):p(h),e.bindBuffer(34962,w),g(h,_,M,b,S*E,T*E)}else y.isInstancedBufferAttribute?(m(h,y.meshPerAttribute),void 0===s._maxInstanceCount&&(s._maxInstanceCount=y.meshPerAttribute*y.count)):p(h),e.bindBuffer(34962,w),g(h,_,M,b,0,0)}else if("instanceMatrix"===d){var C=n.get(i.instanceMatrix);if(void 0===C)continue;var D=C.buffer,R=C.type;m(h+0,1),m(h+1,1),m(h+2,1),m(h+3,1),e.bindBuffer(34962,D),e.vertexAttribPointer(h+0,4,R,!1,64,0),e.vertexAttribPointer(h+1,4,R,!1,64,16),e.vertexAttribPointer(h+2,4,R,!1,64,32),e.vertexAttribPointer(h+3,4,R,!1,64,48)}else if("instanceColor"===d){var I=n.get(i.instanceColor);if(void 0===I)continue;var k=I.buffer,O=I.type;m(h,1),e.bindBuffer(34962,k),e.vertexAttribPointer(h,3,O,!1,12,0)}else if(void 0!==c){var L=c[d];if(void 0!==L)switch(L.length){case 2:e.vertexAttrib2fv(h,L);break;case 3:e.vertexAttrib3fv(h,L);break;case 4:e.vertexAttrib4fv(h,L);break;default:e.vertexAttrib1fv(h,L)}}}}v()}(i,u,d,y),null!==b&&e.bindBuffer(34963,n.get(b).buffer))},reset:y,resetDefaultState:b,dispose:function(){for(var e in y(),s){var t=s[e];for(var n in t){var r=t[n];for(var i in r)d(r[i].object),delete r[i];delete t[n]}delete s[e]}},releaseStatesOfGeometry:function(e){if(void 0!==s[e.id]){var t=s[e.id];for(var n in t){var r=t[n];for(var i in r)d(r[i].object),delete r[i];delete t[n]}delete s[e.id]}},releaseStatesOfProgram:function(e){for(var t in s){var n=s[t];if(void 0!==n[e.id]){var r=n[e.id];for(var i in r)d(r[i].object),delete r[i];delete n[e.id]}}},initAttributes:f,enableAttribute:p,disableUnusedAttributes:v}}function Qa(e,t,n,r){var i,a=r.isWebGL2;this.setMode=function(e){i=e},this.render=function(t,r){e.drawArrays(i,t,r),n.update(r,i,1)},this.renderInstances=function(r,o,s){if(0!==s){var u,l;if(a)u=e,l="drawArraysInstanced";else if(l="drawArraysInstancedANGLE",null===(u=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");u[l](i,r,o,s),n.update(o,i,s)}}}function Za(e,t,n){var r;function i(t){if("highp"===t){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}var a="undefined"!==typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||"undefined"!==typeof WebGL2ComputeRenderingContext&&e instanceof WebGL2ComputeRenderingContext,o=void 0!==n.precision?n.precision:"highp",s=i(o);s!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",s,"instead."),o=s);var u=!0===n.logarithmicDepthBuffer,l=e.getParameter(34930),c=e.getParameter(35660),d=e.getParameter(3379),h=e.getParameter(34076),f=e.getParameter(34921),p=e.getParameter(36347),m=e.getParameter(36348),v=e.getParameter(36349),g=c>0,y=a||!!t.get("OES_texture_float");return{isWebGL2:a,getMaxAnisotropy:function(){if(void 0!==r)return r;var n=t.get("EXT_texture_filter_anisotropic");return r=null!==n?e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:i,precision:o,logarithmicDepthBuffer:u,maxTextures:l,maxVertexTextures:c,maxTextureSize:d,maxCubemapSize:h,maxAttributes:f,maxVertexUniforms:p,maxVaryings:m,maxFragmentUniforms:v,vertexTextures:g,floatFragmentTextures:y,floatVertexTextures:g&&y,maxSamples:a?e.getParameter(36183):0}}function Ka(e){var t=this,n=null,r=0,i=!1,a=!1,o=new ci,s=new $n,u={value:null,needsUpdate:!1};function l(){u.value!==n&&(u.value=n,u.needsUpdate=r>0),t.numPlanes=r,t.numIntersection=0}function c(e,n,r,i){var a=null!==e?e.length:0,l=null;if(0!==a){if(l=u.value,!0!==i||null===l){var c=r+4*a,d=n.matrixWorldInverse;s.getNormalMatrix(d),(null===l||l.length<c)&&(l=new Float32Array(c));for(var h=0,f=r;h!==a;++h,f+=4)o.copy(e[h]).applyMatrix4(d,s),o.normal.toArray(l,f),l[f+3]=o.constant}u.value=l,u.needsUpdate=!0}return t.numPlanes=a,t.numIntersection=0,l}this.uniform=u,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t,a){var o=0!==e.length||t||0!==r||i;return i=t,n=c(e,a,0),r=e.length,o},this.beginShadows=function(){a=!0,c(null)},this.endShadows=function(){a=!1,l()},this.setState=function(t,o,s){var d=t.clippingPlanes,h=t.clipIntersection,f=t.clipShadows,p=e.get(t);if(!i||null===d||0===d.length||a&&!f)a?c(null):l();else{var m=a?0:r,v=4*m,g=p.clippingState||null;u.value=g,g=c(d,o,v,s);for(var y=0;y!==v;++y)g[y]=n[y];p.clippingState=g,this.numIntersection=h?this.numPlanes:0,this.numPlanes+=m}}}function Ja(e){var t=new WeakMap;function n(e,t){return t===ge?e.mapping=me:t===ye&&(e.mapping=ve),e}return{get:function(r){if(r&&r.isTexture){var i=r.mapping;if(i===ge||i===ye){if(t.has(r))return n(t.get(r).texture,r.mapping);var a=r.image;if(a&&a.height>0){var o=e.getRenderList(),s=e.getRenderTarget(),u=e.getRenderState(),l=new Pa(a.height/2);return l.fromEquirectangularTexture(e,r),t.set(r,l),e.setRenderTarget(s),e.setRenderList(o),e.setRenderState(u),n(l.texture,r.mapping)}return null}}return r},dispose:function(){t=new WeakMap}}}function $a(e){var t={};return{has:function(n){if(void 0!==t[n])return null!==t[n];var r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return t[n]=r,null!==r},get:function(e){return this.has(e)||console.warn("THREE.WebGLRenderer: "+e+" extension not supported."),t[e]}}}function eo(e,t,n,r){var i=new WeakMap,a=new WeakMap;function o(e){var s=e.target,u=i.get(s);for(var l in null!==u.index&&t.remove(u.index),u.attributes)t.remove(u.attributes[l]);s.removeEventListener("dispose",o),i.delete(s);var c=a.get(u);c&&(t.remove(c),a.delete(u)),r.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}function s(e){var n=[],r=e.index,i=e.attributes.position,o=0;if(null!==r){var s=r.array;o=r.version;for(var u=0,l=s.length;u<l;u+=3){var c=s[u+0],d=s[u+1],h=s[u+2];n.push(c,d,d,h,h,c)}}else{var f=i.array;o=i.version;for(var p=0,m=f.length/3-1;p<m;p+=3){var v=p+0,g=p+1,y=p+2;n.push(v,g,g,y,y,v)}}var b=new(Xi(n)>65535?zi:ji)(n,1);b.version=o;var _=a.get(e);_&&t.remove(_),a.set(e,b)}return{get:function(e,t){var r=i.get(t);return r||(t.addEventListener("dispose",o),t.isBufferGeometry?r=t:t.isGeometry&&(void 0===t._bufferGeometry&&(t._bufferGeometry=(new ea).setFromObject(e)),r=t._bufferGeometry),i.set(t,r),n.memory.geometries++,r)},update:function(e){var n=e.attributes;for(var r in n)t.update(n[r],34962);var i=e.morphAttributes;for(var a in i)for(var o=i[a],s=0,u=o.length;s<u;s++)t.update(o[s],34962)},getWireframeAttribute:function(e){var t=a.get(e);if(t){var n=e.index;null!==n&&t.version<n.version&&s(e)}else s(e);return a.get(e)}}}function to(e,t,n,r){var i,a,o,s=r.isWebGL2;this.setMode=function(e){i=e},this.setIndex=function(e){a=e.type,o=e.bytesPerElement},this.render=function(t,r){e.drawElements(i,r,a,t*o),n.update(r,i,1)},this.renderInstances=function(r,u,l){if(0!==l){var c,d;if(s)c=e,d="drawElementsInstanced";else if(d="drawElementsInstancedANGLE",null===(c=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");c[d](i,u,a,r*o,l),n.update(u,i,l)}}}function no(e){var t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(e,n,r){switch(t.calls++,n){case 4:t.triangles+=r*(e/3);break;case 1:t.lines+=r*(e/2);break;case 3:t.lines+=r*(e-1);break;case 2:t.lines+=r*e;break;case 0:t.points+=r*e;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n)}}}}function ro(e,t){return e[0]-t[0]}function io(e,t){return Math.abs(t[1])-Math.abs(e[1])}function ao(e){for(var t={},n=new Float32Array(8),r=[],i=0;i<8;i++)r[i]=[i,0];return{update:function(i,a,o,s){var u=i.morphTargetInfluences,l=void 0===u?0:u.length,c=t[a.id];if(void 0===c){c=[];for(var d=0;d<l;d++)c[d]=[d,0];t[a.id]=c}for(var h=0;h<l;h++){var f=c[h];f[0]=h,f[1]=u[h]}c.sort(io);for(var p=0;p<8;p++)p<l&&c[p][1]?(r[p][0]=c[p][0],r[p][1]=c[p][1]):(r[p][0]=Number.MAX_SAFE_INTEGER,r[p][1]=0);r.sort(ro);for(var m=o.morphTargets&&a.morphAttributes.position,v=o.morphNormals&&a.morphAttributes.normal,g=0,y=0;y<8;y++){var b=r[y],_=b[0],x=b[1];_!==Number.MAX_SAFE_INTEGER&&x?(m&&a.getAttribute("morphTarget"+y)!==m[_]&&a.setAttribute("morphTarget"+y,m[_]),v&&a.getAttribute("morphNormal"+y)!==v[_]&&a.setAttribute("morphNormal"+y,v[_]),n[y]=x,g+=x):(m&&void 0!==a.getAttribute("morphTarget"+y)&&a.deleteAttribute("morphTarget"+y),v&&void 0!==a.getAttribute("morphNormal"+y)&&a.deleteAttribute("morphNormal"+y),n[y]=0)}var w=a.morphTargetsRelative?1:1-g;s.getUniforms().setValue(e,"morphTargetBaseInfluence",w),s.getUniforms().setValue(e,"morphTargetInfluences",n)}}}function oo(e,t,n,r){var i=new WeakMap;return{update:function(e){var a=r.render.frame,o=e.geometry,s=t.get(e,o);return i.get(s)!==a&&(o.isGeometry&&s.updateFromObject(e),t.update(s),i.set(s,a)),e.isInstancedMesh&&(n.update(e.instanceMatrix,34962),null!==e.instanceColor&&n.update(e.instanceColor,34962)),s},dispose:function(){i=new WeakMap}}}function so(e,t,n,r,i,a,o,s,u,l){e=void 0!==e?e:[],t=void 0!==t?t:me,o=void 0!==o?o:qe,nr.call(this,e,t,n,r,i,a,o,s,u,l),this.flipY=!1}function uo(e,t,n,r){nr.call(this,null),this.image={data:e||null,width:t||1,height:n||1,depth:r||1},this.magFilter=Ee,this.minFilter=Ee,this.wrapR=we,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}function lo(e,t,n,r){nr.call(this,null),this.image={data:e||null,width:t||1,height:n||1,depth:r||1},this.magFilter=Ee,this.minFilter=Ee,this.wrapR=we,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}Xa.physical={uniforms:Da([Xa.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Jn(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new Ci(0)},transmission:{value:0},transmissionMap:{value:null}}]),vertexShader:Ha.meshphysical_vert,fragmentShader:Ha.meshphysical_frag},so.prototype=Object.create(nr.prototype),so.prototype.constructor=so,so.prototype.isCubeTexture=!0,Object.defineProperty(so.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}}),uo.prototype=Object.create(nr.prototype),uo.prototype.constructor=uo,uo.prototype.isDataTexture2DArray=!0,lo.prototype=Object.create(nr.prototype),lo.prototype.constructor=lo,lo.prototype.isDataTexture3D=!0;var co=new nr,ho=new uo,fo=new lo,po=new so,mo=[],vo=[],go=new Float32Array(16),yo=new Float32Array(9),bo=new Float32Array(4);function _o(e,t,n){var r=e[0];if(r<=0||r>0)return e;var i=t*n,a=mo[i];if(void 0===a&&(a=new Float32Array(i),mo[i]=a),0!==t){r.toArray(a,0);for(var o=1,s=0;o!==t;++o)s+=n,e[o].toArray(a,s)}return a}function xo(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function wo(e,t){for(var n=0,r=t.length;n<r;n++)e[n]=t[n]}function Mo(e,t){var n=vo[t];void 0===n&&(n=new Int32Array(t),vo[t]=n);for(var r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function Eo(e,t){var n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function Ao(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(xo(n,t))return;e.uniform2fv(this.addr,t),wo(n,t)}}function So(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(xo(n,t))return;e.uniform3fv(this.addr,t),wo(n,t)}}function To(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(xo(n,t))return;e.uniform4fv(this.addr,t),wo(n,t)}}function Co(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(xo(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),wo(n,t)}else{if(xo(n,r))return;bo.set(r),e.uniformMatrix2fv(this.addr,!1,bo),wo(n,r)}}function Do(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(xo(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),wo(n,t)}else{if(xo(n,r))return;yo.set(r),e.uniformMatrix3fv(this.addr,!1,yo),wo(n,r)}}function Ro(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(xo(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),wo(n,t)}else{if(xo(n,r))return;go.set(r),e.uniformMatrix4fv(this.addr,!1,go),wo(n,r)}}function Io(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.safeSetTexture2D(t||co,i)}function ko(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(t||ho,i)}function Oo(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||fo,i)}function Lo(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.safeSetTextureCube(t||po,i)}function Po(e,t){var n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function Bo(e,t){var n=this.cache;xo(n,t)||(e.uniform2iv(this.addr,t),wo(n,t))}function Fo(e,t){var n=this.cache;xo(n,t)||(e.uniform3iv(this.addr,t),wo(n,t))}function No(e,t){var n=this.cache;xo(n,t)||(e.uniform4iv(this.addr,t),wo(n,t))}function Go(e,t){var n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function jo(e,t){e.uniform1fv(this.addr,t)}function Uo(e,t){e.uniform1iv(this.addr,t)}function zo(e,t){e.uniform2iv(this.addr,t)}function Vo(e,t){e.uniform3iv(this.addr,t)}function Ho(e,t){e.uniform4iv(this.addr,t)}function Wo(e,t){var n=_o(t,this.size,2);e.uniform2fv(this.addr,n)}function Xo(e,t){var n=_o(t,this.size,3);e.uniform3fv(this.addr,n)}function qo(e,t){var n=_o(t,this.size,4);e.uniform4fv(this.addr,n)}function Yo(e,t){var n=_o(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function Qo(e,t){var n=_o(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function Zo(e,t){var n=_o(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function Ko(e,t,n){var r=t.length,i=Mo(n,r);e.uniform1iv(this.addr,i);for(var a=0;a!==r;++a)n.safeSetTexture2D(t[a]||co,i[a])}function Jo(e,t,n){var r=t.length,i=Mo(n,r);e.uniform1iv(this.addr,i);for(var a=0;a!==r;++a)n.safeSetTextureCube(t[a]||po,i[a])}function $o(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=function(e){switch(e){case 5126:return Eo;case 35664:return Ao;case 35665:return So;case 35666:return To;case 35674:return Co;case 35675:return Do;case 35676:return Ro;case 5124:case 35670:return Po;case 35667:case 35671:return Bo;case 35668:case 35672:return Fo;case 35669:case 35673:return No;case 5125:return Go;case 35678:case 36198:case 36298:case 36306:case 35682:return Io;case 35679:case 36299:case 36307:return Oo;case 35680:case 36300:case 36308:case 36293:return Lo;case 36289:case 36303:case 36311:case 36292:return ko}}(t.type)}function es(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=function(e){switch(e){case 5126:return jo;case 35664:return Wo;case 35665:return Xo;case 35666:return qo;case 35674:return Yo;case 35675:return Qo;case 35676:return Zo;case 5124:case 35670:return Uo;case 35667:case 35671:return zo;case 35668:case 35672:return Vo;case 35669:case 35673:return Ho;case 35678:case 36198:case 36298:case 36306:case 35682:return Ko;case 35680:case 36300:case 36308:case 36293:return Jo}}(t.type)}function ts(e){this.id=e,this.seq=[],this.map={}}es.prototype.updateCache=function(e){var t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),wo(t,e)},ts.prototype.setValue=function(e,t,n){for(var r=this.seq,i=0,a=r.length;i!==a;++i){var o=r[i];o.setValue(e,t[o.id],n)}};var ns=/([\w\d_]+)(\])?(\[|\.)?/g;function rs(e,t){e.seq.push(t),e.map[t.id]=t}function is(e,t,n){var r=e.name,i=r.length;for(ns.lastIndex=0;;){var a=ns.exec(r),o=ns.lastIndex,s=a[1],u="]"===a[2],l=a[3];if(u&&(s|=0),void 0===l||"["===l&&o+2===i){rs(n,void 0===l?new $o(s,e,t):new es(s,e,t));break}var c=n.map[s];void 0===c&&rs(n,c=new ts(s)),n=c}}function as(e,t){this.seq=[],this.map={};for(var n=e.getProgramParameter(t,35718),r=0;r<n;++r){var i=e.getActiveUniform(t,r);is(i,e.getUniformLocation(t,i.name),this)}}function os(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}as.prototype.setValue=function(e,t,n,r){var i=this.map[t];void 0!==i&&i.setValue(e,n,r)},as.prototype.setOptional=function(e,t,n){var r=t[n];void 0!==r&&this.setValue(e,n,r)},as.upload=function(e,t,n,r){for(var i=0,a=t.length;i!==a;++i){var o=t[i],s=n[o.id];!1!==s.needsUpdate&&o.setValue(e,s.value,r)}},as.seqWithValue=function(e,t){for(var n=[],r=0,i=e.length;r!==i;++r){var a=e[r];a.id in t&&n.push(a)}return n};var ss=0;function us(e){switch(e){case sn:return["Linear","( value )"];case un:return["sRGB","( value )"];case cn:return["RGBE","( value )"];case hn:return["RGBM","( value, 7.0 )"];case fn:return["RGBM","( value, 16.0 )"];case pn:return["RGBD","( value, 256.0 )"];case ln:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case dn:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}function ls(e,t,n){var r=e.getShaderParameter(t,35713),i=e.getShaderInfoLog(t).trim();return r&&""===i?"":"THREE.WebGLShader: gl.getShaderInfoLog() "+n+"\n"+i+function(e){for(var t=e.split("\n"),n=0;n<t.length;n++)t[n]=n+1+": "+t[n];return t.join("\n")}(e.getShaderSource(t))}function cs(e,t){var n=us(t);return"vec4 "+e+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function ds(e,t){var n=us(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function hs(e,t){var n;switch(t){case le:n="Linear";break;case ce:n="Reinhard";break;case de:n="OptimizedCineon";break;case he:n="ACESFilmic";break;case fe:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function fs(e){return""!==e}function ps(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function ms(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}var vs=/^[ \t]*#include +<([\w\d./]+)>/gm;function gs(e){return e.replace(vs,ys)}function ys(e,t){var n=Ha[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return gs(n)}var bs=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,_s=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function xs(e){return e.replace(_s,Ms).replace(bs,ws)}function ws(e,t,n,r){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),Ms(e,t,n,r)}function Ms(e,t,n,r){for(var i="",a=parseInt(t);a<parseInt(n);a++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function Es(e){var t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function As(e,t,n,r){var i,a,o=e.getContext(),s=n.defines,u=n.vertexShader,l=n.fragmentShader,c=function(e){var t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===x?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===w?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===M&&(t="SHADOWMAP_TYPE_VSM"),t}(n),d=function(e){var t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case me:case ve:t="ENVMAP_TYPE_CUBE";break;case be:case _e:t="ENVMAP_TYPE_CUBE_UV"}return t}(n),h=function(e){var t="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(e.envMapMode){case ve:case _e:t="ENVMAP_MODE_REFRACTION"}return t}(n),f=function(e){var t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case ae:t="ENVMAP_BLENDING_MULTIPLY";break;case oe:t="ENVMAP_BLENDING_MIX";break;case se:t="ENVMAP_BLENDING_ADD"}return t}(n),p=e.gammaFactor>0?e.gammaFactor:1,m=n.isWebGL2?"":function(e){return[e.extensionDerivatives||e.envMapCubeUV||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading||"physical"===e.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(fs).join("\n")}(n),v=function(e){var t=[];for(var n in e){var r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}(s),g=o.createProgram(),y=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?((i=[v].filter(fs).join("\n")).length>0&&(i+="\n"),(a=[m,v].filter(fs).join("\n")).length>0&&(a+="\n")):(i=[Es(n),"#define SHADER_NAME "+n.shaderName,v,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+p,"#define MAX_BONES "+n.maxBones,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+h:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.useVertexTexture?"#define BONE_TEXTURE":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(fs).join("\n"),a=[m,Es(n),"#define SHADER_NAME "+n.shaderName,v,n.alphaTest?"#define ALPHATEST "+n.alphaTest+(n.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+p,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+d:"",n.envMap?"#define "+h:"",n.envMap?"#define "+f:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.sheen?"#define USE_SHEEN":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(n.extensionShaderTextureLOD||n.envMap)&&n.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==ue?"#define TONE_MAPPING":"",n.toneMapping!==ue?Ha.tonemapping_pars_fragment:"",n.toneMapping!==ue?hs("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",Ha.encodings_pars_fragment,n.map?cs("mapTexelToLinear",n.mapEncoding):"",n.matcap?cs("matcapTexelToLinear",n.matcapEncoding):"",n.envMap?cs("envMapTexelToLinear",n.envMapEncoding):"",n.emissiveMap?cs("emissiveMapTexelToLinear",n.emissiveMapEncoding):"",n.lightMap?cs("lightMapTexelToLinear",n.lightMapEncoding):"",ds("linearToOutputTexel",n.outputEncoding),n.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(fs).join("\n")),u=ms(u=ps(u=gs(u),n),n),l=ms(l=ps(l=gs(l),n),n),u=xs(u),l=xs(l),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(y="#version 300 es\n",i=["#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+i,a=["#define varying in",n.glslVersion===Wn?"":"out highp vec4 pc_fragColor;",n.glslVersion===Wn?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+a);var b,_,E=y+a+l,A=os(o,35633,y+i+u),S=os(o,35632,E);if(o.attachShader(g,A),o.attachShader(g,S),void 0!==n.index0AttributeName?o.bindAttribLocation(g,0,n.index0AttributeName):!0===n.morphTargets&&o.bindAttribLocation(g,0,"position"),o.linkProgram(g),e.debug.checkShaderErrors){var T=o.getProgramInfoLog(g).trim(),C=o.getShaderInfoLog(A).trim(),D=o.getShaderInfoLog(S).trim(),R=!0,I=!0;if(!1===o.getProgramParameter(g,35714)){R=!1;var k=ls(o,A,"vertex"),O=ls(o,S,"fragment");console.error("THREE.WebGLProgram: shader error: ",o.getError(),"35715",o.getProgramParameter(g,35715),"gl.getProgramInfoLog",T,k,O)}else""!==T?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",T):""!==C&&""!==D||(I=!1);I&&(this.diagnostics={runnable:R,programLog:T,vertexShader:{log:C,prefix:i},fragmentShader:{log:D,prefix:a}})}return o.deleteShader(A),o.deleteShader(S),this.getUniforms=function(){return void 0===b&&(b=new as(o,g)),b},this.getAttributes=function(){return void 0===_&&(_=function(e,t){for(var n={},r=e.getProgramParameter(t,35721),i=0;i<r;i++){var a=e.getActiveAttrib(t,i).name;n[a]=e.getAttribLocation(t,a)}return n}(o,g)),_},this.destroy=function(){r.releaseStatesOfProgram(this),o.deleteProgram(g),this.program=void 0},this.name=n.shaderName,this.id=ss++,this.cacheKey=t,this.usedTimes=1,this.program=g,this.vertexShader=A,this.fragmentShader=S,this}function Ss(e,t,n,r,i,a){var o=[],s=r.isWebGL2,u=r.logarithmicDepthBuffer,l=r.floatVertexTextures,c=r.maxVertexUniforms,d=r.vertexTextures,h=r.precision,f={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},p=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen","transmissionMap"];function m(e){var t;return e?e.isTexture?t=e.encoding:e.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),t=e.texture.encoding):t=sn,t}return{getParameters:function(i,o,p,v,g){var y,b,_=v.fog,x=i.isMeshStandardMaterial?v.environment:null,w=t.get(i.envMap||x),M=f[i.type],E=g.isSkinnedMesh?function(e){var t=e.skeleton.bones;if(l)return 1024;var n=c,r=Math.floor((n-20)/4),i=Math.min(r,t.length);return i<t.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+t.length+" bones. This GPU supports "+i+"."),0):i}(g):0;if(null!==i.precision&&(h=r.getMaxPrecision(i.precision))!==i.precision&&console.warn("THREE.WebGLProgram.getParameters:",i.precision,"not supported, using",h,"instead."),M){var T=Xa[M];y=T.vertexShader,b=T.fragmentShader}else y=i.vertexShader,b=i.fragmentShader;var C=e.getRenderTarget();return{isWebGL2:s,shaderID:M,shaderName:i.type,vertexShader:y,fragmentShader:b,defines:i.defines,isRawShaderMaterial:!0===i.isRawShaderMaterial,glslVersion:i.glslVersion,precision:h,instancing:!0===g.isInstancedMesh,instancingColor:!0===g.isInstancedMesh&&null!==g.instanceColor,supportsVertexTextures:d,outputEncoding:null!==C?m(C.texture):e.outputEncoding,map:!!i.map,mapEncoding:m(i.map),matcap:!!i.matcap,matcapEncoding:m(i.matcap),envMap:!!w,envMapMode:w&&w.mapping,envMapEncoding:m(w),envMapCubeUV:!!w&&(w.mapping===be||w.mapping===_e),lightMap:!!i.lightMap,lightMapEncoding:m(i.lightMap),aoMap:!!i.aoMap,emissiveMap:!!i.emissiveMap,emissiveMapEncoding:m(i.emissiveMap),bumpMap:!!i.bumpMap,normalMap:!!i.normalMap,objectSpaceNormalMap:i.normalMapType===yn,tangentSpaceNormalMap:i.normalMapType===gn,clearcoatMap:!!i.clearcoatMap,clearcoatRoughnessMap:!!i.clearcoatRoughnessMap,clearcoatNormalMap:!!i.clearcoatNormalMap,displacementMap:!!i.displacementMap,roughnessMap:!!i.roughnessMap,metalnessMap:!!i.metalnessMap,specularMap:!!i.specularMap,alphaMap:!!i.alphaMap,gradientMap:!!i.gradientMap,sheen:!!i.sheen,transmissionMap:!!i.transmissionMap,combine:i.combine,vertexTangents:i.normalMap&&i.vertexTangents,vertexColors:i.vertexColors,vertexUvs:!!i.map||!!i.bumpMap||!!i.normalMap||!!i.specularMap||!!i.alphaMap||!!i.emissiveMap||!!i.roughnessMap||!!i.metalnessMap||!!i.clearcoatMap||!!i.clearcoatRoughnessMap||!!i.clearcoatNormalMap||!!i.displacementMap||!!i.transmissionMap,uvsVertexOnly:!(i.map||i.bumpMap||i.normalMap||i.specularMap||i.alphaMap||i.emissiveMap||i.roughnessMap||i.metalnessMap||i.clearcoatNormalMap||i.transmissionMap)&&!!i.displacementMap,fog:!!_,useFog:i.fog,fogExp2:_&&_.isFogExp2,flatShading:i.flatShading,sizeAttenuation:i.sizeAttenuation,logarithmicDepthBuffer:u,skinning:i.skinning&&E>0,maxBones:E,useVertexTexture:l,morphTargets:i.morphTargets,morphNormals:i.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:o.directional.length,numPointLights:o.point.length,numSpotLights:o.spot.length,numRectAreaLights:o.rectArea.length,numHemiLights:o.hemi.length,numDirLightShadows:o.directionalShadowMap.length,numPointLightShadows:o.pointShadowMap.length,numSpotLightShadows:o.spotShadowMap.length,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:i.dithering,shadowMapEnabled:e.shadowMap.enabled&&p.length>0,shadowMapType:e.shadowMap.type,toneMapping:i.toneMapped?e.toneMapping:ue,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:i.premultipliedAlpha,alphaTest:i.alphaTest,doubleSided:i.side===S,flipSided:i.side===A,depthPacking:void 0!==i.depthPacking&&i.depthPacking,index0AttributeName:i.index0AttributeName,extensionDerivatives:i.extensions&&i.extensions.derivatives,extensionFragDepth:i.extensions&&i.extensions.fragDepth,extensionDrawBuffers:i.extensions&&i.extensions.drawBuffers,extensionShaderTextureLOD:i.extensions&&i.extensions.shaderTextureLOD,rendererExtensionFragDepth:s||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:s||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:s||n.has("EXT_shader_texture_lod"),customProgramCacheKey:i.customProgramCacheKey()}},getProgramCacheKey:function(t){var n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.fragmentShader),n.push(t.vertexShader)),void 0!==t.defines)for(var r in t.defines)n.push(r),n.push(t.defines[r]);if(!1===t.isRawShaderMaterial){for(var i=0;i<p.length;i++)n.push(t[p[i]]);n.push(e.outputEncoding),n.push(e.gammaFactor)}return n.push(t.customProgramCacheKey),n.join()},getUniforms:function(e){var t,n=f[e.type];if(n){var r=Xa[n];t=Ra.clone(r.uniforms)}else t=e.uniforms;return t},acquireProgram:function(t,n){for(var r,a=0,s=o.length;a<s;a++){var u=o[a];if(u.cacheKey===n){++(r=u).usedTimes;break}}return void 0===r&&(r=new As(e,n,t,i),o.push(r)),r},releaseProgram:function(e){if(0===--e.usedTimes){var t=o.indexOf(e);o[t]=o[o.length-1],o.pop(),e.destroy()}},programs:o}}function Ts(){var e=new WeakMap;return{get:function(t){var n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,r){e.get(t)[n]=r},dispose:function(){e=new WeakMap}}}function Cs(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function Ds(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function Rs(e){var t=[],n=0,r=[],i=[],a={id:-1};function o(r,i,o,s,u,l){var c=t[n],d=e.get(o);return void 0===c?(c={id:r.id,object:r,geometry:i,material:o,program:d.program||a,groupOrder:s,renderOrder:r.renderOrder,z:u,group:l},t[n]=c):(c.id=r.id,c.object=r,c.geometry=i,c.material=o,c.program=d.program||a,c.groupOrder=s,c.renderOrder=r.renderOrder,c.z=u,c.group=l),n++,c}return{opaque:r,transparent:i,init:function(){n=0,r.length=0,i.length=0},push:function(e,t,n,a,s,u){var l=o(e,t,n,a,s,u);(!0===n.transparent?i:r).push(l)},unshift:function(e,t,n,a,s,u){var l=o(e,t,n,a,s,u);(!0===n.transparent?i:r).unshift(l)},finish:function(){for(var e=n,r=t.length;e<r;e++){var i=t[e];if(null===i.id)break;i.id=null,i.object=null,i.geometry=null,i.material=null,i.program=null,i.group=null}},sort:function(e,t){r.length>1&&r.sort(e||Cs),i.length>1&&i.sort(t||Ds)}}}function Is(e){var t=new WeakMap;return{get:function(n,r){var i,a=t.get(n);return void 0===a?(i=new Rs(e),t.set(n,new WeakMap),t.get(n).set(r,i)):void 0===(i=a.get(r))&&(i=new Rs(e),a.set(r,i)),i},dispose:function(){t=new WeakMap}}}function ks(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":n={direction:new sr,color:new Ci};break;case"SpotLight":n={position:new sr,direction:new sr,color:new Ci,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new sr,color:new Ci,distance:0,decay:0};break;case"HemisphereLight":n={direction:new sr,skyColor:new Ci,groundColor:new Ci};break;case"RectAreaLight":n={color:new Ci,position:new sr,halfWidth:new sr,halfHeight:new sr}}return e[t.id]=n,n}}}var Os=0;function Ls(e,t){return(t.castShadow?1:0)-(e.castShadow?1:0)}function Ps(){for(var e=new ks,t=function(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Jn};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Jn,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=n,n}}}(),n={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},r=0;r<9;r++)n.probe.push(new sr);var i=new sr,a=new Pr,o=new Pr;return{setup:function(r,s,u){for(var l=0,c=0,d=0,h=0;h<9;h++)n.probe[h].set(0,0,0);var f=0,p=0,m=0,v=0,g=0,y=0,b=0,_=0,x=u.matrixWorldInverse;r.sort(Ls);for(var w=0,M=r.length;w<M;w++){var E=r[w],A=E.color,S=E.intensity,T=E.distance,C=E.shadow&&E.shadow.map?E.shadow.map.texture:null;if(E.isAmbientLight)l+=A.r*S,c+=A.g*S,d+=A.b*S;else if(E.isLightProbe)for(var D=0;D<9;D++)n.probe[D].addScaledVector(E.sh.coefficients[D],S);else if(E.isDirectionalLight){var R=e.get(E);if(R.color.copy(E.color).multiplyScalar(E.intensity),R.direction.setFromMatrixPosition(E.matrixWorld),i.setFromMatrixPosition(E.target.matrixWorld),R.direction.sub(i),R.direction.transformDirection(x),E.castShadow){var I=E.shadow,k=t.get(E);k.shadowBias=I.bias,k.shadowNormalBias=I.normalBias,k.shadowRadius=I.radius,k.shadowMapSize=I.mapSize,n.directionalShadow[f]=k,n.directionalShadowMap[f]=C,n.directionalShadowMatrix[f]=E.shadow.matrix,y++}n.directional[f]=R,f++}else if(E.isSpotLight){var O=e.get(E);if(O.position.setFromMatrixPosition(E.matrixWorld),O.position.applyMatrix4(x),O.color.copy(A).multiplyScalar(S),O.distance=T,O.direction.setFromMatrixPosition(E.matrixWorld),i.setFromMatrixPosition(E.target.matrixWorld),O.direction.sub(i),O.direction.transformDirection(x),O.coneCos=Math.cos(E.angle),O.penumbraCos=Math.cos(E.angle*(1-E.penumbra)),O.decay=E.decay,E.castShadow){var L=E.shadow,P=t.get(E);P.shadowBias=L.bias,P.shadowNormalBias=L.normalBias,P.shadowRadius=L.radius,P.shadowMapSize=L.mapSize,n.spotShadow[m]=P,n.spotShadowMap[m]=C,n.spotShadowMatrix[m]=E.shadow.matrix,_++}n.spot[m]=O,m++}else if(E.isRectAreaLight){var B=e.get(E);B.color.copy(A).multiplyScalar(S),B.position.setFromMatrixPosition(E.matrixWorld),B.position.applyMatrix4(x),o.identity(),a.copy(E.matrixWorld),a.premultiply(x),o.extractRotation(a),B.halfWidth.set(.5*E.width,0,0),B.halfHeight.set(0,.5*E.height,0),B.halfWidth.applyMatrix4(o),B.halfHeight.applyMatrix4(o),n.rectArea[v]=B,v++}else if(E.isPointLight){var F=e.get(E);if(F.position.setFromMatrixPosition(E.matrixWorld),F.position.applyMatrix4(x),F.color.copy(E.color).multiplyScalar(E.intensity),F.distance=E.distance,F.decay=E.decay,E.castShadow){var N=E.shadow,G=t.get(E);G.shadowBias=N.bias,G.shadowNormalBias=N.normalBias,G.shadowRadius=N.radius,G.shadowMapSize=N.mapSize,G.shadowCameraNear=N.camera.near,G.shadowCameraFar=N.camera.far,n.pointShadow[p]=G,n.pointShadowMap[p]=C,n.pointShadowMatrix[p]=E.shadow.matrix,b++}n.point[p]=F,p++}else if(E.isHemisphereLight){var j=e.get(E);j.direction.setFromMatrixPosition(E.matrixWorld),j.direction.transformDirection(x),j.direction.normalize(),j.skyColor.copy(E.color).multiplyScalar(S),j.groundColor.copy(E.groundColor).multiplyScalar(S),n.hemi[g]=j,g++}}v>0&&(n.rectAreaLTC1=Wa.LTC_1,n.rectAreaLTC2=Wa.LTC_2),n.ambient[0]=l,n.ambient[1]=c,n.ambient[2]=d;var U=n.hash;U.directionalLength===f&&U.pointLength===p&&U.spotLength===m&&U.rectAreaLength===v&&U.hemiLength===g&&U.numDirectionalShadows===y&&U.numPointShadows===b&&U.numSpotShadows===_||(n.directional.length=f,n.spot.length=m,n.rectArea.length=v,n.point.length=p,n.hemi.length=g,n.directionalShadow.length=y,n.directionalShadowMap.length=y,n.pointShadow.length=b,n.pointShadowMap.length=b,n.spotShadow.length=_,n.spotShadowMap.length=_,n.directionalShadowMatrix.length=y,n.pointShadowMatrix.length=b,n.spotShadowMatrix.length=_,U.directionalLength=f,U.pointLength=p,U.spotLength=m,U.rectAreaLength=v,U.hemiLength=g,U.numDirectionalShadows=y,U.numPointShadows=b,U.numSpotShadows=_,n.version=Os++)},state:n}}function Bs(){var e=new Ps,t=[],n=[];return{init:function(){t.length=0,n.length=0},state:{lightsArray:t,shadowsArray:n,lights:e},setupLights:function(r){e.setup(t,n,r)},pushLight:function(e){t.push(e)},pushShadow:function(e){n.push(e)}}}function Fs(){var e=new WeakMap;return{get:function(t,n){var r;return!1===e.has(t)?(r=new Bs,e.set(t,new WeakMap),e.get(t).set(n,r)):!1===e.get(t).has(n)?(r=new Bs,e.get(t).set(n,r)):r=e.get(t).get(n),r},dispose:function(){e=new WeakMap}}}function Ns(e){Ii.call(this),this.type="MeshDepthMaterial",this.depthPacking=mn,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}function Gs(e){Ii.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new sr,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}Ns.prototype=Object.create(Ii.prototype),Ns.prototype.constructor=Ns,Ns.prototype.isMeshDepthMaterial=!0,Ns.prototype.copy=function(e){return Ii.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this},Gs.prototype=Object.create(Ii.prototype),Gs.prototype.constructor=Gs,Gs.prototype.isMeshDistanceMaterial=!0,Gs.prototype.copy=function(e){return Ii.prototype.copy.call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this};function js(e,t,n){var r=new Ga,i=new Jn,a=new Jn,o=new rr,s=[],u=[],l={},c={0:A,1:E,2:S},d=new Ia({defines:{SAMPLE_RATE:2/8,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new Jn},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy ) / resolution ) );\n\tfor ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\n\t\t#ifdef HORIZONAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, i ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean * HALF_SAMPLE_RATE;\n\tsquared_mean = squared_mean * HALF_SAMPLE_RATE;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),h=d.clone();h.defines.HORIZONAL_PASS=1;var f=new ea;f.setAttribute("position",new Pi(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var p=new ya(f,d),m=this;function v(n,r){var i=t.update(p);d.uniforms.shadow_pass.value=n.map.texture,d.uniforms.resolution.value=n.mapSize,d.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(r,null,i,d,p,null),h.uniforms.shadow_pass.value=n.mapPass.texture,h.uniforms.resolution.value=n.mapSize,h.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(r,null,i,h,p,null)}function g(e,t,n){var r=e<<0|t<<1|n<<2,i=s[r];return void 0===i&&(i=new Ns({depthPacking:vn,morphTargets:e,skinning:t}),s[r]=i),i}function y(e,t,n){var r=e<<0|t<<1|n<<2,i=u[r];return void 0===i&&(i=new Gs({morphTargets:e,skinning:t}),u[r]=i),i}function b(t,n,r,i,a,o,s){var u=null,d=g,h=t.customDepthMaterial;if(!0===i.isPointLight&&(d=y,h=t.customDistanceMaterial),void 0===h){var f=!1;!0===r.morphTargets&&(f=n.morphAttributes&&n.morphAttributes.position&&n.morphAttributes.position.length>0);var p=!1;!0===t.isSkinnedMesh&&(!0===r.skinning?p=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",t)),u=d(f,p,!0===t.isInstancedMesh)}else u=h;if(e.localClippingEnabled&&!0===r.clipShadows&&0!==r.clippingPlanes.length){var m=u.uuid,v=r.uuid,b=l[m];void 0===b&&(b={},l[m]=b);var _=b[v];void 0===_&&(_=u.clone(),b[v]=_),u=_}return u.visible=r.visible,u.wireframe=r.wireframe,u.side=s===M?null!==r.shadowSide?r.shadowSide:r.side:null!==r.shadowSide?r.shadowSide:c[r.side],u.clipShadows=r.clipShadows,u.clippingPlanes=r.clippingPlanes,u.clipIntersection=r.clipIntersection,u.wireframeLinewidth=r.wireframeLinewidth,u.linewidth=r.linewidth,!0===i.isPointLight&&!0===u.isMeshDistanceMaterial&&(u.referencePosition.setFromMatrixPosition(i.matrixWorld),u.nearDistance=a,u.farDistance=o),u}function _(n,i,a,o,s){if(!1!==n.visible){if(n.layers.test(i.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&s===M)&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,n.matrixWorld);var u=t.update(n),l=n.material;if(Array.isArray(l))for(var c=u.groups,d=0,h=c.length;d<h;d++){var f=c[d],p=l[f.materialIndex];if(p&&p.visible){var m=b(n,u,p,o,a.near,a.far,s);e.renderBufferDirect(a,null,u,m,n,f)}}else if(l.visible){var v=b(n,u,l,o,a.near,a.far,s);e.renderBufferDirect(a,null,u,v,n,null)}}for(var g=n.children,y=0,x=g.length;y<x;y++)_(g[y],i,a,o,s)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=x,this.render=function(t,s,u){if(!1!==m.enabled&&(!1!==m.autoUpdate||!1!==m.needsUpdate)&&0!==t.length){var l=e.getRenderTarget(),c=e.getActiveCubeFace(),d=e.getActiveMipmapLevel(),h=e.state;h.setBlending(D),h.buffers.color.setClear(1,1,1,1),h.buffers.depth.setTest(!0),h.setScissorTest(!1);for(var f=0,p=t.length;f<p;f++){var g=t[f],y=g.shadow;if(!1!==y.autoUpdate||!1!==y.needsUpdate)if(void 0!==y){i.copy(y.mapSize);var b=y.getFrameExtents();if(i.multiply(b),a.copy(y.mapSize),(i.x>n||i.y>n)&&(i.x>n&&(a.x=Math.floor(n/b.x),i.x=a.x*b.x,y.mapSize.x=a.x),i.y>n&&(a.y=Math.floor(n/b.y),i.y=a.y*b.y,y.mapSize.y=a.y)),null===y.map&&!y.isPointLightShadow&&this.type===M){var x={minFilter:De,magFilter:De,format:Ye};y.map=new ir(i.x,i.y,x),y.map.texture.name=g.name+".shadowMap",y.mapPass=new ir(i.x,i.y,x),y.camera.updateProjectionMatrix()}if(null===y.map){var w={minFilter:Ee,magFilter:Ee,format:Ye};y.map=new ir(i.x,i.y,w),y.map.texture.name=g.name+".shadowMap",y.camera.updateProjectionMatrix()}e.setRenderTarget(y.map),e.clear();for(var E=y.getViewportCount(),A=0;A<E;A++){var S=y.getViewport(A);o.set(a.x*S.x,a.y*S.y,a.x*S.z,a.y*S.w),h.viewport(o),y.updateMatrices(g,A),r=y.getFrustum(),_(s,u,y.camera,g,this.type)}y.isPointLightShadow||this.type!==M||v(y,u),y.needsUpdate=!1}else console.warn("THREE.WebGLShadowMap:",g,"has no shadow.")}m.needsUpdate=!1,e.setRenderTarget(l,c,d)}}}function Us(e,t,n){var r,i,a=n.isWebGL2;var o=new function(){var t=!1,n=new rr,r=null,i=new rr(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,a,o,s){!0===s&&(t*=o,r*=o,a*=o),n.set(t,r,a,o),!1===i.equals(n)&&(e.clearColor(t,r,a,o),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}},u=new function(){var t=!1,n=null,r=null,i=null;return{setTest:function(e){e?ge(2929):ye(2929)},setMask:function(r){n===r||t||(e.depthMask(r),n=r)},setFunc:function(t){if(r!==t){if(t)switch(t){case K:e.depthFunc(512);break;case J:e.depthFunc(519);break;case $:e.depthFunc(513);break;case ee:e.depthFunc(515);break;case te:e.depthFunc(514);break;case ne:e.depthFunc(518);break;case re:e.depthFunc(516);break;case ie:e.depthFunc(517);break;default:e.depthFunc(515)}else e.depthFunc(515);r=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,n=null,r=null,i=null}}},l=new function(){var t=!1,n=null,r=null,i=null,a=null,o=null,s=null,u=null,l=null;return{setTest:function(e){t||(e?ge(2960):ye(2960))},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,o){r===t&&i===n&&a===o||(e.stencilFunc(t,n,o),r=t,i=n,a=o)},setOp:function(t,n,r){o===t&&s===n&&u===r||(e.stencilOp(t,n,r),o=t,s=n,u=r)},setLocked:function(e){t=e},setClear:function(t){l!==t&&(e.clearStencil(t),l=t)},reset:function(){t=!1,n=null,r=null,i=null,a=null,o=null,s=null,u=null,l=null}}},c={},d=null,h=null,f=null,p=null,m=null,b=null,_=null,x=null,w=null,M=!1,E=null,T=null,C=null,ae=null,oe=null,se=e.getParameter(35661),ue=!1,le=0,ce=e.getParameter(7938);-1!==ce.indexOf("WebGL")?(le=parseFloat(/^WebGL\ ([0-9])/.exec(ce)[1]),ue=le>=1):-1!==ce.indexOf("OpenGL ES")&&(le=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(ce)[1]),ue=le>=2);var de=null,he={},fe=new rr,pe=new rr;function me(t,n,r){var i=new Uint8Array(4),a=e.createTexture();e.bindTexture(t,a),e.texParameteri(t,10241,9728),e.texParameteri(t,10240,9728);for(var o=0;o<r;o++)e.texImage2D(n+o,0,6408,1,1,0,6408,5121,i);return a}var ve={};function ge(t){!0!==c[t]&&(e.enable(t),c[t]=!0)}function ye(t){!1!==c[t]&&(e.disable(t),c[t]=!1)}ve[3553]=me(3553,3553,1),ve[34067]=me(34067,34069,6),o.setClear(0,0,0,1),u.setClear(1),l.setClear(0),ge(2929),u.setFunc(ee),Me(!1),Ee(g),ge(2884),we(D);var be=(r={},Object(s.a)(r,P,32774),Object(s.a)(r,B,32778),Object(s.a)(r,F,32779),r);if(a)be[N]=32775,be[G]=32776;else{var _e=t.get("EXT_blend_minmax");null!==_e&&(be[N]=_e.MIN_EXT,be[G]=_e.MAX_EXT)}var xe=(i={},Object(s.a)(i,j,0),Object(s.a)(i,U,1),Object(s.a)(i,z,768),Object(s.a)(i,H,770),Object(s.a)(i,Z,776),Object(s.a)(i,Y,774),Object(s.a)(i,X,772),Object(s.a)(i,V,769),Object(s.a)(i,W,771),Object(s.a)(i,Q,775),Object(s.a)(i,q,773),i);function we(t,n,r,i,a,o,s,u){if(t!==D){if(h||(ge(3042),h=!0),t===L)a=a||n,o=o||r,s=s||i,n===p&&a===_||(e.blendEquationSeparate(be[n],be[a]),p=n,_=a),r===m&&i===b&&o===x&&s===w||(e.blendFuncSeparate(xe[r],xe[i],xe[o],xe[s]),m=r,b=i,x=o,w=s),f=t,M=null;else if(t!==f||u!==M){if(p===P&&_===P||(e.blendEquation(32774),p=P,_=P),u)switch(t){case R:e.blendFuncSeparate(1,771,1,771);break;case I:e.blendFunc(1,1);break;case k:e.blendFuncSeparate(0,0,769,771);break;case O:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case R:e.blendFuncSeparate(770,771,1,771);break;case I:e.blendFunc(770,1);break;case k:e.blendFunc(0,769);break;case O:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}m=null,b=null,x=null,w=null,f=t,M=u}}else h&&(ye(3042),h=!1)}function Me(t){E!==t&&(t?e.frontFace(2304):e.frontFace(2305),E=t)}function Ee(t){t!==v?(ge(2884),t!==T&&(t===g?e.cullFace(1029):t===y?e.cullFace(1028):e.cullFace(1032))):ye(2884),T=t}function Ae(t,n,r){t?(ge(32823),ae===n&&oe===r||(e.polygonOffset(n,r),ae=n,oe=r)):ye(32823)}function Se(t){void 0===t&&(t=33984+se-1),de!==t&&(e.activeTexture(t),de=t)}return{buffers:{color:o,depth:u,stencil:l},enable:ge,disable:ye,useProgram:function(t){return d!==t&&(e.useProgram(t),d=t,!0)},setBlending:we,setMaterial:function(e,t){e.side===S?ye(2884):ge(2884);var n=e.side===A;t&&(n=!n),Me(n),e.blending===R&&!1===e.transparent?we(D):we(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),u.setFunc(e.depthFunc),u.setTest(e.depthTest),u.setMask(e.depthWrite),o.setMask(e.colorWrite);var r=e.stencilWrite;l.setTest(r),r&&(l.setMask(e.stencilWriteMask),l.setFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),l.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),Ae(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits)},setFlipSided:Me,setCullFace:Ee,setLineWidth:function(t){t!==C&&(ue&&e.lineWidth(t),C=t)},setPolygonOffset:Ae,setScissorTest:function(e){e?ge(3089):ye(3089)},activeTexture:Se,bindTexture:function(t,n){null===de&&Se();var r=he[de];void 0===r&&(r={type:void 0,texture:void 0},he[de]=r),r.type===t&&r.texture===n||(e.bindTexture(t,n||ve[t]),r.type=t,r.texture=n)},unbindTexture:function(){var t=he[de];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(t){!1===fe.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),fe.copy(t))},viewport:function(t){!1===pe.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),pe.copy(t))},reset:function(){c={},de=null,he={},d=null,f=null,E=null,T=null,o.reset(),u.reset(),l.reset()}}}function zs(e,t,n,r,i,a,o){var u,l,c,d=i.isWebGL2,h=i.maxTextures,f=i.maxCubemapSize,p=i.maxTextureSize,m=i.maxSamples,v=new WeakMap,g=!1;try{g="undefined"!==typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(z){}function y(e,t){return g?new OffscreenCanvas(e,t):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function b(e,t,n,r){var i=1;if((e.width>r||e.height>r)&&(i=r/Math.max(e.width,e.height)),i<1||!0===t){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){var a=t?Kn.floorPowerOfTwo:Math.floor,o=a(i*e.width),s=a(i*e.height);void 0===c&&(c=y(o,s));var u=n?y(o,s):c;return u.width=o,u.height=s,u.getContext("2d").drawImage(e,0,0,o,s),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+o+"x"+s+")."),u}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function _(e){return Kn.isPowerOfTwo(e.width)&&Kn.isPowerOfTwo(e.height)}function x(e,t){return e.generateMipmaps&&t&&e.minFilter!==Ee&&e.minFilter!==De}function w(t,n,i,a){e.generateMipmap(t),r.get(n).__maxMipLevel=Math.log(Math.max(i,a))*Math.LOG2E}function M(n,r,i){if(!1===d)return r;if(null!==n){if(void 0!==e[n])return e[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}var a=r;return 6403===r&&(5126===i&&(a=33326),5131===i&&(a=33325),5121===i&&(a=33321)),6407===r&&(5126===i&&(a=34837),5131===i&&(a=34843),5121===i&&(a=32849)),6408===r&&(5126===i&&(a=34836),5131===i&&(a=34842),5121===i&&(a=32856)),33325!==a&&33326!==a&&34842!==a&&34836!==a||t.get("EXT_color_buffer_float"),a}function E(e){return e===Ee||e===Ae||e===Te?9728:9729}function A(t){var n=t.target;n.removeEventListener("dispose",A),function(t){var n=r.get(t);if(void 0===n.__webglInit)return;e.deleteTexture(n.__webglTexture),r.remove(t)}(n),n.isVideoTexture&&v.delete(n),o.memory.textures--}function S(t){var n=t.target;n.removeEventListener("dispose",S),function(t){var n=r.get(t),i=r.get(t.texture);if(!t)return;void 0!==i.__webglTexture&&e.deleteTexture(i.__webglTexture);t.depthTexture&&t.depthTexture.dispose();if(t.isWebGLCubeRenderTarget)for(var a=0;a<6;a++)e.deleteFramebuffer(n.__webglFramebuffer[a]),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer[a]);else e.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer),n.__webglMultisampledFramebuffer&&e.deleteFramebuffer(n.__webglMultisampledFramebuffer),n.__webglColorRenderbuffer&&e.deleteRenderbuffer(n.__webglColorRenderbuffer),n.__webglDepthRenderbuffer&&e.deleteRenderbuffer(n.__webglDepthRenderbuffer);r.remove(t.texture),r.remove(t)}(n),o.memory.textures--}var T=0;function C(e,t){var i=r.get(e);if(e.isVideoTexture&&function(e){var t=o.render.frame;v.get(e)!==t&&(v.set(e,t),e.update())}(e),e.version>0&&i.__version!==e.version){var a=e.image;if(void 0===a)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==a.complete)return void P(i,e,t);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.activeTexture(33984+t),n.bindTexture(3553,i.__webglTexture)}function D(t,i){if(6===t.image.length){var o=r.get(t);if(t.version>0&&o.__version!==t.version){L(o,t),n.activeTexture(33984+i),n.bindTexture(34067,o.__webglTexture),e.pixelStorei(37440,t.flipY);for(var s=t&&(t.isCompressedTexture||t.image[0].isCompressedTexture),u=t.image[0]&&t.image[0].isDataTexture,l=[],c=0;c<6;c++)l[c]=s||u?u?t.image[c].image:t.image[c]:b(t.image[c],!1,!0,f);var h,p=l[0],m=_(p)||d,v=a.convert(t.format),g=a.convert(t.type),y=M(t.internalFormat,v,g);if(O(34067,t,m),s){for(var E=0;E<6;E++){h=l[E].mipmaps;for(var A=0;A<h.length;A++){var S=h[A];t.format!==Ye&&t.format!==qe?null!==v?n.compressedTexImage2D(34069+E,A,y,S.width,S.height,0,S.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(34069+E,A,y,S.width,S.height,0,v,g,S.data)}}o.__maxMipLevel=h.length-1}else{h=t.mipmaps;for(var T=0;T<6;T++)if(u){n.texImage2D(34069+T,0,y,l[T].width,l[T].height,0,v,g,l[T].data);for(var C=0;C<h.length;C++){var D=h[C].image[T].image;n.texImage2D(34069+T,C+1,y,D.width,D.height,0,v,g,D.data)}}else{n.texImage2D(34069+T,0,y,v,g,l[T]);for(var R=0;R<h.length;R++){var I=h[R];n.texImage2D(34069+T,R+1,y,v,g,I.image[T])}}o.__maxMipLevel=h.length}x(t,m)&&w(34067,t,p.width,p.height),o.__version=t.version,t.onUpdate&&t.onUpdate(t)}else n.activeTexture(33984+i),n.bindTexture(34067,o.__webglTexture)}}function R(e,t){n.activeTexture(33984+t),n.bindTexture(34067,r.get(e).__webglTexture)}var I=(u={},Object(s.a)(u,xe,10497),Object(s.a)(u,we,33071),Object(s.a)(u,Me,33648),u),k=(l={},Object(s.a)(l,Ee,9728),Object(s.a)(l,Ae,9984),Object(s.a)(l,Te,9986),Object(s.a)(l,De,9729),Object(s.a)(l,Re,9985),Object(s.a)(l,ke,9987),l);function O(n,a,o){o?(e.texParameteri(n,10242,I[a.wrapS]),e.texParameteri(n,10243,I[a.wrapT]),32879!==n&&35866!==n||e.texParameteri(n,32882,I[a.wrapR]),e.texParameteri(n,10240,k[a.magFilter]),e.texParameteri(n,10241,k[a.minFilter])):(e.texParameteri(n,10242,33071),e.texParameteri(n,10243,33071),32879!==n&&35866!==n||e.texParameteri(n,32882,33071),a.wrapS===we&&a.wrapT===we||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(n,10240,E(a.magFilter)),e.texParameteri(n,10241,E(a.minFilter)),a.minFilter!==Ee&&a.minFilter!==De&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."));var s=t.get("EXT_texture_filter_anisotropic");if(s){if(a.type===je&&null===t.get("OES_texture_float_linear"))return;if(a.type===Ue&&null===(d||t.get("OES_texture_half_float_linear")))return;(a.anisotropy>1||r.get(a).__currentAnisotropy)&&(e.texParameterf(n,s.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,i.getMaxAnisotropy())),r.get(a).__currentAnisotropy=a.anisotropy)}}function L(t,n){void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",A),t.__webglTexture=e.createTexture(),o.memory.textures++)}function P(t,r,i){var o=3553;r.isDataTexture2DArray&&(o=35866),r.isDataTexture3D&&(o=32879),L(t,r),n.activeTexture(33984+i),n.bindTexture(o,t.__webglTexture),e.pixelStorei(37440,r.flipY),e.pixelStorei(37441,r.premultiplyAlpha),e.pixelStorei(3317,r.unpackAlignment);var s,u=function(e){return!d&&(e.wrapS!==we||e.wrapT!==we||e.minFilter!==Ee&&e.minFilter!==De)}(r)&&!1===_(r.image),l=b(r.image,u,!1,p),c=_(l)||d,h=a.convert(r.format),f=a.convert(r.type),m=M(r.internalFormat,h,f);O(o,r,c);var v=r.mipmaps;if(r.isDepthTexture)m=6402,d?m=r.type===je?36012:r.type===Ge?33190:r.type===We?35056:33189:r.type===je&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),r.format===Je&&6402===m&&r.type!==Fe&&r.type!==Ge&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),r.type=Fe,f=a.convert(r.type)),r.format===$e&&6402===m&&(m=34041,r.type!==We&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),r.type=We,f=a.convert(r.type))),n.texImage2D(3553,0,m,l.width,l.height,0,h,f,null);else if(r.isDataTexture)if(v.length>0&&c){for(var g=0,y=v.length;g<y;g++)s=v[g],n.texImage2D(3553,g,m,s.width,s.height,0,h,f,s.data);r.generateMipmaps=!1,t.__maxMipLevel=v.length-1}else n.texImage2D(3553,0,m,l.width,l.height,0,h,f,l.data),t.__maxMipLevel=0;else if(r.isCompressedTexture){for(var E=0,A=v.length;E<A;E++)s=v[E],r.format!==Ye&&r.format!==qe?null!==h?n.compressedTexImage2D(3553,E,m,s.width,s.height,0,s.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(3553,E,m,s.width,s.height,0,h,f,s.data);t.__maxMipLevel=v.length-1}else if(r.isDataTexture2DArray)n.texImage3D(35866,0,m,l.width,l.height,l.depth,0,h,f,l.data),t.__maxMipLevel=0;else if(r.isDataTexture3D)n.texImage3D(32879,0,m,l.width,l.height,l.depth,0,h,f,l.data),t.__maxMipLevel=0;else if(v.length>0&&c){for(var S=0,T=v.length;S<T;S++)s=v[S],n.texImage2D(3553,S,m,h,f,s);r.generateMipmaps=!1,t.__maxMipLevel=v.length-1}else n.texImage2D(3553,0,m,h,f,l),t.__maxMipLevel=0;x(r,c)&&w(o,r,l.width,l.height),t.__version=r.version,r.onUpdate&&r.onUpdate(r)}function B(t,i,o,s){var u=a.convert(i.texture.format),l=a.convert(i.texture.type),c=M(i.texture.internalFormat,u,l);n.texImage2D(s,0,c,i.width,i.height,0,u,l,null),e.bindFramebuffer(36160,t),e.framebufferTexture2D(36160,o,s,r.get(i.texture).__webglTexture,0),e.bindFramebuffer(36160,null)}function F(t,n,r){if(e.bindRenderbuffer(36161,t),n.depthBuffer&&!n.stencilBuffer){var i=33189;if(r){var o=n.depthTexture;o&&o.isDepthTexture&&(o.type===je?i=36012:o.type===Ge&&(i=33190));var s=G(n);e.renderbufferStorageMultisample(36161,s,i,n.width,n.height)}else e.renderbufferStorage(36161,i,n.width,n.height);e.framebufferRenderbuffer(36160,36096,36161,t)}else if(n.depthBuffer&&n.stencilBuffer){if(r){var u=G(n);e.renderbufferStorageMultisample(36161,u,35056,n.width,n.height)}else e.renderbufferStorage(36161,34041,n.width,n.height);e.framebufferRenderbuffer(36160,33306,36161,t)}else{var l=a.convert(n.texture.format),c=a.convert(n.texture.type),d=M(n.texture.internalFormat,l,c);if(r){var h=G(n);e.renderbufferStorageMultisample(36161,h,d,n.width,n.height)}else e.renderbufferStorage(36161,d,n.width,n.height)}e.bindRenderbuffer(36161,null)}function N(t){var n=r.get(t),i=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture){if(i)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,n){if(n&&n.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(36160,t),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),C(n.depthTexture,0);var i=r.get(n.depthTexture).__webglTexture;if(n.depthTexture.format===Je)e.framebufferTexture2D(36160,36096,3553,i,0);else{if(n.depthTexture.format!==$e)throw new Error("Unknown depthTexture format");e.framebufferTexture2D(36160,33306,3553,i,0)}}(n.__webglFramebuffer,t)}else if(i){n.__webglDepthbuffer=[];for(var a=0;a<6;a++)e.bindFramebuffer(36160,n.__webglFramebuffer[a]),n.__webglDepthbuffer[a]=e.createRenderbuffer(),F(n.__webglDepthbuffer[a],t,!1)}else e.bindFramebuffer(36160,n.__webglFramebuffer),n.__webglDepthbuffer=e.createRenderbuffer(),F(n.__webglDepthbuffer,t,!1);e.bindFramebuffer(36160,null)}function G(e){return d&&e.isWebGLMultisampleRenderTarget?Math.min(m,e.samples):0}var j=!1,U=!1;this.allocateTextureUnit=function(){var e=T;return e>=h&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+h),T+=1,e},this.resetTextureUnits=function(){T=0},this.setTexture2D=C,this.setTexture2DArray=function(e,t){var i=r.get(e);e.version>0&&i.__version!==e.version?P(i,e,t):(n.activeTexture(33984+t),n.bindTexture(35866,i.__webglTexture))},this.setTexture3D=function(e,t){var i=r.get(e);e.version>0&&i.__version!==e.version?P(i,e,t):(n.activeTexture(33984+t),n.bindTexture(32879,i.__webglTexture))},this.setTextureCube=D,this.setTextureCubeDynamic=R,this.setupRenderTarget=function(t){var i=r.get(t),s=r.get(t.texture);t.addEventListener("dispose",S),s.__webglTexture=e.createTexture(),o.memory.textures++;var u=!0===t.isWebGLCubeRenderTarget,l=!0===t.isWebGLMultisampleRenderTarget,c=_(t)||d;if(!d||t.texture.format!==qe||t.texture.type!==je&&t.texture.type!==Ue||(t.texture.format=Ye,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),u){i.__webglFramebuffer=[];for(var h=0;h<6;h++)i.__webglFramebuffer[h]=e.createFramebuffer()}else if(i.__webglFramebuffer=e.createFramebuffer(),l)if(d){i.__webglMultisampledFramebuffer=e.createFramebuffer(),i.__webglColorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(36161,i.__webglColorRenderbuffer);var f=a.convert(t.texture.format),p=a.convert(t.texture.type),m=M(t.texture.internalFormat,f,p),v=G(t);e.renderbufferStorageMultisample(36161,v,m,t.width,t.height),e.bindFramebuffer(36160,i.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064,36161,i.__webglColorRenderbuffer),e.bindRenderbuffer(36161,null),t.depthBuffer&&(i.__webglDepthRenderbuffer=e.createRenderbuffer(),F(i.__webglDepthRenderbuffer,t,!0)),e.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(u){n.bindTexture(34067,s.__webglTexture),O(34067,t.texture,c);for(var g=0;g<6;g++)B(i.__webglFramebuffer[g],t,36064,34069+g);x(t.texture,c)&&w(34067,t.texture,t.width,t.height),n.bindTexture(34067,null)}else n.bindTexture(3553,s.__webglTexture),O(3553,t.texture,c),B(i.__webglFramebuffer,t,36064,3553),x(t.texture,c)&&w(3553,t.texture,t.width,t.height),n.bindTexture(3553,null);t.depthBuffer&&N(t)},this.updateRenderTargetMipmap=function(e){var t=e.texture;if(x(t,_(e)||d)){var i=e.isWebGLCubeRenderTarget?34067:3553,a=r.get(t).__webglTexture;n.bindTexture(i,a),w(i,t,e.width,e.height),n.bindTexture(i,null)}},this.updateMultisampleRenderTarget=function(t){if(t.isWebGLMultisampleRenderTarget)if(d){var n=r.get(t);e.bindFramebuffer(36008,n.__webglMultisampledFramebuffer),e.bindFramebuffer(36009,n.__webglFramebuffer);var i=t.width,a=t.height,o=16384;t.depthBuffer&&(o|=256),t.stencilBuffer&&(o|=1024),e.blitFramebuffer(0,0,i,a,0,0,i,a,o,9728),e.bindFramebuffer(36160,n.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.safeSetTexture2D=function(e,t){e&&e.isWebGLRenderTarget&&(!1===j&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),j=!0),e=e.texture),C(e,t)},this.safeSetTextureCube=function(e,t){e&&e.isWebGLCubeRenderTarget&&(!1===U&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),U=!0),e=e.texture),e&&e.isCubeTexture||Array.isArray(e.image)&&6===e.image.length?D(e,t):R(e,t)}}function Vs(e,t,n){var r=n.isWebGL2;return{convert:function(e){var n;if(e===Le)return 5121;if(e===ze)return 32819;if(e===Ve)return 32820;if(e===He)return 33635;if(e===Pe)return 5120;if(e===Be)return 5122;if(e===Fe)return 5123;if(e===Ne)return 5124;if(e===Ge)return 5125;if(e===je)return 5126;if(e===Ue)return r?5131:null!==(n=t.get("OES_texture_half_float"))?n.HALF_FLOAT_OES:null;if(e===Xe)return 6406;if(e===qe)return 6407;if(e===Ye)return 6408;if(e===Qe)return 6409;if(e===Ze)return 6410;if(e===Je)return 6402;if(e===$e)return 34041;if(e===et)return 6403;if(e===tt)return 36244;if(e===nt)return 33319;if(e===rt)return 33320;if(e===it)return 36248;if(e===at)return 36249;if(e===ot||e===st||e===ut||e===lt){if(null===(n=t.get("WEBGL_compressed_texture_s3tc")))return null;if(e===ot)return n.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===st)return n.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(e===ut)return n.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===lt)return n.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(e===ct||e===dt||e===ht||e===ft){if(null===(n=t.get("WEBGL_compressed_texture_pvrtc")))return null;if(e===ct)return n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(e===dt)return n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(e===ht)return n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(e===ft)return n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(e===pt)return null!==(n=t.get("WEBGL_compressed_texture_etc1"))?n.COMPRESSED_RGB_ETC1_WEBGL:null;if((e===mt||e===vt)&&null!==(n=t.get("WEBGL_compressed_texture_etc"))){if(e===mt)return n.COMPRESSED_RGB8_ETC2;if(e===vt)return n.COMPRESSED_RGBA8_ETC2_EAC}return e===gt||e===yt||e===bt||e===_t||e===xt||e===wt||e===Mt||e===Et||e===At||e===St||e===Tt||e===Ct||e===Dt||e===Rt||e===kt||e===Ot||e===Lt||e===Pt||e===Bt||e===Ft||e===Nt||e===Gt||e===jt||e===Ut||e===zt||e===Vt||e===Ht||e===Wt?null!==(n=t.get("WEBGL_compressed_texture_astc"))?e:null:e===It?null!==(n=t.get("EXT_texture_compression_bptc"))?e:null:e===We?r?34042:null!==(n=t.get("WEBGL_depth_texture"))?n.UNSIGNED_INT_24_8_WEBGL:null:void 0}}}function Hs(e){Oa.call(this),this.cameras=e||[]}function Ws(){oi.call(this),this.type="Group"}function Xs(){this._targetRay=null,this._grip=null,this._hand=null}function qs(e,t){var n=this,r=null,i=1,a=null,o="local-floor",s=null,u=[],l=new Map,c=new Oa;c.layers.enable(1),c.viewport=new rr;var d=new Oa;d.layers.enable(2),d.viewport=new rr;var h=[c,d],f=new Hs;f.layers.enable(1),f.layers.enable(2);var p=null,m=null;function v(e){var t=l.get(e.inputSource);t&&t.dispatchEvent({type:e.type})}function g(){l.forEach((function(e,t){e.disconnect(t)})),l.clear(),e.setFramebuffer(null),e.setRenderTarget(e.getRenderTarget()),E.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function y(e){a=e,E.setContext(r),E.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}function b(e){for(var t=r.inputSources,n=0;n<u.length;n++)l.set(t[n],u[n]);for(var i=0;i<e.removed.length;i++){var a=e.removed[i],o=l.get(a);o&&(o.dispatchEvent({type:"disconnected",data:a}),l.delete(a))}for(var s=0;s<e.added.length;s++){var c=e.added[s],d=l.get(c);d&&d.dispatchEvent({type:"connected",data:c})}}this.enabled=!1,this.isPresenting=!1,this.getController=function(e){var t=u[e];return void 0===t&&(t=new Xs,u[e]=t),t.getTargetRaySpace()},this.getControllerGrip=function(e){var t=u[e];return void 0===t&&(t=new Xs,u[e]=t),t.getGripSpace()},this.getHand=function(e){var t=u[e];return void 0===t&&(t=new Xs,u[e]=t),t.getHandSpace()},this.setFramebufferScaleFactor=function(e){i=e,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(e){o=e,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return a},this.getSession=function(){return r},this.setSession=function(e){if(null!==(r=e)){r.addEventListener("select",v),r.addEventListener("selectstart",v),r.addEventListener("selectend",v),r.addEventListener("squeeze",v),r.addEventListener("squeezestart",v),r.addEventListener("squeezeend",v),r.addEventListener("end",g);var n=t.getContextAttributes();!0!==n.xrCompatible&&t.makeXRCompatible();var a={antialias:n.antialias,alpha:n.alpha,depth:n.depth,stencil:n.stencil,framebufferScaleFactor:i},s=new XRWebGLLayer(r,t,a);r.updateRenderState({baseLayer:s}),r.requestReferenceSpace(o).then(y),r.addEventListener("inputsourceschange",b)}};var _=new sr,x=new sr;function w(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.getInverse(e.matrixWorld)}this.getCamera=function(e){f.near=d.near=c.near=e.near,f.far=d.far=c.far=e.far,p===f.near&&m===f.far||(r.updateRenderState({depthNear:f.near,depthFar:f.far}),p=f.near,m=f.far);var t=e.parent,n=f.cameras;w(f,t);for(var i=0;i<n.length;i++)w(n[i],t);e.matrixWorld.copy(f.matrixWorld);for(var a=e.children,o=0,s=a.length;o<s;o++)a[o].updateMatrixWorld(!0);return 2===n.length?function(e,t,n){_.setFromMatrixPosition(t.matrixWorld),x.setFromMatrixPosition(n.matrixWorld);var r=_.distanceTo(x),i=t.projectionMatrix.elements,a=n.projectionMatrix.elements,o=i[14]/(i[10]-1),s=i[14]/(i[10]+1),u=(i[9]+1)/i[5],l=(i[9]-1)/i[5],c=(i[8]-1)/i[0],d=(a[8]+1)/a[0],h=o*c,f=o*d,p=r/(-c+d),m=p*-c;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(m),e.translateZ(p),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.getInverse(e.matrixWorld);var v=o+p,g=s+p,y=h-m,b=f+(r-m),w=u*s/g*v,M=l*s/g*v;e.projectionMatrix.makePerspective(y,b,w,M,v,g)}(f,c,d):f.projectionMatrix.copy(c.projectionMatrix),f};var M=null;var E=new ja;E.setAnimationLoop((function(t,n){if(null!==(s=n.getViewerPose(a))){var i=s.views,o=r.renderState.baseLayer;e.setFramebuffer(o.framebuffer);var l=!1;i.length!==f.cameras.length&&(f.cameras.length=0,l=!0);for(var c=0;c<i.length;c++){var d=i[c],p=o.getViewport(d),m=h[c];m.matrix.fromArray(d.transform.matrix),m.projectionMatrix.fromArray(d.projectionMatrix),m.viewport.set(p.x,p.y,p.width,p.height),0===c&&f.matrix.copy(m.matrix),!0===l&&f.cameras.push(m)}}for(var v=r.inputSources,g=0;g<u.length;g++){var y=u[g],b=v[g];y.update(b,n,a)}M&&M(t,n)})),this.setAnimationLoop=function(e){M=e},this.dispose=function(){}}function Ys(e){function t(t,n){t.opacity.value=n.opacity,n.color&&t.diffuse.value.copy(n.color),n.emissive&&t.emissive.value.copy(n.emissive).multiplyScalar(n.emissiveIntensity),n.map&&(t.map.value=n.map),n.alphaMap&&(t.alphaMap.value=n.alphaMap),n.specularMap&&(t.specularMap.value=n.specularMap);var r,i,a=e.get(n).envMap;if(a){t.envMap.value=a,t.flipEnvMap.value=a.isCubeTexture?-1:1,t.reflectivity.value=n.reflectivity,t.refractionRatio.value=n.refractionRatio;var o=e.get(a).__maxMipLevel;void 0!==o&&(t.maxMipLevel.value=o)}n.lightMap&&(t.lightMap.value=n.lightMap,t.lightMapIntensity.value=n.lightMapIntensity),n.aoMap&&(t.aoMap.value=n.aoMap,t.aoMapIntensity.value=n.aoMapIntensity),n.map?r=n.map:n.specularMap?r=n.specularMap:n.displacementMap?r=n.displacementMap:n.normalMap?r=n.normalMap:n.bumpMap?r=n.bumpMap:n.roughnessMap?r=n.roughnessMap:n.metalnessMap?r=n.metalnessMap:n.alphaMap?r=n.alphaMap:n.emissiveMap?r=n.emissiveMap:n.clearcoatMap?r=n.clearcoatMap:n.clearcoatNormalMap?r=n.clearcoatNormalMap:n.clearcoatRoughnessMap&&(r=n.clearcoatRoughnessMap),void 0!==r&&(r.isWebGLRenderTarget&&(r=r.texture),!0===r.matrixAutoUpdate&&r.updateMatrix(),t.uvTransform.value.copy(r.matrix)),n.aoMap?i=n.aoMap:n.lightMap&&(i=n.lightMap),void 0!==i&&(i.isWebGLRenderTarget&&(i=i.texture),!0===i.matrixAutoUpdate&&i.updateMatrix(),t.uv2Transform.value.copy(i.matrix))}function n(t,n){t.roughness.value=n.roughness,t.metalness.value=n.metalness,n.roughnessMap&&(t.roughnessMap.value=n.roughnessMap),n.metalnessMap&&(t.metalnessMap.value=n.metalnessMap),n.emissiveMap&&(t.emissiveMap.value=n.emissiveMap),n.bumpMap&&(t.bumpMap.value=n.bumpMap,t.bumpScale.value=n.bumpScale,n.side===A&&(t.bumpScale.value*=-1)),n.normalMap&&(t.normalMap.value=n.normalMap,t.normalScale.value.copy(n.normalScale),n.side===A&&t.normalScale.value.negate()),n.displacementMap&&(t.displacementMap.value=n.displacementMap,t.displacementScale.value=n.displacementScale,t.displacementBias.value=n.displacementBias),e.get(n).envMap&&(t.envMapIntensity.value=n.envMapIntensity)}return{refreshFogUniforms:function(e,t){e.fogColor.value.copy(t.color),t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)},refreshMaterialUniforms:function(e,r,i,a){r.isMeshBasicMaterial?t(e,r):r.isMeshLambertMaterial?(t(e,r),function(e,t){t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap)}(e,r)):r.isMeshToonMaterial?(t(e,r),function(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap);t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap);t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===A&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===A&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,r)):r.isMeshPhongMaterial?(t(e,r),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap);t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===A&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===A&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,r)):r.isMeshStandardMaterial?(t(e,r),r.isMeshPhysicalMaterial?function(e,t){n(e,t),e.reflectivity.value=t.reflectivity,e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.sheen&&e.sheen.value.copy(t.sheen);t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap);t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap);t.clearcoatNormalMap&&(e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),e.clearcoatNormalMap.value=t.clearcoatNormalMap,t.side===A&&e.clearcoatNormalScale.value.negate());e.transmission.value=t.transmission,t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap)}(e,r):n(e,r)):r.isMeshMatcapMaterial?(t(e,r),function(e,t){t.matcap&&(e.matcap.value=t.matcap);t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===A&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===A&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,r)):r.isMeshDepthMaterial?(t(e,r),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,r)):r.isMeshDistanceMaterial?(t(e,r),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias);e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}(e,r)):r.isMeshNormalMaterial?(t(e,r),function(e,t){t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===A&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===A&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,r)):r.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity}(e,r),r.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(e,r)):r.isPointsMaterial?function(e,t,n,r){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*n,e.scale.value=.5*r,t.map&&(e.map.value=t.map);t.alphaMap&&(e.alphaMap.value=t.alphaMap);var i;t.map?i=t.map:t.alphaMap&&(i=t.alphaMap);void 0!==i&&(!0===i.matrixAutoUpdate&&i.updateMatrix(),e.uvTransform.value.copy(i.matrix))}(e,r,i,a):r.isSpriteMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map);t.alphaMap&&(e.alphaMap.value=t.alphaMap);var n;t.map?n=t.map:t.alphaMap&&(n=t.alphaMap);void 0!==n&&(!0===n.matrixAutoUpdate&&n.updateMatrix(),e.uvTransform.value.copy(n.matrix))}(e,r):r.isShadowMaterial?(e.color.value.copy(r.color),e.opacity.value=r.opacity):r.isShaderMaterial&&(r.uniformsNeedUpdate=!1)}}}function Qs(e){var t=void 0!==(e=e||{}).canvas?e.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),n=void 0!==e.context?e.context:null,r=void 0!==e.alpha&&e.alpha,i=void 0===e.depth||e.depth,a=void 0===e.stencil||e.stencil,o=void 0!==e.antialias&&e.antialias,s=void 0===e.premultipliedAlpha||e.premultipliedAlpha,u=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,l=void 0!==e.powerPreference?e.powerPreference:"default",c=void 0!==e.failIfMajorPerformanceCaveat&&e.failIfMajorPerformanceCaveat,d=null,h=null;this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=sn,this.physicallyCorrectLights=!1,this.toneMapping=ue,this.toneMappingExposure=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var f=this,p=!1,m=null,v=0,g=0,y=null,b=null,_=-1,x=null,w=null,M=new rr,E=new rr,A=null,S=t.width,T=t.height,C=1,D=null,R=null,I=new rr(0,0,S,T),k=new rr(0,0,S,T),O=!1,L=new Ga,P=!1,B=!1,F=new Pr,N=new sr,G={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function j(){return null===y?C:1}var U,z,V,H,W,X,q,Y,Q,Z,K,J,$,ee,te,ne,re,ie,ae,oe,se,le=n;function ce(e,n){for(var r=0;r<e.length;r++){var i=e[r],a=t.getContext(i,n);if(null!==a)return a}return null}try{var de={alpha:r,depth:i,stencil:a,antialias:o,premultipliedAlpha:s,preserveDrawingBuffer:u,powerPreference:l,failIfMajorPerformanceCaveat:c};if(t.addEventListener("webglcontextlost",ve,!1),t.addEventListener("webglcontextrestored",ge,!1),null===le){var he=["webgl2","webgl","experimental-webgl"];if(!0===f.isWebGL1Renderer&&he.shift(),null===(le=ce(he,de)))throw ce(he)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===le.getShaderPrecisionFormat&&(le.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Te){throw console.error("THREE.WebGLRenderer: "+Te.message),Te}function fe(){U=new $a(le),!1===(z=new Za(le,U,e)).isWebGL2&&(U.get("WEBGL_depth_texture"),U.get("OES_texture_float"),U.get("OES_texture_half_float"),U.get("OES_texture_half_float_linear"),U.get("OES_standard_derivatives"),U.get("OES_element_index_uint"),U.get("OES_vertex_array_object"),U.get("ANGLE_instanced_arrays")),U.get("OES_texture_float_linear"),oe=new Vs(le,U,z),(V=new Us(le,U,z)).scissor(E.copy(k).multiplyScalar(C).floor()),V.viewport(M.copy(I).multiplyScalar(C).floor()),H=new no(le),W=new Ts,X=new zs(le,U,V,W,z,oe,H),q=new Ja(f),Y=new Ua(le,z),se=new Ya(le,U,Y,z),Q=new eo(le,Y,H,se),Z=new oo(le,Q,Y,H),re=new ao(le),te=new Ka(W),K=new Ss(f,q,U,z,se,te),J=new Ys(W),$=new Is(W),ee=new Fs,ne=new qa(f,q,V,Z,s),ie=new Qa(le,U,H,z),ae=new to(le,U,H,z),H.programs=K.programs,f.capabilities=z,f.extensions=U,f.properties=W,f.renderLists=$,f.state=V,f.info=H}fe();var pe=new qs(f,le);this.xr=pe;var me=new js(f,Z,z.maxTextureSize);function ve(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),p=!0}function ge(){console.log("THREE.WebGLRenderer: Context Restored."),p=!1,fe()}function ye(e){var t=e.target;t.removeEventListener("dispose",ye),function(e){be(e),W.remove(e)}(t)}function be(e){var t=W.get(e).program;void 0!==t&&K.releaseProgram(t)}this.shadowMap=me,this.getContext=function(){return le},this.getContextAttributes=function(){return le.getContextAttributes()},this.forceContextLoss=function(){var e=U.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=U.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return C},this.setPixelRatio=function(e){void 0!==e&&(C=e,this.setSize(S,T,!1))},this.getSize=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),e=new Jn),e.set(S,T)},this.setSize=function(e,n,r){pe.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(S=e,T=n,t.width=Math.floor(e*C),t.height=Math.floor(n*C),!1!==r&&(t.style.width=e+"px",t.style.height=n+"px"),this.setViewport(0,0,e,n))},this.getDrawingBufferSize=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),e=new Jn),e.set(S*C,T*C).floor()},this.setDrawingBufferSize=function(e,n,r){S=e,T=n,C=r,t.width=Math.floor(e*r),t.height=Math.floor(n*r),this.setViewport(0,0,e,n)},this.getCurrentViewport=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),e=new rr),e.copy(M)},this.getViewport=function(e){return e.copy(I)},this.setViewport=function(e,t,n,r){e.isVector4?I.set(e.x,e.y,e.z,e.w):I.set(e,t,n,r),V.viewport(M.copy(I).multiplyScalar(C).floor())},this.getScissor=function(e){return e.copy(k)},this.setScissor=function(e,t,n,r){e.isVector4?k.set(e.x,e.y,e.z,e.w):k.set(e,t,n,r),V.scissor(E.copy(k).multiplyScalar(C).floor())},this.getScissorTest=function(){return O},this.setScissorTest=function(e){V.setScissorTest(O=e)},this.setOpaqueSort=function(e){D=e},this.setTransparentSort=function(e){R=e},this.getClearColor=function(){return ne.getClearColor()},this.setClearColor=function(){ne.setClearColor.apply(ne,arguments)},this.getClearAlpha=function(){return ne.getClearAlpha()},this.setClearAlpha=function(){ne.setClearAlpha.apply(ne,arguments)},this.clear=function(e,t,n){var r=0;(void 0===e||e)&&(r|=16384),(void 0===t||t)&&(r|=256),(void 0===n||n)&&(r|=1024),le.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",ve,!1),t.removeEventListener("webglcontextrestored",ge,!1),$.dispose(),ee.dispose(),W.dispose(),q.dispose(),Z.dispose(),se.dispose(),pe.dispose(),xe.stop()},this.renderBufferImmediate=function(e,t){se.initAttributes();var n=W.get(e);e.hasPositions&&!n.position&&(n.position=le.createBuffer()),e.hasNormals&&!n.normal&&(n.normal=le.createBuffer()),e.hasUvs&&!n.uv&&(n.uv=le.createBuffer()),e.hasColors&&!n.color&&(n.color=le.createBuffer());var r=t.getAttributes();e.hasPositions&&(le.bindBuffer(34962,n.position),le.bufferData(34962,e.positionArray,35048),se.enableAttribute(r.position),le.vertexAttribPointer(r.position,3,5126,!1,0,0)),e.hasNormals&&(le.bindBuffer(34962,n.normal),le.bufferData(34962,e.normalArray,35048),se.enableAttribute(r.normal),le.vertexAttribPointer(r.normal,3,5126,!1,0,0)),e.hasUvs&&(le.bindBuffer(34962,n.uv),le.bufferData(34962,e.uvArray,35048),se.enableAttribute(r.uv),le.vertexAttribPointer(r.uv,2,5126,!1,0,0)),e.hasColors&&(le.bindBuffer(34962,n.color),le.bufferData(34962,e.colorArray,35048),se.enableAttribute(r.color),le.vertexAttribPointer(r.color,3,5126,!1,0,0)),se.disableUnusedAttributes(),le.drawArrays(4,0,e.count),e.count=0},this.renderBufferDirect=function(e,t,n,r,i,a){null===t&&(t=G);var o=i.isMesh&&i.matrixWorld.determinant()<0,s=Se(e,t,r,i);V.setMaterial(r,o);var u=n.index,l=n.attributes.position;if(null===u){if(void 0===l||0===l.count)return}else if(0===u.count)return;var c,d=1;!0===r.wireframe&&(u=Q.getWireframeAttribute(n),d=2),(r.morphTargets||r.morphNormals)&&re.update(i,n,r,s),se.setup(i,r,s,n,u);var h=ie;null!==u&&(c=Y.get(u),(h=ae).setIndex(c));var f=null!==u?u.count:l.count,p=n.drawRange.start*d,m=n.drawRange.count*d,v=null!==a?a.start*d:0,g=null!==a?a.count*d:1/0,y=Math.max(p,v),b=Math.min(f,p+m,v+g)-1,_=Math.max(0,b-y+1);if(0!==_){if(i.isMesh)!0===r.wireframe?(V.setLineWidth(r.wireframeLinewidth*j()),h.setMode(1)):h.setMode(4);else if(i.isLine){var x=r.linewidth;void 0===x&&(x=1),V.setLineWidth(x*j()),i.isLineSegments?h.setMode(1):i.isLineLoop?h.setMode(2):h.setMode(3)}else i.isPoints?h.setMode(0):i.isSprite&&h.setMode(4);if(i.isInstancedMesh)h.renderInstances(y,_,i.count);else if(n.isInstancedBufferGeometry){var w=Math.min(n.instanceCount,n._maxInstanceCount);h.renderInstances(y,_,w)}else h.render(y,_)}},this.compile=function(e,t){(h=ee.get(e,t)).init(),e.traverse((function(e){e.isLight&&(h.pushLight(e),e.castShadow&&h.pushShadow(e))})),h.setupLights(t);var n=new WeakMap;e.traverse((function(t){var r=t.material;if(r)if(Array.isArray(r))for(var i=0;i<r.length;i++){var a=r[i];!1===n.has(a)&&(Ae(a,e,t),n.set(a))}else!1===n.has(r)&&(Ae(r,e,t),n.set(r))}))};var _e=null;var xe=new ja;function we(e,t,n,r){if(!1!==e.visible){if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)h.pushLight(e),e.castShadow&&h.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||L.intersectsSprite(e)){r&&N.setFromMatrixPosition(e.matrixWorld).applyMatrix4(F);var i=Z.update(e),a=e.material;a.visible&&d.push(e,i,a,n,N.z,null)}}else if(e.isImmediateRenderObject)r&&N.setFromMatrixPosition(e.matrixWorld).applyMatrix4(F),d.push(e,null,e.material,n,N.z,null);else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.frame!==H.render.frame&&(e.skeleton.update(),e.skeleton.frame=H.render.frame),!e.frustumCulled||L.intersectsObject(e))){r&&N.setFromMatrixPosition(e.matrixWorld).applyMatrix4(F);var o=Z.update(e),s=e.material;if(Array.isArray(s))for(var u=o.groups,l=0,c=u.length;l<c;l++){var f=u[l],p=s[f.materialIndex];p&&p.visible&&d.push(e,o,p,n,N.z,f)}else s.visible&&d.push(e,o,s,n,N.z,null)}for(var m=e.children,v=0,g=m.length;v<g;v++)we(m[v],t,n,r)}}function Me(e,t,n){for(var r=!0===t.isScene?t.overrideMaterial:null,i=0,a=e.length;i<a;i++){var o=e[i],s=o.object,u=o.geometry,l=null===r?o.material:r,c=o.group;if(n.isArrayCamera){w=n;for(var d=n.cameras,f=0,p=d.length;f<p;f++){var m=d[f];s.layers.test(m.layers)&&(V.viewport(M.copy(m.viewport)),h.setupLights(m),Ee(s,t,m,u,l,c))}}else w=null,Ee(s,t,n,u,l,c)}}function Ee(e,t,n,r,i,a){if(e.onBeforeRender(f,t,n,r,i,a),h=ee.get(t,w||n),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),e.isImmediateRenderObject){var o=Se(n,t,i,e);V.setMaterial(i),se.reset(),function(e,t){e.render((function(e){f.renderBufferImmediate(e,t)}))}(e,o)}else f.renderBufferDirect(n,t,r,i,e,a);e.onAfterRender(f,t,n,r,i,a),h=ee.get(t,w||n)}function Ae(e,t,n){!0!==t.isScene&&(t=G);var r=W.get(e),i=h.state.lights,a=h.state.shadowsArray,o=i.state.version,s=K.getParameters(e,i.state,a,t,n),u=K.getProgramCacheKey(s),l=r.program,c=!0;if(void 0===l)e.addEventListener("dispose",ye);else if(l.cacheKey!==u)be(e);else if(r.lightsStateVersion!==o)c=!1;else{if(void 0!==s.shaderID){var d=e.isMeshStandardMaterial?t.environment:null;return void(r.envMap=q.get(e.envMap||d))}c=!1}c&&(s.uniforms=K.getUniforms(e),e.onBeforeCompile(s,f),l=K.acquireProgram(s,u),r.program=l,r.uniforms=s.uniforms,r.outputEncoding=s.outputEncoding);var p=r.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(r.numClippingPlanes=te.numPlanes,r.numIntersection=te.numIntersection,p.clippingPlanes=te.uniform),r.environment=e.isMeshStandardMaterial?t.environment:null,r.fog=t.fog,r.envMap=q.get(e.envMap||r.environment),r.needsLights=function(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}(e),r.lightsStateVersion=o,r.needsLights&&(p.ambientLightColor.value=i.state.ambient,p.lightProbe.value=i.state.probe,p.directionalLights.value=i.state.directional,p.directionalLightShadows.value=i.state.directionalShadow,p.spotLights.value=i.state.spot,p.spotLightShadows.value=i.state.spotShadow,p.rectAreaLights.value=i.state.rectArea,p.ltc_1.value=i.state.rectAreaLTC1,p.ltc_2.value=i.state.rectAreaLTC2,p.pointLights.value=i.state.point,p.pointLightShadows.value=i.state.pointShadow,p.hemisphereLights.value=i.state.hemi,p.directionalShadowMap.value=i.state.directionalShadowMap,p.directionalShadowMatrix.value=i.state.directionalShadowMatrix,p.spotShadowMap.value=i.state.spotShadowMap,p.spotShadowMatrix.value=i.state.spotShadowMatrix,p.pointShadowMap.value=i.state.pointShadowMap,p.pointShadowMatrix.value=i.state.pointShadowMatrix);var m=r.program.getUniforms(),v=as.seqWithValue(m.seq,p);r.uniformsList=v}function Se(e,t,n,r){!0!==t.isScene&&(t=G),X.resetTextureUnits();var i=t.fog,a=n.isMeshStandardMaterial?t.environment:null,o=null===y?f.outputEncoding:y.texture.encoding,s=q.get(n.envMap||a),u=W.get(n),l=h.state.lights;if(!0===P&&(!0===B||e!==x)){var c=e===x&&n.id===_;te.setState(n,e,c)}n.version===u.__version?n.fog&&u.fog!==i||u.environment!==a||u.needsLights&&u.lightsStateVersion!==l.state.version?Ae(n,t,r):void 0===u.numClippingPlanes||u.numClippingPlanes===te.numPlanes&&u.numIntersection===te.numIntersection?(u.outputEncoding!==o||u.envMap!==s)&&Ae(n,t,r):Ae(n,t,r):(Ae(n,t,r),u.__version=n.version);var d,p,m=!1,v=!1,g=!1,b=u.program,w=b.getUniforms(),M=u.uniforms;if(V.useProgram(b.program)&&(m=!0,v=!0,g=!0),n.id!==_&&(_=n.id,v=!0),m||x!==e){if(w.setValue(le,"projectionMatrix",e.projectionMatrix),z.logarithmicDepthBuffer&&w.setValue(le,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),x!==e&&(x=e,v=!0,g=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshStandardMaterial||n.envMap){var E=w.map.cameraPosition;void 0!==E&&E.setValue(le,N.setFromMatrixPosition(e.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial)&&w.setValue(le,"isOrthographic",!0===e.isOrthographicCamera),(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.isShadowMaterial||n.skinning)&&w.setValue(le,"viewMatrix",e.matrixWorldInverse)}if(n.skinning){w.setOptional(le,r,"bindMatrix"),w.setOptional(le,r,"bindMatrixInverse");var A=r.skeleton;if(A){var S=A.bones;if(z.floatVertexTextures){if(void 0===A.boneTexture){var D=Math.sqrt(4*S.length);D=Kn.ceilPowerOfTwo(D),D=Math.max(D,4);var R=new Float32Array(D*D*4);R.set(A.boneMatrices);var I=new Ba(R,D,D,Ye,je);A.boneMatrices=R,A.boneTexture=I,A.boneTextureSize=D}w.setValue(le,"boneTexture",A.boneTexture,X),w.setValue(le,"boneTextureSize",A.boneTextureSize)}else w.setOptional(le,A,"boneMatrices")}}return(v||u.receiveShadow!==r.receiveShadow)&&(u.receiveShadow=r.receiveShadow,w.setValue(le,"receiveShadow",r.receiveShadow)),v&&(w.setValue(le,"toneMappingExposure",f.toneMappingExposure),u.needsLights&&(p=g,(d=M).ambientLightColor.needsUpdate=p,d.lightProbe.needsUpdate=p,d.directionalLights.needsUpdate=p,d.directionalLightShadows.needsUpdate=p,d.pointLights.needsUpdate=p,d.pointLightShadows.needsUpdate=p,d.spotLights.needsUpdate=p,d.spotLightShadows.needsUpdate=p,d.rectAreaLights.needsUpdate=p,d.hemisphereLights.needsUpdate=p),i&&n.fog&&J.refreshFogUniforms(M,i),J.refreshMaterialUniforms(M,n,C,T),as.upload(le,u.uniformsList,M,X)),n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(as.upload(le,u.uniformsList,M,X),n.uniformsNeedUpdate=!1),n.isSpriteMaterial&&w.setValue(le,"center",r.center),w.setValue(le,"modelViewMatrix",r.modelViewMatrix),w.setValue(le,"normalMatrix",r.normalMatrix),w.setValue(le,"modelMatrix",r.matrixWorld),b}xe.setAnimationLoop((function(e){pe.isPresenting||_e&&_e(e)})),"undefined"!==typeof window&&xe.setContext(window),this.setAnimationLoop=function(e){_e=e,pe.setAnimationLoop(e),null===e?xe.stop():xe.start()},this.render=function(e,t){var n,r;if(void 0!==arguments[2]&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),n=arguments[2]),void 0!==arguments[3]&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),r=arguments[3]),void 0===t||!0===t.isCamera){if(!0!==p){se.resetDefaultState(),_=-1,x=null,!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),!0===pe.enabled&&!0===pe.isPresenting&&(t=pe.getCamera(t)),!0===e.isScene&&e.onBeforeRender(f,e,t,n||y),(h=ee.get(e,t)).init(),F.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),L.setFromProjectionMatrix(F),B=this.localClippingEnabled,P=te.init(this.clippingPlanes,B,t),(d=$.get(e,t)).init(),we(e,t,0,f.sortObjects),d.finish(),!0===f.sortObjects&&d.sort(D,R),!0===P&&te.beginShadows();var i=h.state.shadowsArray;me.render(i,e,t),h.setupLights(t),!0===P&&te.endShadows(),!0===this.info.autoReset&&this.info.reset(),void 0!==n&&this.setRenderTarget(n),ne.render(d,e,t,r);var a=d.opaque,o=d.transparent;a.length>0&&Me(a,e,t),o.length>0&&Me(o,e,t),!0===e.isScene&&e.onAfterRender(f,e,t),null!==y&&(X.updateRenderTargetMipmap(y),X.updateMultisampleRenderTarget(y)),V.buffers.depth.setTest(!0),V.buffers.depth.setMask(!0),V.buffers.color.setMask(!0),V.setPolygonOffset(!1),d=null,h=null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.setFramebuffer=function(e){m!==e&&null===y&&le.bindFramebuffer(36160,e),m=e},this.getActiveCubeFace=function(){return v},this.getActiveMipmapLevel=function(){return g},this.getRenderList=function(){return d},this.setRenderList=function(e){d=e},this.getRenderState=function(){return h},this.setRenderState=function(e){h=e},this.getRenderTarget=function(){return y},this.setRenderTarget=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;y=e,v=t,g=n,e&&void 0===W.get(e).__webglFramebuffer&&X.setupRenderTarget(e);var r=m,i=!1;if(e){var a=W.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(r=a[t],i=!0):r=e.isWebGLMultisampleRenderTarget?W.get(e).__webglMultisampledFramebuffer:a,M.copy(e.viewport),E.copy(e.scissor),A=e.scissorTest}else M.copy(I).multiplyScalar(C).floor(),E.copy(k).multiplyScalar(C).floor(),A=O;if(b!==r&&(le.bindFramebuffer(36160,r),b=r),V.viewport(M),V.scissor(E),V.setScissorTest(A),i){var o=W.get(e.texture);le.framebufferTexture2D(36160,36064,34069+t,o.__webglTexture,n)}},this.readRenderTargetPixels=function(e,t,n,r,i,a,o){if(e&&e.isWebGLRenderTarget){var s=W.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==o&&(s=s[o]),s){var u=!1;s!==b&&(le.bindFramebuffer(36160,s),u=!0);try{var l=e.texture,c=l.format,d=l.type;if(c!==Ye&&oe.convert(c)!==le.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(d!==Le&&oe.convert(d)!==le.getParameter(35738)&&(d!==je||!(z.isWebGL2||U.get("OES_texture_float")||U.get("WEBGL_color_buffer_float")))&&(d!==Ue||!(z.isWebGL2?U.get("EXT_color_buffer_float"):U.get("EXT_color_buffer_half_float"))))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===le.checkFramebufferStatus(36160)?t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i&&le.readPixels(t,n,r,i,oe.convert(c),oe.convert(d),a):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{u&&le.bindFramebuffer(36160,b)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(e,t,n){void 0===n&&(n=0);var r=Math.pow(2,-n),i=Math.floor(t.image.width*r),a=Math.floor(t.image.height*r),o=oe.convert(t.format);X.setTexture2D(t,0),le.copyTexImage2D(3553,n,o,e.x,e.y,i,a,0),V.unbindTexture()},this.copyTextureToTexture=function(e,t,n,r){void 0===r&&(r=0);var i=t.image.width,a=t.image.height,o=oe.convert(n.format),s=oe.convert(n.type);X.setTexture2D(n,0),le.pixelStorei(37440,n.flipY),le.pixelStorei(37441,n.premultiplyAlpha),le.pixelStorei(3317,n.unpackAlignment),t.isDataTexture?le.texSubImage2D(3553,r,e.x,e.y,i,a,o,s,t.image.data):t.isCompressedTexture?le.compressedTexSubImage2D(3553,r,e.x,e.y,t.mipmaps[0].width,t.mipmaps[0].height,o,t.mipmaps[0].data):le.texSubImage2D(3553,r,e.x,e.y,o,s,t.image),0===r&&n.generateMipmaps&&le.generateMipmap(3553),V.unbindTexture()},this.initTexture=function(e){X.setTexture2D(e,0),V.unbindTexture()},"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function Zs(e){Qs.call(this,e)}Hs.prototype=Object.assign(Object.create(Oa.prototype),{constructor:Hs,isArrayCamera:!0}),Ws.prototype=Object.assign(Object.create(oi.prototype),{constructor:Ws,isGroup:!0}),Object.assign(Xs.prototype,{constructor:Xs,getHandSpace:function(){if(null===this._hand&&(this._hand=new Ws,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints=[],this._hand.inputState={pinching:!1},window.XRHand))for(var e=0;e<=window.XRHand.LITTLE_PHALANX_TIP;e++){var t=new Ws;t.matrixAutoUpdate=!1,t.visible=!1,this._hand.joints.push(t),this._hand.add(t)}return this._hand},getTargetRaySpace:function(){return null===this._targetRay&&(this._targetRay=new Ws,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1),this._targetRay},getGripSpace:function(){return null===this._grip&&(this._grip=new Ws,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1),this._grip},dispatchEvent:function(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this},disconnect:function(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this},update:function(e,t,n){var r=null,i=null,a=null,o=this._targetRay,s=this._grip,u=this._hand;if(e)if(u&&e.hand){a=!0;for(var l=0;l<=window.XRHand.LITTLE_PHALANX_TIP;l++)if(e.hand[l]){var c=t.getJointPose(e.hand[l],n),d=u.joints[l];null!==c&&(d.matrix.fromArray(c.transform.matrix),d.matrix.decompose(d.position,d.rotation,d.scale),d.jointRadius=c.radius),d.visible=null!==c;var h=u.joints[window.XRHand.INDEX_PHALANX_TIP],f=u.joints[window.XRHand.THUMB_PHALANX_TIP],p=h.position.distanceTo(f.position);u.inputState.pinching&&p>.025?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&p<=.015&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}}else null!==o&&null!==(r=t.getPose(e.targetRaySpace,n))&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale)),null!==s&&e.gripSpace&&null!==(i=t.getPose(e.gripSpace,n))&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale));return null!==o&&(o.visible=null!==r),null!==s&&(s.visible=null!==i),null!==u&&(u.visible=null!==a),this}}),Object.assign(qs.prototype,Xn.prototype),Zs.prototype=Object.assign(Object.create(Qs.prototype),{constructor:Zs,isWebGL1Renderer:!0});var Ks=function(){function e(t,n){Object(d.a)(this,e),Object.defineProperty(this,"isFogExp2",{value:!0}),this.name="",this.color=new Ci(t),this.density=void 0!==n?n:25e-5}return Object(h.a)(e,[{key:"clone",value:function(){return new e(this.color,this.density)}},{key:"toJSON",value:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}]),e}(),Js=function(){function e(t,n,r){Object(d.a)(this,e),Object.defineProperty(this,"isFog",{value:!0}),this.name="",this.color=new Ci(t),this.near=void 0!==n?n:1,this.far=void 0!==r?r:1e3}return Object(h.a)(e,[{key:"clone",value:function(){return new e(this.color,this.near,this.far)}},{key:"toJSON",value:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}]),e}(),$s=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(d.a)(this,n),e=t.call(this),Object.defineProperty(Object(u.a)(e),"isScene",{value:!0}),e.type="Scene",e.background=null,e.environment=null,e.fog=null,e.overrideMaterial=null,e.autoUpdate=!0,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:Object(u.a)(e)})),e}return Object(h.a)(n,[{key:"copy",value:function(e,t){return Object(a.a)(Object(o.a)(n.prototype),"copy",this).call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}},{key:"toJSON",value:function(e){var t=Object(a.a)(Object(o.a)(n.prototype),"toJSON",this).call(this,e);return null!==this.background&&(t.object.background=this.background.toJSON(e)),null!==this.environment&&(t.object.environment=this.environment.toJSON(e)),null!==this.fog&&(t.object.fog=this.fog.toJSON()),t}}]),n}(oi);function eu(e,t){this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=Pn,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Kn.generateUUID()}Object.defineProperty(eu.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(eu.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this},copyAt:function(e,t,n){e*=this.stride,n*=t.stride;for(var r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},clone:function(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Kn.generateUUID()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);var t=new eu(new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),this.stride);return t.setUsage(this.usage),t},onUpload:function(e){return this.onUploadCallback=e,this},toJSON:function(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Kn.generateUUID()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}});var tu,nu=new sr;function ru(e,t,n,r){this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=!0===r}function iu(e){Ii.call(this),this.type="SpriteMaterial",this.color=new Ci(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}Object.defineProperties(ru.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}},needsUpdate:{set:function(e){this.data.needsUpdate=e}}}),Object.assign(ru.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4:function(e){for(var t=0,n=this.data.count;t<n;t++)nu.x=this.getX(t),nu.y=this.getY(t),nu.z=this.getZ(t),nu.applyMatrix4(e),this.setXYZ(t,nu.x,nu.y,nu.z);return this},setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this},setXYZW:function(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this},clone:function(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");for(var t=[],n=0;n<this.count;n++)for(var r=n*this.data.stride+this.offset,i=0;i<this.itemSize;i++)t.push(this.data.array[r+i]);return new Pi(new this.array.constructor(t),this.itemSize,this.normalized)}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new ru(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)},toJSON:function(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");for(var t=[],n=0;n<this.count;n++)for(var r=n*this.data.stride+this.offset,i=0;i<this.itemSize;i++)t.push(this.data.array[r+i]);return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}),iu.prototype=Object.create(Ii.prototype),iu.prototype.constructor=iu,iu.prototype.isSpriteMaterial=!0,iu.prototype.copy=function(e){return Ii.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this};var au=new sr,ou=new sr,su=new sr,uu=new Jn,lu=new Jn,cu=new Pr,du=new sr,hu=new sr,fu=new sr,pu=new Jn,mu=new Jn,vu=new Jn;function gu(e){if(oi.call(this),this.type="Sprite",void 0===tu){tu=new ea;var t=new eu(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);tu.setIndex([0,1,2,0,2,3]),tu.setAttribute("position",new ru(t,3,0,!1)),tu.setAttribute("uv",new ru(t,2,3,!1))}this.geometry=tu,this.material=void 0!==e?e:new iu,this.center=new Jn(.5,.5)}function yu(e,t,n,r,i,a){uu.subVectors(e,n).addScalar(.5).multiply(r),void 0!==i?(lu.x=a*uu.x-i*uu.y,lu.y=i*uu.x+a*uu.y):lu.copy(uu),e.copy(t),e.x+=lu.x,e.y+=lu.y,e.applyMatrix4(cu)}gu.prototype=Object.assign(Object.create(oi.prototype),{constructor:gu,isSprite:!0,raycast:function(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),ou.setFromMatrixScale(this.matrixWorld),cu.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),su.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&ou.multiplyScalar(-su.z);var n,r,i=this.material.rotation;0!==i&&(r=Math.cos(i),n=Math.sin(i));var a=this.center;yu(du.set(-.5,-.5,0),su,a,ou,n,r),yu(hu.set(.5,-.5,0),su,a,ou,n,r),yu(fu.set(.5,.5,0),su,a,ou,n,r),pu.set(0,0),mu.set(1,0),vu.set(1,1);var o=e.ray.intersectTriangle(du,hu,fu,!1,au);if(null!==o||(yu(hu.set(-.5,.5,0),su,a,ou,n,r),mu.set(0,1),null!==(o=e.ray.intersectTriangle(du,fu,hu,!1,au)))){var s=e.ray.origin.distanceTo(au);s<e.near||s>e.far||t.push({distance:s,point:au.clone(),uv:xi.getUV(au,du,hu,fu,pu,mu,vu,new Jn),face:null,object:this})}},copy:function(e){return oi.prototype.copy.call(this,e),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}});var bu=new sr,_u=new sr;function xu(){oi.call(this),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}function wu(e,t){e&&e.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),ya.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Pr,this.bindMatrixInverse=new Pr}xu.prototype=Object.assign(Object.create(oi.prototype),{constructor:xu,isLOD:!0,copy:function(e){oi.prototype.copy.call(this,e,!1);for(var t=e.levels,n=0,r=t.length;n<r;n++){var i=t[n];this.addLevel(i.object.clone(),i.distance)}return this.autoUpdate=e.autoUpdate,this},addLevel:function(e,t){void 0===t&&(t=0),t=Math.abs(t);var n,r=this.levels;for(n=0;n<r.length&&!(t<r[n].distance);n++);return r.splice(n,0,{distance:t,object:e}),this.add(e),this},getCurrentLevel:function(){return this._currentLevel},getObjectForDistance:function(e){var t=this.levels;if(t.length>0){var n,r;for(n=1,r=t.length;n<r&&!(e<t[n].distance);n++);return t[n-1].object}return null},raycast:function(e,t){if(this.levels.length>0){bu.setFromMatrixPosition(this.matrixWorld);var n=e.ray.origin.distanceTo(bu);this.getObjectForDistance(n).raycast(e,t)}},update:function(e){var t=this.levels;if(t.length>1){bu.setFromMatrixPosition(e.matrixWorld),_u.setFromMatrixPosition(this.matrixWorld);var n,r,i=bu.distanceTo(_u)/e.zoom;for(t[0].object.visible=!0,n=1,r=t.length;n<r&&i>=t[n].distance;n++)t[n-1].object.visible=!1,t[n].object.visible=!0;for(this._currentLevel=n-1;n<r;n++)t[n].object.visible=!1}},toJSON:function(e){var t=oi.prototype.toJSON.call(this,e);!1===this.autoUpdate&&(t.object.autoUpdate=!1),t.object.levels=[];for(var n=this.levels,r=0,i=n.length;r<i;r++){var a=n[r];t.object.levels.push({object:a.object.uuid,distance:a.distance})}return t}}),wu.prototype=Object.assign(Object.create(ya.prototype),{constructor:wu,isSkinnedMesh:!0,copy:function(e){return ya.prototype.copy.call(this,e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this},bind:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.getInverse(t)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){for(var e=new rr,t=this.geometry.attributes.skinWeight,n=0,r=t.count;n<r;n++){e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.w=t.getW(n);var i=1/e.manhattanLength();i!==1/0?e.multiplyScalar(i):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}},updateMatrixWorld:function(e){ya.prototype.updateMatrixWorld.call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},boneTransform:function(){var e=new sr,t=new rr,n=new rr,r=new sr,i=new Pr;return function(a,o){var s=this.skeleton,u=this.geometry;t.fromBufferAttribute(u.attributes.skinIndex,a),n.fromBufferAttribute(u.attributes.skinWeight,a),e.fromBufferAttribute(u.attributes.position,a).applyMatrix4(this.bindMatrix),o.set(0,0,0);for(var l=0;l<4;l++){var c=n.getComponent(l);if(0!==c){var d=t.getComponent(l);i.multiplyMatrices(s.bones[d].matrixWorld,s.boneInverses[d]),o.addScaledVector(r.copy(e).applyMatrix4(i),c)}}return o.applyMatrix4(this.bindMatrixInverse)}}()});var Mu=new Pr,Eu=new Pr;function Au(e,t){if(e=e||[],this.bones=e.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),this.frame=-1,void 0===t)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(var n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new Pr)}}function Su(){oi.call(this),this.type="Bone"}Object.assign(Au.prototype,{calculateInverses:function(){this.boneInverses=[];for(var e=0,t=this.bones.length;e<t;e++){var n=new Pr;this.bones[e]&&n.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(n)}},pose:function(){for(var e=0,t=this.bones.length;e<t;e++){var n=this.bones[e];n&&n.matrixWorld.getInverse(this.boneInverses[e])}for(var r=0,i=this.bones.length;r<i;r++){var a=this.bones[r];a&&(a.parent&&a.parent.isBone?(a.matrix.getInverse(a.parent.matrixWorld),a.matrix.multiply(a.matrixWorld)):a.matrix.copy(a.matrixWorld),a.matrix.decompose(a.position,a.quaternion,a.scale))}},update:function(){for(var e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture,i=0,a=e.length;i<a;i++){var o=e[i]?e[i].matrixWorld:Eu;Mu.multiplyMatrices(o,t[i]),Mu.toArray(n,16*i)}void 0!==r&&(r.needsUpdate=!0)},clone:function(){return new Au(this.bones,this.boneInverses)},getBoneByName:function(e){for(var t=0,n=this.bones.length;t<n;t++){var r=this.bones[t];if(r.name===e)return r}},dispose:function(){this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=void 0)}}),Su.prototype=Object.assign(Object.create(oi.prototype),{constructor:Su,isBone:!0});var Tu=new Pr,Cu=new Pr,Du=[],Ru=new ya;function Iu(e,t,n){ya.call(this,e,t),this.instanceMatrix=new Pi(new Float32Array(16*n),16),this.instanceColor=null,this.count=n,this.frustumCulled=!1}function ku(e){Ii.call(this),this.type="LineBasicMaterial",this.color=new Ci(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.morphTargets=!1,this.setValues(e)}Iu.prototype=Object.assign(Object.create(ya.prototype),{constructor:Iu,isInstancedMesh:!0,copy:function(e){return ya.prototype.copy.call(this,e),this.instanceMatrix.copy(e.instanceMatrix),this.count=e.count,this},setColorAt:function(e,t){null===this.instanceColor&&(this.instanceColor=new Pi(new Float32Array(3*this.count),3)),t.toArray(this.instanceColor.array,3*e)},getMatrixAt:function(e,t){t.fromArray(this.instanceMatrix.array,16*e)},raycast:function(e,t){var n=this.matrixWorld,r=this.count;if(Ru.geometry=this.geometry,Ru.material=this.material,void 0!==Ru.material)for(var i=0;i<r;i++){this.getMatrixAt(i,Tu),Cu.multiplyMatrices(n,Tu),Ru.matrixWorld=Cu,Ru.raycast(e,Du);for(var a=0,o=Du.length;a<o;a++){var s=Du[a];s.instanceId=i,s.object=this,t.push(s)}Du.length=0}},setMatrixAt:function(e,t){t.toArray(this.instanceMatrix.array,16*e)},updateMorphTargets:function(){}}),ku.prototype=Object.create(Ii.prototype),ku.prototype.constructor=ku,ku.prototype.isLineBasicMaterial=!0,ku.prototype.copy=function(e){return Ii.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.morphTargets=e.morphTargets,this};var Ou=new sr,Lu=new sr,Pu=new Pr,Bu=new Lr,Fu=new Sr;function Nu(e,t,n){1===n&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),oi.call(this),this.type="Line",this.geometry=void 0!==e?e:new ea,this.material=void 0!==t?t:new ku,this.updateMorphTargets()}Nu.prototype=Object.assign(Object.create(oi.prototype),{constructor:Nu,isLine:!0,copy:function(e){return oi.prototype.copy.call(this,e),this.material=e.material,this.geometry=e.geometry,this},computeLineDistances:function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,n=[0],r=1,i=t.count;r<i;r++)Ou.fromBufferAttribute(t,r-1),Lu.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=Ou.distanceTo(Lu);e.setAttribute("lineDistance",new Vi(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry){var a=e.vertices,o=e.lineDistances;o[0]=0;for(var s=1,u=a.length;s<u;s++)o[s]=o[s-1],o[s]+=a[s-1].distanceTo(a[s])}return this},raycast:function(e,t){var n=this.geometry,r=this.matrixWorld,i=e.params.Line.threshold;if(null===n.boundingSphere&&n.computeBoundingSphere(),Fu.copy(n.boundingSphere),Fu.applyMatrix4(r),Fu.radius+=i,!1!==e.ray.intersectsSphere(Fu)){Pu.getInverse(r),Bu.copy(e.ray).applyMatrix4(Pu);var a=i/((this.scale.x+this.scale.y+this.scale.z)/3),o=a*a,s=new sr,u=new sr,l=new sr,c=new sr,d=this&&this.isLineSegments?2:1;if(n.isBufferGeometry){var h=n.index,f=n.attributes.position.array;if(null!==h)for(var p=h.array,m=0,v=p.length-1;m<v;m+=d){var g=p[m],y=p[m+1];if(s.fromArray(f,3*g),u.fromArray(f,3*y),!(Bu.distanceSqToSegment(s,u,c,l)>o)){c.applyMatrix4(this.matrixWorld);var b=e.ray.origin.distanceTo(c);b<e.near||b>e.far||t.push({distance:b,point:l.clone().applyMatrix4(this.matrixWorld),index:m,face:null,faceIndex:null,object:this})}}else for(var _=0,x=f.length/3-1;_<x;_+=d){if(s.fromArray(f,3*_),u.fromArray(f,3*_+3),!(Bu.distanceSqToSegment(s,u,c,l)>o)){c.applyMatrix4(this.matrixWorld);var w=e.ray.origin.distanceTo(c);w<e.near||w>e.far||t.push({distance:w,point:l.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}}else if(n.isGeometry)for(var M=n.vertices,E=M.length,A=0;A<E-1;A+=d){if(!(Bu.distanceSqToSegment(M[A],M[A+1],c,l)>o)){c.applyMatrix4(this.matrixWorld);var S=e.ray.origin.distanceTo(c);S<e.near||S>e.far||t.push({distance:S,point:l.clone().applyMatrix4(this.matrixWorld),index:A,face:null,faceIndex:null,object:this})}}}},updateMorphTargets:function(){var e=this.geometry;if(e.isBufferGeometry){var t=e.morphAttributes,n=Object.keys(t);if(n.length>0){var r=t[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var i=0,a=r.length;i<a;i++){var o=r[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=i}}}}else{var s=e.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}});var Gu=new sr,ju=new sr;function Uu(e,t){Nu.call(this,e,t),this.type="LineSegments"}function zu(e,t){Nu.call(this,e,t),this.type="LineLoop"}function Vu(e){Ii.call(this),this.type="PointsMaterial",this.color=new Ci(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(e)}Uu.prototype=Object.assign(Object.create(Nu.prototype),{constructor:Uu,isLineSegments:!0,computeLineDistances:function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,n=[],r=0,i=t.count;r<i;r+=2)Gu.fromBufferAttribute(t,r),ju.fromBufferAttribute(t,r+1),n[r]=0===r?0:n[r-1],n[r+1]=n[r]+Gu.distanceTo(ju);e.setAttribute("lineDistance",new Vi(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry)for(var a=e.vertices,o=e.lineDistances,s=0,u=a.length;s<u;s+=2)Gu.copy(a[s]),ju.copy(a[s+1]),o[s]=0===s?0:o[s-1],o[s+1]=o[s]+Gu.distanceTo(ju);return this}}),zu.prototype=Object.assign(Object.create(Nu.prototype),{constructor:zu,isLineLoop:!0}),Vu.prototype=Object.create(Ii.prototype),Vu.prototype.constructor=Vu,Vu.prototype.isPointsMaterial=!0,Vu.prototype.copy=function(e){return Ii.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.morphTargets=e.morphTargets,this};var Hu=new Pr,Wu=new Lr,Xu=new Sr,qu=new sr;function Yu(e,t){oi.call(this),this.type="Points",this.geometry=void 0!==e?e:new ea,this.material=void 0!==t?t:new Vu,this.updateMorphTargets()}function Qu(e,t,n,r,i,a,o){var s=Wu.distanceSqToPoint(e);if(s<n){var u=new sr;Wu.closestPointToPoint(e,u),u.applyMatrix4(r);var l=i.ray.origin.distanceTo(u);if(l<i.near||l>i.far)return;a.push({distance:l,distanceToRay:Math.sqrt(s),point:u,index:t,face:null,object:o})}}function Zu(e,t,n,r,i,a,o,s,u){nr.call(this,e,t,n,r,i,a,o,s,u),this.format=void 0!==o?o:qe,this.minFilter=void 0!==a?a:De,this.magFilter=void 0!==i?i:De,this.generateMipmaps=!1;var l=this;"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback((function t(){l.needsUpdate=!0,e.requestVideoFrameCallback(t)}))}function Ku(e,t,n,r,i,a,o,s,u,l,c,d){nr.call(this,null,a,o,s,u,l,r,i,c,d),this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}function Ju(e,t,n,r,i,a,o,s,u){nr.call(this,e,t,n,r,i,a,o,s,u),this.needsUpdate=!0}function $u(e,t,n,r,i,a,o,s,u,l){if((l=void 0!==l?l:Je)!==Je&&l!==$e)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&l===Je&&(n=Fe),void 0===n&&l===$e&&(n=We),nr.call(this,null,r,i,a,o,s,l,n,u),this.image={width:e,height:t},this.magFilter=void 0!==o?o:Ee,this.minFilter=void 0!==s?s:Ee,this.flipY=!1,this.generateMipmaps=!1}Yu.prototype=Object.assign(Object.create(oi.prototype),{constructor:Yu,isPoints:!0,copy:function(e){return oi.prototype.copy.call(this,e),this.material=e.material,this.geometry=e.geometry,this},raycast:function(e,t){var n=this.geometry,r=this.matrixWorld,i=e.params.Points.threshold;if(null===n.boundingSphere&&n.computeBoundingSphere(),Xu.copy(n.boundingSphere),Xu.applyMatrix4(r),Xu.radius+=i,!1!==e.ray.intersectsSphere(Xu)){Hu.getInverse(r),Wu.copy(e.ray).applyMatrix4(Hu);var a=i/((this.scale.x+this.scale.y+this.scale.z)/3),o=a*a;if(n.isBufferGeometry){var s=n.index,u=n.attributes.position.array;if(null!==s)for(var l=s.array,c=0,d=l.length;c<d;c++){var h=l[c];qu.fromArray(u,3*h),Qu(qu,h,o,r,e,t,this)}else for(var f=0,p=u.length/3;f<p;f++)qu.fromArray(u,3*f),Qu(qu,f,o,r,e,t,this)}else for(var m=n.vertices,v=0,g=m.length;v<g;v++)Qu(m[v],v,o,r,e,t,this)}},updateMorphTargets:function(){var e=this.geometry;if(e.isBufferGeometry){var t=e.morphAttributes,n=Object.keys(t);if(n.length>0){var r=t[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var i=0,a=r.length;i<a;i++){var o=r[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=i}}}}else{var s=e.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}),Zu.prototype=Object.assign(Object.create(nr.prototype),{constructor:Zu,isVideoTexture:!0,update:function(){var e=this.image;!1==="requestVideoFrameCallback"in e&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),Ku.prototype=Object.create(nr.prototype),Ku.prototype.constructor=Ku,Ku.prototype.isCompressedTexture=!0,Ju.prototype=Object.create(nr.prototype),Ju.prototype.constructor=Ju,Ju.prototype.isCanvasTexture=!0,$u.prototype=Object.create(nr.prototype),$u.prototype.constructor=$u,$u.prototype.isDepthTexture=!0;var el=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e){var r;Object(d.a)(this,n),(r=t.call(this)).type="WireframeGeometry";var i=[],a=[0,0],o={},s=["a","b","c"];if(e&&e.isGeometry){for(var u=e.faces,l=0,c=u.length;l<c;l++)for(var h=u[l],f=0;f<3;f++){var p=h[s[f]],m=h[s[(f+1)%3]];a[0]=Math.min(p,m),a[1]=Math.max(p,m);var v=a[0]+","+a[1];void 0===o[v]&&(o[v]={index1:a[0],index2:a[1]})}for(var g in o){var y=o[g],b=e.vertices[y.index1];i.push(b.x,b.y,b.z),b=e.vertices[y.index2],i.push(b.x,b.y,b.z)}}else if(e&&e.isBufferGeometry){var _=new sr;if(null!==e.index){var x=e.attributes.position,w=e.index,M=e.groups;0===M.length&&(M=[{start:0,count:w.count,materialIndex:0}]);for(var E=0,A=M.length;E<A;++E)for(var S=M[E],T=S.start,C=T,D=T+S.count;C<D;C+=3)for(var R=0;R<3;R++){var I=w.getX(C+R),k=w.getX(C+(R+1)%3);a[0]=Math.min(I,k),a[1]=Math.max(I,k);var O=a[0]+","+a[1];void 0===o[O]&&(o[O]={index1:a[0],index2:a[1]})}for(var L in o){var P=o[L];_.fromBufferAttribute(x,P.index1),i.push(_.x,_.y,_.z),_.fromBufferAttribute(x,P.index2),i.push(_.x,_.y,_.z)}}else for(var B=e.attributes.position,F=0,N=B.count/3;F<N;F++)for(var G=0;G<3;G++){var j=3*F+G;_.fromBufferAttribute(B,j),i.push(_.x,_.y,_.z);var U=3*F+(G+1)%3;_.fromBufferAttribute(B,U),i.push(_.x,_.y,_.z)}}return r.setAttribute("position",new Vi(i,3)),r}return n}(ea);function tl(e,t,n){Aa.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:n},this.fromBufferGeometry(new nl(e,t,n)),this.mergeVertices()}function nl(e,t,n){ea.call(this),this.type="ParametricBufferGeometry",this.parameters={func:e,slices:t,stacks:n};var r=[],i=[],a=[],o=[],s=1e-5,u=new sr,l=new sr,c=new sr,d=new sr,h=new sr;e.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");for(var f=t+1,p=0;p<=n;p++)for(var m=p/n,v=0;v<=t;v++){var g=v/t;e(g,m,l),i.push(l.x,l.y,l.z),g-s>=0?(e(g-s,m,c),d.subVectors(l,c)):(e(g+s,m,c),d.subVectors(c,l)),m-s>=0?(e(g,m-s,c),h.subVectors(l,c)):(e(g,m+s,c),h.subVectors(c,l)),u.crossVectors(d,h).normalize(),a.push(u.x,u.y,u.z),o.push(g,m)}for(var y=0;y<n;y++)for(var b=0;b<t;b++){var _=y*f+b,x=y*f+b+1,w=(y+1)*f+b+1,M=(y+1)*f+b;r.push(_,x,M),r.push(x,w,M)}this.setIndex(r),this.setAttribute("position",new Vi(i,3)),this.setAttribute("normal",new Vi(a,3)),this.setAttribute("uv",new Vi(o,2))}tl.prototype=Object.create(Aa.prototype),tl.prototype.constructor=tl,nl.prototype=Object.create(ea.prototype),nl.prototype.constructor=nl;var rl=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e,r,i,a){var o;return Object(d.a)(this,n),(o=t.call(this)).type="PolyhedronGeometry",o.parameters={vertices:e,indices:r,radius:i,detail:a},o.fromBufferGeometry(new il(e,r,i,a)),o.mergeVertices(),o}return n}(Aa),il=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e,r,i,a){var o;Object(d.a)(this,n),(o=t.call(this)).type="PolyhedronBufferGeometry",o.parameters={vertices:e,indices:r,radius:i,detail:a},i=i||1;var s=[],u=[];function l(e,t,n,r){for(var i=Math.pow(2,r),a=[],o=0;o<=i;o++){a[o]=[];for(var s=e.clone().lerp(n,o/i),u=t.clone().lerp(n,o/i),l=i-o,d=0;d<=l;d++)a[o][d]=0===d&&o===i?s:s.clone().lerp(u,d/l)}for(var h=0;h<i;h++)for(var f=0;f<2*(i-h)-1;f++){var p=Math.floor(f/2);f%2===0?(c(a[h][p+1]),c(a[h+1][p]),c(a[h][p])):(c(a[h][p+1]),c(a[h+1][p+1]),c(a[h+1][p]))}}function c(e){s.push(e.x,e.y,e.z)}function h(t,n){var r=3*t;n.x=e[r+0],n.y=e[r+1],n.z=e[r+2]}function f(e,t,n,r){r<0&&1===e.x&&(u[t]=e.x-1),0===n.x&&0===n.z&&(u[t]=r/2/Math.PI+.5)}function p(e){return Math.atan2(e.z,-e.x)}return function(e){for(var t=new sr,n=new sr,i=new sr,a=0;a<r.length;a+=3)h(r[a+0],t),h(r[a+1],n),h(r[a+2],i),l(t,n,i,e)}(a=a||0),function(e){for(var t=new sr,n=0;n<s.length;n+=3)t.x=s[n+0],t.y=s[n+1],t.z=s[n+2],t.normalize().multiplyScalar(e),s[n+0]=t.x,s[n+1]=t.y,s[n+2]=t.z}(i),function(){for(var e=new sr,t=0;t<s.length;t+=3){e.x=s[t+0],e.y=s[t+1],e.z=s[t+2];var n=p(e)/2/Math.PI+.5,r=(i=e,Math.atan2(-i.y,Math.sqrt(i.x*i.x+i.z*i.z))/Math.PI+.5);u.push(n,1-r)}var i;(function(){for(var e=new sr,t=new sr,n=new sr,r=new sr,i=new Jn,a=new Jn,o=new Jn,l=0,c=0;l<s.length;l+=9,c+=6){e.set(s[l+0],s[l+1],s[l+2]),t.set(s[l+3],s[l+4],s[l+5]),n.set(s[l+6],s[l+7],s[l+8]),i.set(u[c+0],u[c+1]),a.set(u[c+2],u[c+3]),o.set(u[c+4],u[c+5]),r.copy(e).add(t).add(n).divideScalar(3);var d=p(r);f(i,c+0,e,d),f(a,c+2,t,d),f(o,c+4,n,d)}})(),function(){for(var e=0;e<u.length;e+=6){var t=u[e+0],n=u[e+2],r=u[e+4],i=Math.max(t,n,r),a=Math.min(t,n,r);i>.9&&a<.1&&(t<.2&&(u[e+0]+=1),n<.2&&(u[e+2]+=1),r<.2&&(u[e+4]+=1))}}()}(),o.setAttribute("position",new Vi(s,3)),o.setAttribute("normal",new Vi(s.slice(),3)),o.setAttribute("uv",new Vi(u,2)),0===a?o.computeVertexNormals():o.normalizeNormals(),o}return n}(ea),al=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e,r){var i;return Object(d.a)(this,n),(i=t.call(this)).type="TetrahedronGeometry",i.parameters={radius:e,detail:r},i.fromBufferGeometry(new ol(e,r)),i.mergeVertices(),i}return n}(Aa),ol=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e,r){var i;Object(d.a)(this,n);return(i=t.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,r)).type="TetrahedronBufferGeometry",i.parameters={radius:e,detail:r},i}return n}(il),sl=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e,r){var i;return Object(d.a)(this,n),(i=t.call(this)).type="OctahedronGeometry",i.parameters={radius:e,detail:r},i.fromBufferGeometry(new ul(e,r)),i.mergeVertices(),i}return n}(Aa),ul=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e,r){var i;Object(d.a)(this,n);return(i=t.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,r)).type="OctahedronBufferGeometry",i.parameters={radius:e,detail:r},i}return n}(il),ll=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e,r){var i;return Object(d.a)(this,n),(i=t.call(this)).type="IcosahedronGeometry",i.parameters={radius:e,detail:r},i.fromBufferGeometry(new cl(e,r)),i.mergeVertices(),i}return n}(Aa),cl=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e,r){var i;Object(d.a)(this,n);var a=(1+Math.sqrt(5))/2,o=[-1,a,0,1,a,0,-1,-a,0,1,-a,0,0,-1,a,0,1,a,0,-1,-a,0,1,-a,a,0,-1,a,0,1,-a,0,-1,-a,0,1];return(i=t.call(this,o,[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,r)).type="IcosahedronBufferGeometry",i.parameters={radius:e,detail:r},i}return n}(il),dl=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e,r){var i;return Object(d.a)(this,n),(i=t.call(this)).type="DodecahedronGeometry",i.parameters={radius:e,detail:r},i.fromBufferGeometry(new hl(e,r)),i.mergeVertices(),i}return n}(Aa),hl=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e,r){var i;Object(d.a)(this,n);var a=(1+Math.sqrt(5))/2,o=1/a,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-o,-a,0,-o,a,0,o,-a,0,o,a,-o,-a,0,-o,a,0,o,-a,0,o,a,0,-a,0,-o,a,0,-o,-a,0,o,a,0,o];return(i=t.call(this,s,[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,r)).type="DodecahedronBufferGeometry",i.parameters={radius:e,detail:r},i}return n}(il),fl=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e,r,i,a,o,s){var u;Object(d.a)(this,n),(u=t.call(this)).type="TubeGeometry",u.parameters={path:e,tubularSegments:r,radius:i,radialSegments:a,closed:o},void 0!==s&&console.warn("THREE.TubeGeometry: taper has been removed.");var l=new pl(e,r,i,a,o);return u.tangents=l.tangents,u.normals=l.normals,u.binormals=l.binormals,u.fromBufferGeometry(l),u.mergeVertices(),u}return n}(Aa),pl=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e,r,i,a,o){var s;Object(d.a)(this,n),(s=t.call(this)).type="TubeBufferGeometry",s.parameters={path:e,tubularSegments:r,radius:i,radialSegments:a,closed:o},r=r||64,i=i||1,a=a||8,o=o||!1;var u=e.computeFrenetFrames(r,o);s.tangents=u.tangents,s.normals=u.normals,s.binormals=u.binormals;var l=new sr,c=new sr,h=new Jn,f=new sr,p=[],m=[],v=[],g=[];function y(t){f=e.getPointAt(t/r,f);for(var n=u.normals[t],o=u.binormals[t],s=0;s<=a;s++){var d=s/a*Math.PI*2,h=Math.sin(d),v=-Math.cos(d);c.x=v*n.x+h*o.x,c.y=v*n.y+h*o.y,c.z=v*n.z+h*o.z,c.normalize(),m.push(c.x,c.y,c.z),l.x=f.x+i*c.x,l.y=f.y+i*c.y,l.z=f.z+i*c.z,p.push(l.x,l.y,l.z)}}return function(){for(var e=0;e<r;e++)y(e);y(!1===o?r:0),function(){for(var e=0;e<=r;e++)for(var t=0;t<=a;t++)h.x=e/r,h.y=t/a,v.push(h.x,h.y)}(),function(){for(var e=1;e<=r;e++)for(var t=1;t<=a;t++){var n=(a+1)*(e-1)+(t-1),i=(a+1)*e+(t-1),o=(a+1)*e+t,s=(a+1)*(e-1)+t;g.push(n,i,s),g.push(i,o,s)}}()}(),s.setIndex(g),s.setAttribute("position",new Vi(p,3)),s.setAttribute("normal",new Vi(m,3)),s.setAttribute("uv",new Vi(v,2)),s}return Object(h.a)(n,[{key:"toJSON",value:function(){var e=ea.prototype.toJSON.call(this);return e.path=this.parameters.path.toJSON(),e}}]),n}(ea),ml=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e,r,i,a,o,s,u){var l;return Object(d.a)(this,n),(l=t.call(this)).type="TorusKnotGeometry",l.parameters={radius:e,tube:r,tubularSegments:i,radialSegments:a,p:o,q:s},void 0!==u&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),l.fromBufferGeometry(new vl(e,r,i,a,o,s)),l.mergeVertices(),l}return n}(Aa),vl=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e,r,i,a,o,s){var u;Object(d.a)(this,n),(u=t.call(this)).type="TorusKnotBufferGeometry",u.parameters={radius:e,tube:r,tubularSegments:i,radialSegments:a,p:o,q:s},e=e||1,r=r||.4,i=Math.floor(i)||64,a=Math.floor(a)||8,o=o||2,s=s||3;for(var l=[],c=[],h=[],f=[],p=new sr,m=new sr,v=new sr,g=new sr,y=new sr,b=new sr,_=new sr,x=0;x<=i;++x){var w=x/i*o*Math.PI*2;O(w,o,s,e,v),O(w+.01,o,s,e,g),b.subVectors(g,v),_.addVectors(g,v),y.crossVectors(b,_),_.crossVectors(y,b),y.normalize(),_.normalize();for(var M=0;M<=a;++M){var E=M/a*Math.PI*2,A=-r*Math.cos(E),S=r*Math.sin(E);p.x=v.x+(A*_.x+S*y.x),p.y=v.y+(A*_.y+S*y.y),p.z=v.z+(A*_.z+S*y.z),c.push(p.x,p.y,p.z),m.subVectors(p,v).normalize(),h.push(m.x,m.y,m.z),f.push(x/i),f.push(M/a)}}for(var T=1;T<=i;T++)for(var C=1;C<=a;C++){var D=(a+1)*(T-1)+(C-1),R=(a+1)*T+(C-1),I=(a+1)*T+C,k=(a+1)*(T-1)+C;l.push(D,R,k),l.push(R,I,k)}function O(e,t,n,r,i){var a=Math.cos(e),o=Math.sin(e),s=n/t*e,u=Math.cos(s);i.x=r*(2+u)*.5*a,i.y=r*(2+u)*o*.5,i.z=r*Math.sin(s)*.5}return u.setIndex(l),u.setAttribute("position",new Vi(c,3)),u.setAttribute("normal",new Vi(h,3)),u.setAttribute("uv",new Vi(f,2)),u}return n}(ea),gl=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e,r,i,a,o){var s;return Object(d.a)(this,n),(s=t.call(this)).type="TorusGeometry",s.parameters={radius:e,tube:r,radialSegments:i,tubularSegments:a,arc:o},s.fromBufferGeometry(new yl(e,r,i,a,o)),s.mergeVertices(),s}return n}(Aa),yl=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e,r,i,a,o){var s;Object(d.a)(this,n),(s=t.call(this)).type="TorusBufferGeometry",s.parameters={radius:e,tube:r,radialSegments:i,tubularSegments:a,arc:o},e=e||1,r=r||.4,i=Math.floor(i)||8,a=Math.floor(a)||6,o=o||2*Math.PI;for(var u=[],l=[],c=[],h=[],f=new sr,p=new sr,m=new sr,v=0;v<=i;v++)for(var g=0;g<=a;g++){var y=g/a*o,b=v/i*Math.PI*2;p.x=(e+r*Math.cos(b))*Math.cos(y),p.y=(e+r*Math.cos(b))*Math.sin(y),p.z=r*Math.sin(b),l.push(p.x,p.y,p.z),f.x=e*Math.cos(y),f.y=e*Math.sin(y),m.subVectors(p,f).normalize(),c.push(m.x,m.y,m.z),h.push(g/a),h.push(v/i)}for(var _=1;_<=i;_++)for(var x=1;x<=a;x++){var w=(a+1)*_+x-1,M=(a+1)*(_-1)+x-1,E=(a+1)*(_-1)+x,A=(a+1)*_+x;u.push(w,M,A),u.push(M,E,A)}return s.setIndex(u),s.setAttribute("position",new Vi(l,3)),s.setAttribute("normal",new Vi(c,3)),s.setAttribute("uv",new Vi(h,2)),s}return n}(ea),bl=function(e,t,n){n=n||2;var r,i,a,o,s,u,l,c=t&&t.length,d=c?t[0]*n:e.length,h=_l(e,0,d,n,!0),f=[];if(!h||h.next===h.prev)return f;if(c&&(h=function(e,t,n,r){var i,a,o,s,u,l=[];for(i=0,a=t.length;i<a;i++)o=t[i]*r,s=i<a-1?t[i+1]*r:e.length,(u=_l(e,o,s,r,!1))===u.next&&(u.steiner=!0),l.push(Il(u));for(l.sort(Tl),i=0;i<l.length;i++)Cl(l[i],n),n=xl(n,n.next);return n}(e,t,h,n)),e.length>80*n){r=a=e[0],i=o=e[1];for(var p=n;p<d;p+=n)(s=e[p])<r&&(r=s),(u=e[p+1])<i&&(i=u),s>a&&(a=s),u>o&&(o=u);l=0!==(l=Math.max(a-r,o-i))?1/l:0}return wl(h,f,n,r,i,l),f};function _l(e,t,n,r,i){var a,o;if(i===function(e,t,n,r){for(var i=0,a=t,o=n-r;a<n;a+=r)i+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return i}(e,t,n,r)>0)for(a=t;a<n;a+=r)o=Ul(a,e[a],e[a+1],o);else for(a=n-r;a>=t;a-=r)o=Ul(a,e[a],e[a+1],o);return o&&Pl(o,o.next)&&(zl(o),o=o.next),o}function xl(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!Pl(r,r.next)&&0!==Ll(r.prev,r,r.next))r=r.next;else{if(zl(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function wl(e,t,n,r,i,a,o){if(e){!o&&a&&function(e,t,n,r){var i=e;do{null===i.z&&(i.z=Rl(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,a,o,s,u,l=1;do{for(n=e,e=null,a=null,o=0;n;){for(o++,r=n,s=0,t=0;t<l&&(s++,r=r.nextZ);t++);for(u=l;s>0||u>0&&r;)0!==s&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,u--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;n=r}a.nextZ=null,l*=2}while(o>1)}(i)}(e,r,i,a);for(var s,u,l=e;e.prev!==e.next;)if(s=e.prev,u=e.next,a?El(e,r,i,a):Ml(e))t.push(s.i/n),t.push(e.i/n),t.push(u.i/n),zl(e),e=u.next,l=u.next;else if((e=u)===l){o?1===o?wl(e=Al(xl(e),t,n),t,n,r,i,a,2):2===o&&Sl(e,t,n,r,i,a):wl(xl(e),t,n,r,i,a,1);break}}}function Ml(e){var t=e.prev,n=e,r=e.next;if(Ll(t,n,r)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(kl(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&Ll(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function El(e,t,n,r){var i=e.prev,a=e,o=e.next;if(Ll(i,a,o)>=0)return!1;for(var s=i.x<a.x?i.x<o.x?i.x:o.x:a.x<o.x?a.x:o.x,u=i.y<a.y?i.y<o.y?i.y:o.y:a.y<o.y?a.y:o.y,l=i.x>a.x?i.x>o.x?i.x:o.x:a.x>o.x?a.x:o.x,c=i.y>a.y?i.y>o.y?i.y:o.y:a.y>o.y?a.y:o.y,d=Rl(s,u,t,n,r),h=Rl(l,c,t,n,r),f=e.prevZ,p=e.nextZ;f&&f.z>=d&&p&&p.z<=h;){if(f!==e.prev&&f!==e.next&&kl(i.x,i.y,a.x,a.y,o.x,o.y,f.x,f.y)&&Ll(f.prev,f,f.next)>=0)return!1;if(f=f.prevZ,p!==e.prev&&p!==e.next&&kl(i.x,i.y,a.x,a.y,o.x,o.y,p.x,p.y)&&Ll(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(;f&&f.z>=d;){if(f!==e.prev&&f!==e.next&&kl(i.x,i.y,a.x,a.y,o.x,o.y,f.x,f.y)&&Ll(f.prev,f,f.next)>=0)return!1;f=f.prevZ}for(;p&&p.z<=h;){if(p!==e.prev&&p!==e.next&&kl(i.x,i.y,a.x,a.y,o.x,o.y,p.x,p.y)&&Ll(p.prev,p,p.next)>=0)return!1;p=p.nextZ}return!0}function Al(e,t,n){var r=e;do{var i=r.prev,a=r.next.next;!Pl(i,a)&&Bl(i,r,r.next,a)&&Gl(i,a)&&Gl(a,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(a.i/n),zl(r),zl(r.next),r=e=a),r=r.next}while(r!==e);return xl(r)}function Sl(e,t,n,r,i,a){var o=e;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&Ol(o,s)){var u=jl(o,s);return o=xl(o,o.next),u=xl(u,u.next),wl(o,t,n,r,i,a),void wl(u,t,n,r,i,a)}s=s.next}o=o.next}while(o!==e)}function Tl(e,t){return e.x-t.x}function Cl(e,t){if(t=function(e,t){var n,r=t,i=e.x,a=e.y,o=-1/0;do{if(a<=r.y&&a>=r.next.y&&r.next.y!==r.y){var s=r.x+(a-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>o){if(o=s,s===i){if(a===r.y)return r;if(a===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(i===o)return n;var u,l=n,c=n.x,d=n.y,h=1/0;r=n;do{i>=r.x&&r.x>=c&&i!==r.x&&kl(a<d?i:o,a,c,d,a<d?o:i,a,r.x,r.y)&&(u=Math.abs(a-r.y)/(i-r.x),Gl(r,e)&&(u<h||u===h&&(r.x>n.x||r.x===n.x&&Dl(n,r)))&&(n=r,h=u)),r=r.next}while(r!==l);return n}(e,t)){var n=jl(t,e);xl(t,t.next),xl(n,n.next)}}function Dl(e,t){return Ll(e.prev,e,t.prev)<0&&Ll(t.next,e,e.next)<0}function Rl(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function Il(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function kl(e,t,n,r,i,a,o,s){return(i-o)*(t-s)-(e-o)*(a-s)>=0&&(e-o)*(r-s)-(n-o)*(t-s)>=0&&(n-o)*(a-s)-(i-o)*(r-s)>=0}function Ol(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&Bl(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(Gl(e,t)&&Gl(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,a=(e.y+t.y)/2;do{n.y>a!==n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(Ll(e.prev,e,t.prev)||Ll(e,t.prev,t))||Pl(e,t)&&Ll(e.prev,e,e.next)>0&&Ll(t.prev,t,t.next)>0)}function Ll(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function Pl(e,t){return e.x===t.x&&e.y===t.y}function Bl(e,t,n,r){var i=Nl(Ll(e,t,n)),a=Nl(Ll(e,t,r)),o=Nl(Ll(n,r,e)),s=Nl(Ll(n,r,t));return i!==a&&o!==s||(!(0!==i||!Fl(e,n,t))||(!(0!==a||!Fl(e,r,t))||(!(0!==o||!Fl(n,e,r))||!(0!==s||!Fl(n,t,r)))))}function Fl(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function Nl(e){return e>0?1:e<0?-1:0}function Gl(e,t){return Ll(e.prev,e,e.next)<0?Ll(e,t,e.next)>=0&&Ll(e,e.prev,t)>=0:Ll(e,t,e.prev)<0||Ll(e,e.next,t)<0}function jl(e,t){var n=new Vl(e.i,e.x,e.y),r=new Vl(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function Ul(e,t,n,r){var i=new Vl(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function zl(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Vl(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}var Hl={area:function(e){for(var t=e.length,n=0,r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n},isClockWise:function(e){return Hl.area(e)<0},triangulateShape:function(e,t){var n=[],r=[],i=[];Wl(e),Xl(n,e);var a=e.length;t.forEach(Wl);for(var o=0;o<t.length;o++)r.push(a),a+=t[o].length,Xl(n,t[o]);for(var s=bl(n,r),u=0;u<s.length;u+=3)i.push(s.slice(u,u+3));return i}};function Wl(e){var t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function Xl(e,t){for(var n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}var ql=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e,r){var i;return Object(d.a)(this,n),(i=t.call(this)).type="ExtrudeGeometry",i.parameters={shapes:e,options:r},i.fromBufferGeometry(new Yl(e,r)),i.mergeVertices(),i}return Object(h.a)(n,[{key:"toJSON",value:function(){var e=Object(a.a)(Object(o.a)(n.prototype),"toJSON",this).call(this);return Zl(this.parameters.shapes,this.parameters.options,e)}}]),n}(Aa),Yl=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e,r){var i;Object(d.a)(this,n),(i=t.call(this)).type="ExtrudeBufferGeometry",i.parameters={shapes:e,options:r},e=Array.isArray(e)?e:[e];for(var a=Object(u.a)(i),o=[],s=[],l=0,c=e.length;l<c;l++){h(e[l])}function h(e){var t=[],n=void 0!==r.curveSegments?r.curveSegments:12,i=void 0!==r.steps?r.steps:1,u=void 0!==r.depth?r.depth:100,l=void 0===r.bevelEnabled||r.bevelEnabled,c=void 0!==r.bevelThickness?r.bevelThickness:6,d=void 0!==r.bevelSize?r.bevelSize:c-2,h=void 0!==r.bevelOffset?r.bevelOffset:0,f=void 0!==r.bevelSegments?r.bevelSegments:3,p=r.extrudePath,m=void 0!==r.UVGenerator?r.UVGenerator:Ql;void 0!==r.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),u=r.amount);var v,g,y,b,_,x=!1;p&&(v=p.getSpacedPoints(i),x=!0,l=!1,g=p.computeFrenetFrames(i,!1),y=new sr,b=new sr,_=new sr),l||(f=0,c=0,d=0,h=0);var w=e.extractPoints(n),M=w.shape,E=w.holes;if(!Hl.isClockWise(M)){M=M.reverse();for(var A=0,S=E.length;A<S;A++){var T=E[A];Hl.isClockWise(T)&&(E[A]=T.reverse())}}for(var C=Hl.triangulateShape(M,E),D=M,R=0,I=E.length;R<I;R++){var k=E[R];M=M.concat(k)}function O(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(n).add(e)}var L=M.length,P=C.length;function B(e,t,n){var r,i,a,o=e.x-t.x,s=e.y-t.y,u=n.x-e.x,l=n.y-e.y,c=o*o+s*s,d=o*l-s*u;if(Math.abs(d)>Number.EPSILON){var h=Math.sqrt(c),f=Math.sqrt(u*u+l*l),p=t.x-s/h,m=t.y+o/h,v=((n.x-l/f-p)*l-(n.y+u/f-m)*u)/(o*l-s*u),g=(r=p+o*v-e.x)*r+(i=m+s*v-e.y)*i;if(g<=2)return new Jn(r,i);a=Math.sqrt(g/2)}else{var y=!1;o>Number.EPSILON?u>Number.EPSILON&&(y=!0):o<-Number.EPSILON?u<-Number.EPSILON&&(y=!0):Math.sign(s)===Math.sign(l)&&(y=!0),y?(r=-s,i=o,a=Math.sqrt(c)):(r=o,i=s,a=Math.sqrt(c/2))}return new Jn(r/a,i/a)}for(var F=[],N=0,G=D.length,j=G-1,U=N+1;N<G;N++,j++,U++)j===G&&(j=0),U===G&&(U=0),F[N]=B(D[N],D[j],D[U]);for(var z,V=[],H=F.concat(),W=0,X=E.length;W<X;W++){var q=E[W];z=[];for(var Y=0,Q=q.length,Z=Q-1,K=Y+1;Y<Q;Y++,Z++,K++)Z===Q&&(Z=0),K===Q&&(K=0),z[Y]=B(q[Y],q[Z],q[K]);V.push(z),H=H.concat(z)}for(var J=0;J<f;J++){for(var $=J/f,ee=c*Math.cos($*Math.PI/2),te=d*Math.sin($*Math.PI/2)+h,ne=0,re=D.length;ne<re;ne++){var ie=O(D[ne],F[ne],te);Ie(ie.x,ie.y,-ee)}for(var ae=0,oe=E.length;ae<oe;ae++){var se=E[ae];z=V[ae];for(var ue=0,le=se.length;ue<le;ue++){var ce=O(se[ue],z[ue],te);Ie(ce.x,ce.y,-ee)}}}for(var de=d+h,he=0;he<L;he++){var fe=l?O(M[he],H[he],de):M[he];x?(b.copy(g.normals[0]).multiplyScalar(fe.x),y.copy(g.binormals[0]).multiplyScalar(fe.y),_.copy(v[0]).add(b).add(y),Ie(_.x,_.y,_.z)):Ie(fe.x,fe.y,0)}for(var pe=1;pe<=i;pe++)for(var me=0;me<L;me++){var ve=l?O(M[me],H[me],de):M[me];x?(b.copy(g.normals[pe]).multiplyScalar(ve.x),y.copy(g.binormals[pe]).multiplyScalar(ve.y),_.copy(v[pe]).add(b).add(y),Ie(_.x,_.y,_.z)):Ie(ve.x,ve.y,u/i*pe)}for(var ge=f-1;ge>=0;ge--){for(var ye=ge/f,be=c*Math.cos(ye*Math.PI/2),_e=d*Math.sin(ye*Math.PI/2)+h,xe=0,we=D.length;xe<we;xe++){var Me=O(D[xe],F[xe],_e);Ie(Me.x,Me.y,u+be)}for(var Ee=0,Ae=E.length;Ee<Ae;Ee++){var Se=E[Ee];z=V[Ee];for(var Te=0,Ce=Se.length;Te<Ce;Te++){var De=O(Se[Te],z[Te],_e);x?Ie(De.x,De.y+v[i-1].y,v[i-1].x+be):Ie(De.x,De.y,u+be)}}}function Re(e,t){for(var n=e.length;--n>=0;){var r=n,a=n-1;a<0&&(a=e.length-1);for(var o=0,s=i+2*f;o<s;o++){var u=L*o,l=L*(o+1);Oe(t+r+u,t+a+u,t+a+l,t+r+l)}}}function Ie(e,n,r){t.push(e),t.push(n),t.push(r)}function ke(e,t,n){Le(e),Le(t),Le(n);var r=o.length/3,i=m.generateTopUV(a,o,r-3,r-2,r-1);Pe(i[0]),Pe(i[1]),Pe(i[2])}function Oe(e,t,n,r){Le(e),Le(t),Le(r),Le(t),Le(n),Le(r);var i=o.length/3,s=m.generateSideWallUV(a,o,i-6,i-3,i-2,i-1);Pe(s[0]),Pe(s[1]),Pe(s[3]),Pe(s[1]),Pe(s[2]),Pe(s[3])}function Le(e){o.push(t[3*e+0]),o.push(t[3*e+1]),o.push(t[3*e+2])}function Pe(e){s.push(e.x),s.push(e.y)}!function(){var e=o.length/3;if(l){for(var t=0,n=L*t,r=0;r<P;r++){var s=C[r];ke(s[2]+n,s[1]+n,s[0]+n)}n=L*(t=i+2*f);for(var u=0;u<P;u++){var c=C[u];ke(c[0]+n,c[1]+n,c[2]+n)}}else{for(var d=0;d<P;d++){var h=C[d];ke(h[2],h[1],h[0])}for(var p=0;p<P;p++){var m=C[p];ke(m[0]+L*i,m[1]+L*i,m[2]+L*i)}}a.addGroup(e,o.length/3-e,0)}(),function(){var e=o.length/3,t=0;Re(D,t),t+=D.length;for(var n=0,r=E.length;n<r;n++){var i=E[n];Re(i,t),t+=i.length}a.addGroup(e,o.length/3-e,1)}()}return i.setAttribute("position",new Vi(o,3)),i.setAttribute("uv",new Vi(s,2)),i.computeVertexNormals(),i}return Object(h.a)(n,[{key:"toJSON",value:function(){var e=ea.prototype.toJSON.call(this);return Zl(this.parameters.shapes,this.parameters.options,e)}}]),n}(ea),Ql={generateTopUV:function(e,t,n,r,i){var a=t[3*n],o=t[3*n+1],s=t[3*r],u=t[3*r+1],l=t[3*i],c=t[3*i+1];return[new Jn(a,o),new Jn(s,u),new Jn(l,c)]},generateSideWallUV:function(e,t,n,r,i,a){var o=t[3*n],s=t[3*n+1],u=t[3*n+2],l=t[3*r],c=t[3*r+1],d=t[3*r+2],h=t[3*i],f=t[3*i+1],p=t[3*i+2],m=t[3*a],v=t[3*a+1],g=t[3*a+2];return Math.abs(s-c)<.01?[new Jn(o,1-u),new Jn(l,1-d),new Jn(h,1-p),new Jn(m,1-g)]:[new Jn(s,1-u),new Jn(c,1-d),new Jn(f,1-p),new Jn(v,1-g)]}};function Zl(e,t,n){if(n.shapes=[],Array.isArray(e))for(var r=0,i=e.length;r<i;r++){var a=e[r];n.shapes.push(a.uuid)}else n.shapes.push(e.uuid);return void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON()),n}var Kl=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e,r){var i;return Object(d.a)(this,n),(i=t.call(this)).type="TextGeometry",i.parameters={text:e,parameters:r},i.fromBufferGeometry(new Jl(e,r)),i.mergeVertices(),i}return n}(Aa),Jl=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e,r){var a;Object(d.a)(this,n);var o=(r=r||{}).font;if(!o||!o.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),Object(i.a)(a,new Aa);var s=o.generateShapes(e,r.size);return r.depth=void 0!==r.height?r.height:50,void 0===r.bevelThickness&&(r.bevelThickness=10),void 0===r.bevelSize&&(r.bevelSize=8),void 0===r.bevelEnabled&&(r.bevelEnabled=!1),(a=t.call(this,s,r)).type="TextBufferGeometry",a}return n}(Yl),$l=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e,r,i,a,o,s,u){var l;return Object(d.a)(this,n),(l=t.call(this)).type="SphereGeometry",l.parameters={radius:e,widthSegments:r,heightSegments:i,phiStart:a,phiLength:o,thetaStart:s,thetaLength:u},l.fromBufferGeometry(new ec(e,r,i,a,o,s,u)),l.mergeVertices(),l}return n}(Aa),ec=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e,r,i,a,o,s,u){var l;Object(d.a)(this,n),(l=t.call(this)).type="SphereBufferGeometry",l.parameters={radius:e,widthSegments:r,heightSegments:i,phiStart:a,phiLength:o,thetaStart:s,thetaLength:u},e=e||1,r=Math.max(3,Math.floor(r)||8),i=Math.max(2,Math.floor(i)||6),a=void 0!==a?a:0,o=void 0!==o?o:2*Math.PI,s=void 0!==s?s:0,u=void 0!==u?u:Math.PI;for(var c=Math.min(s+u,Math.PI),h=0,f=[],p=new sr,m=new sr,v=[],g=[],y=[],b=[],_=0;_<=i;_++){var x=[],w=_/i,M=0;0==_&&0==s?M=.5/r:_==i&&c==Math.PI&&(M=-.5/r);for(var E=0;E<=r;E++){var A=E/r;p.x=-e*Math.cos(a+A*o)*Math.sin(s+w*u),p.y=e*Math.cos(s+w*u),p.z=e*Math.sin(a+A*o)*Math.sin(s+w*u),g.push(p.x,p.y,p.z),m.copy(p).normalize(),y.push(m.x,m.y,m.z),b.push(A+M,1-w),x.push(h++)}f.push(x)}for(var S=0;S<i;S++)for(var T=0;T<r;T++){var C=f[S][T+1],D=f[S][T],R=f[S+1][T],I=f[S+1][T+1];(0!==S||s>0)&&v.push(C,D,I),(S!==i-1||c<Math.PI)&&v.push(D,R,I)}return l.setIndex(v),l.setAttribute("position",new Vi(g,3)),l.setAttribute("normal",new Vi(y,3)),l.setAttribute("uv",new Vi(b,2)),l}return n}(ea),tc=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e,r,i,a,o,s){var u;return Object(d.a)(this,n),(u=t.call(this)).type="RingGeometry",u.parameters={innerRadius:e,outerRadius:r,thetaSegments:i,phiSegments:a,thetaStart:o,thetaLength:s},u.fromBufferGeometry(new nc(e,r,i,a,o,s)),u.mergeVertices(),u}return n}(Aa),nc=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e,r,i,a,o,s){var u;Object(d.a)(this,n),(u=t.call(this)).type="RingBufferGeometry",u.parameters={innerRadius:e,outerRadius:r,thetaSegments:i,phiSegments:a,thetaStart:o,thetaLength:s},e=e||.5,r=r||1,o=void 0!==o?o:0,s=void 0!==s?s:2*Math.PI,i=void 0!==i?Math.max(3,i):8;for(var l=[],c=[],h=[],f=[],p=e,m=(r-e)/(a=void 0!==a?Math.max(1,a):1),v=new sr,g=new Jn,y=0;y<=a;y++){for(var b=0;b<=i;b++){var _=o+b/i*s;v.x=p*Math.cos(_),v.y=p*Math.sin(_),c.push(v.x,v.y,v.z),h.push(0,0,1),g.x=(v.x/r+1)/2,g.y=(v.y/r+1)/2,f.push(g.x,g.y)}p+=m}for(var x=0;x<a;x++)for(var w=x*(i+1),M=0;M<i;M++){var E=M+w,A=E,S=E+i+1,T=E+i+2,C=E+1;l.push(A,S,C),l.push(S,T,C)}return u.setIndex(l),u.setAttribute("position",new Vi(c,3)),u.setAttribute("normal",new Vi(h,3)),u.setAttribute("uv",new Vi(f,2)),u}return n}(ea),rc=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e,r,i,a){var o;return Object(d.a)(this,n),(o=t.call(this)).type="LatheGeometry",o.parameters={points:e,segments:r,phiStart:i,phiLength:a},o.fromBufferGeometry(new ic(e,r,i,a)),o.mergeVertices(),o}return n}(Aa),ic=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e,r,i,a){var o;Object(d.a)(this,n),(o=t.call(this)).type="LatheBufferGeometry",o.parameters={points:e,segments:r,phiStart:i,phiLength:a},r=Math.floor(r)||12,i=i||0,a=a||2*Math.PI,a=Kn.clamp(a,0,2*Math.PI);for(var s=[],u=[],l=[],c=1/r,h=new sr,f=new Jn,p=0;p<=r;p++)for(var m=i+p*c*a,v=Math.sin(m),g=Math.cos(m),y=0;y<=e.length-1;y++)h.x=e[y].x*v,h.y=e[y].y,h.z=e[y].x*g,u.push(h.x,h.y,h.z),f.x=p/r,f.y=y/(e.length-1),l.push(f.x,f.y);for(var b=0;b<r;b++)for(var _=0;_<e.length-1;_++){var x=_+b*e.length,w=x,M=x+e.length,E=x+e.length+1,A=x+1;s.push(w,M,A),s.push(M,E,A)}if(o.setIndex(s),o.setAttribute("position",new Vi(u,3)),o.setAttribute("uv",new Vi(l,2)),o.computeVertexNormals(),a===2*Math.PI)for(var S=o.attributes.normal.array,T=new sr,C=new sr,D=new sr,R=r*e.length*3,I=0,k=0;I<e.length;I++,k+=3)T.x=S[k+0],T.y=S[k+1],T.z=S[k+2],C.x=S[R+k+0],C.y=S[R+k+1],C.z=S[R+k+2],D.addVectors(T,C).normalize(),S[k+0]=S[R+k+0]=D.x,S[k+1]=S[R+k+1]=D.y,S[k+2]=S[R+k+2]=D.z;return o}return n}(ea),ac=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e,r){var i;return Object(d.a)(this,n),(i=t.call(this)).type="ShapeGeometry","object"===typeof r&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),r=r.curveSegments),i.parameters={shapes:e,curveSegments:r},i.fromBufferGeometry(new oc(e,r)),i.mergeVertices(),i}return Object(h.a)(n,[{key:"toJSON",value:function(){var e=Aa.prototype.toJSON.call(this);return sc(this.parameters.shapes,e)}}]),n}(Aa),oc=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e,r){var i;Object(d.a)(this,n),(i=t.call(this)).type="ShapeBufferGeometry",i.parameters={shapes:e,curveSegments:r},r=r||12;var a=[],o=[],s=[],u=[],l=0,c=0;if(!1===Array.isArray(e))f(e);else for(var h=0;h<e.length;h++)f(e[h]),i.addGroup(l,c,h),l+=c,c=0;function f(e){var t=o.length/3,n=e.extractPoints(r),i=n.shape,l=n.holes;!1===Hl.isClockWise(i)&&(i=i.reverse());for(var d=0,h=l.length;d<h;d++){var f=l[d];!0===Hl.isClockWise(f)&&(l[d]=f.reverse())}for(var p=Hl.triangulateShape(i,l),m=0,v=l.length;m<v;m++){var g=l[m];i=i.concat(g)}for(var y=0,b=i.length;y<b;y++){var _=i[y];o.push(_.x,_.y,0),s.push(0,0,1),u.push(_.x,_.y)}for(var x=0,w=p.length;x<w;x++){var M=p[x],E=M[0]+t,A=M[1]+t,S=M[2]+t;a.push(E,A,S),c+=3}}return i.setIndex(a),i.setAttribute("position",new Vi(o,3)),i.setAttribute("normal",new Vi(s,3)),i.setAttribute("uv",new Vi(u,2)),i}return Object(h.a)(n,[{key:"toJSON",value:function(){var e=ea.prototype.toJSON.call(this);return sc(this.parameters.shapes,e)}}]),n}(ea);function sc(e,t){if(t.shapes=[],Array.isArray(e))for(var n=0,r=e.length;n<r;n++){var i=e[n];t.shapes.push(i.uuid)}else t.shapes.push(e.uuid);return t}var uc=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e,r){var i;Object(d.a)(this,n),(i=t.call(this)).type="EdgesGeometry",i.parameters={thresholdAngle:r},r=void 0!==r?r:1;var a,o,s,u,l=[],c=Math.cos(Kn.DEG2RAD*r),h=[0,0],f={},p=["a","b","c"];e.isBufferGeometry?(u=new Aa).fromBufferGeometry(e):u=e.clone(),u.mergeVertices(),u.computeFaceNormals();for(var m=u.vertices,v=u.faces,g=0,y=v.length;g<y;g++)for(var b=v[g],_=0;_<3;_++)a=b[p[_]],o=b[p[(_+1)%3]],h[0]=Math.min(a,o),h[1]=Math.max(a,o),void 0===f[s=h[0]+","+h[1]]?f[s]={index1:h[0],index2:h[1],face1:g,face2:void 0}:f[s].face2=g;for(s in f){var x=f[s];if(void 0===x.face2||v[x.face1].normal.dot(v[x.face2].normal)<=c){var w=m[x.index1];l.push(w.x,w.y,w.z),w=m[x.index2],l.push(w.x,w.y,w.z)}}return i.setAttribute("position",new Vi(l,3)),i}return n}(ea),lc=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e,r,i,a,o,s,u,l){var c;return Object(d.a)(this,n),(c=t.call(this)).type="CylinderGeometry",c.parameters={radiusTop:e,radiusBottom:r,height:i,radialSegments:a,heightSegments:o,openEnded:s,thetaStart:u,thetaLength:l},c.fromBufferGeometry(new cc(e,r,i,a,o,s,u,l)),c.mergeVertices(),c}return n}(Aa),cc=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e,r,i,a,o,s,l,c){var h;Object(d.a)(this,n),(h=t.call(this)).type="CylinderBufferGeometry",h.parameters={radiusTop:e,radiusBottom:r,height:i,radialSegments:a,heightSegments:o,openEnded:s,thetaStart:l,thetaLength:c};var f=Object(u.a)(h);e=void 0!==e?e:1,r=void 0!==r?r:1,i=i||1,a=Math.floor(a)||8,o=Math.floor(o)||1,s=void 0!==s&&s,l=void 0!==l?l:0,c=void 0!==c?c:2*Math.PI;var p=[],m=[],v=[],g=[],y=0,b=[],_=i/2,x=0;function w(t){for(var n=y,i=new Jn,o=new sr,s=0,u=!0===t?e:r,d=!0===t?1:-1,h=1;h<=a;h++)m.push(0,_*d,0),v.push(0,d,0),g.push(.5,.5),y++;for(var b=y,w=0;w<=a;w++){var M=w/a*c+l,E=Math.cos(M),A=Math.sin(M);o.x=u*A,o.y=_*d,o.z=u*E,m.push(o.x,o.y,o.z),v.push(0,d,0),i.x=.5*E+.5,i.y=.5*A*d+.5,g.push(i.x,i.y),y++}for(var S=0;S<a;S++){var T=n+S,C=b+S;!0===t?p.push(C,C+1,T):p.push(C+1,C,T),s+=3}f.addGroup(x,s,!0===t?1:2),x+=s}return function(){for(var t=new sr,n=new sr,s=0,u=(r-e)/i,d=0;d<=o;d++){for(var h=[],w=d/o,M=w*(r-e)+e,E=0;E<=a;E++){var A=E/a,S=A*c+l,T=Math.sin(S),C=Math.cos(S);n.x=M*T,n.y=-w*i+_,n.z=M*C,m.push(n.x,n.y,n.z),t.set(T,u,C).normalize(),v.push(t.x,t.y,t.z),g.push(A,1-w),h.push(y++)}b.push(h)}for(var D=0;D<a;D++)for(var R=0;R<o;R++){var I=b[R][D],k=b[R+1][D],O=b[R+1][D+1],L=b[R][D+1];p.push(I,k,L),p.push(k,O,L),s+=6}f.addGroup(x,s,0),x+=s}(),!1===s&&(e>0&&w(!0),r>0&&w(!1)),h.setIndex(p),h.setAttribute("position",new Vi(m,3)),h.setAttribute("normal",new Vi(v,3)),h.setAttribute("uv",new Vi(g,2)),h}return n}(ea),dc=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e,r,i,a,o,s,u){var l;return Object(d.a)(this,n),(l=t.call(this,0,e,r,i,a,o,s,u)).type="ConeGeometry",l.parameters={radius:e,height:r,radialSegments:i,heightSegments:a,openEnded:o,thetaStart:s,thetaLength:u},l}return n}(lc),hc=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e,r,i,a,o,s,u){var l;return Object(d.a)(this,n),(l=t.call(this,0,e,r,i,a,o,s,u)).type="ConeBufferGeometry",l.parameters={radius:e,height:r,radialSegments:i,heightSegments:a,openEnded:o,thetaStart:s,thetaLength:u},l}return n}(cc),fc=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e,r,i,a){var o;return Object(d.a)(this,n),(o=t.call(this)).type="CircleGeometry",o.parameters={radius:e,segments:r,thetaStart:i,thetaLength:a},o.fromBufferGeometry(new pc(e,r,i,a)),o.mergeVertices(),o}return n}(Aa),pc=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e,r,i,a){var o;Object(d.a)(this,n),(o=t.call(this)).type="CircleBufferGeometry",o.parameters={radius:e,segments:r,thetaStart:i,thetaLength:a},e=e||1,r=void 0!==r?Math.max(3,r):8,i=void 0!==i?i:0,a=void 0!==a?a:2*Math.PI;var s=[],u=[],l=[],c=[],h=new sr,f=new Jn;u.push(0,0,0),l.push(0,0,1),c.push(.5,.5);for(var p=0,m=3;p<=r;p++,m+=3){var v=i+p/r*a;h.x=e*Math.cos(v),h.y=e*Math.sin(v),u.push(h.x,h.y,h.z),l.push(0,0,1),f.x=(u[m]/e+1)/2,f.y=(u[m+1]/e+1)/2,c.push(f.x,f.y)}for(var g=1;g<=r;g++)s.push(g,g+1,0);return o.setIndex(s),o.setAttribute("position",new Vi(u,3)),o.setAttribute("normal",new Vi(l,3)),o.setAttribute("uv",new Vi(c,2)),o}return n}(ea),mc=Object.freeze({__proto__:null,WireframeGeometry:el,ParametricGeometry:tl,ParametricBufferGeometry:nl,TetrahedronGeometry:al,TetrahedronBufferGeometry:ol,OctahedronGeometry:sl,OctahedronBufferGeometry:ul,IcosahedronGeometry:ll,IcosahedronBufferGeometry:cl,DodecahedronGeometry:dl,DodecahedronBufferGeometry:hl,PolyhedronGeometry:rl,PolyhedronBufferGeometry:il,TubeGeometry:fl,TubeBufferGeometry:pl,TorusKnotGeometry:ml,TorusKnotBufferGeometry:vl,TorusGeometry:gl,TorusBufferGeometry:yl,TextGeometry:Kl,TextBufferGeometry:Jl,SphereGeometry:$l,SphereBufferGeometry:ec,RingGeometry:tc,RingBufferGeometry:nc,PlaneGeometry:za,PlaneBufferGeometry:Va,LatheGeometry:rc,LatheBufferGeometry:ic,ShapeGeometry:ac,ShapeBufferGeometry:oc,ExtrudeGeometry:ql,ExtrudeBufferGeometry:Yl,EdgesGeometry:uc,ConeGeometry:dc,ConeBufferGeometry:hc,CylinderGeometry:lc,CylinderBufferGeometry:cc,CircleGeometry:fc,CircleBufferGeometry:pc,BoxGeometry:Sa,BoxBufferGeometry:Ta});function vc(e){Ii.call(this),this.type="ShadowMaterial",this.color=new Ci(0),this.transparent=!0,this.setValues(e)}function gc(e){Ia.call(this,e),this.type="RawShaderMaterial"}function yc(e){Ii.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Ci(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ci(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=gn,this.normalScale=new Jn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.vertexTangents=!1,this.setValues(e)}function bc(e){yc.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoat=0,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Jn(1,1),this.clearcoatNormalMap=null,this.reflectivity=.5,this.sheen=null,this.transmission=0,this.transmissionMap=null,this.setValues(e)}function _c(e){Ii.call(this),this.type="MeshPhongMaterial",this.color=new Ci(16777215),this.specular=new Ci(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ci(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=gn,this.normalScale=new Jn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ae,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function xc(e){Ii.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Ci(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ci(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=gn,this.normalScale=new Jn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function wc(e){Ii.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=gn,this.normalScale=new Jn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Mc(e){Ii.call(this),this.type="MeshLambertMaterial",this.color=new Ci(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ci(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ae,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Ec(e){Ii.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Ci(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=gn,this.normalScale=new Jn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Ac(e){ku.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}vc.prototype=Object.create(Ii.prototype),vc.prototype.constructor=vc,vc.prototype.isShadowMaterial=!0,vc.prototype.copy=function(e){return Ii.prototype.copy.call(this,e),this.color.copy(e.color),this},gc.prototype=Object.create(Ia.prototype),gc.prototype.constructor=gc,gc.prototype.isRawShaderMaterial=!0,yc.prototype=Object.create(Ii.prototype),yc.prototype.constructor=yc,yc.prototype.isMeshStandardMaterial=!0,yc.prototype.copy=function(e){return Ii.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.vertexTangents=e.vertexTangents,this},bc.prototype=Object.create(yc.prototype),bc.prototype.constructor=bc,bc.prototype.isMeshPhysicalMaterial=!0,bc.prototype.copy=function(e){return yc.prototype.copy.call(this,e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.reflectivity=e.reflectivity,e.sheen?this.sheen=(this.sheen||new Ci).copy(e.sheen):this.sheen=null,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this},_c.prototype=Object.create(Ii.prototype),_c.prototype.constructor=_c,_c.prototype.isMeshPhongMaterial=!0,_c.prototype.copy=function(e){return Ii.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},xc.prototype=Object.create(Ii.prototype),xc.prototype.constructor=xc,xc.prototype.isMeshToonMaterial=!0,xc.prototype.copy=function(e){return Ii.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},wc.prototype=Object.create(Ii.prototype),wc.prototype.constructor=wc,wc.prototype.isMeshNormalMaterial=!0,wc.prototype.copy=function(e){return Ii.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Mc.prototype=Object.create(Ii.prototype),Mc.prototype.constructor=Mc,Mc.prototype.isMeshLambertMaterial=!0,Mc.prototype.copy=function(e){return Ii.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Ec.prototype=Object.create(Ii.prototype),Ec.prototype.constructor=Ec,Ec.prototype.isMeshMatcapMaterial=!0,Ec.prototype.copy=function(e){return Ii.prototype.copy.call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Ac.prototype=Object.create(ku.prototype),Ac.prototype.constructor=Ac,Ac.prototype.isLineDashedMaterial=!0,Ac.prototype.copy=function(e){return ku.prototype.copy.call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this};var Sc=Object.freeze({__proto__:null,ShadowMaterial:vc,SpriteMaterial:iu,RawShaderMaterial:gc,ShaderMaterial:Ia,PointsMaterial:Vu,MeshPhysicalMaterial:bc,MeshStandardMaterial:yc,MeshPhongMaterial:_c,MeshToonMaterial:xc,MeshNormalMaterial:wc,MeshLambertMaterial:Mc,MeshDepthMaterial:Ns,MeshDistanceMaterial:Gs,MeshBasicMaterial:ki,MeshMatcapMaterial:Ec,LineDashedMaterial:Ac,LineBasicMaterial:ku,Material:Ii}),Tc={arraySlice:function(e,t,n){return Tc.isTypedArray(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)},convertArray:function(e,t,n){return!e||!n&&e.constructor===t?e:"number"===typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){for(var t=e.length,n=new Array(t),r=0;r!==t;++r)n[r]=r;return n.sort((function(t,n){return e[t]-e[n]})),n},sortedArray:function(e,t,n){for(var r=e.length,i=new e.constructor(r),a=0,o=0;o!==r;++a)for(var s=n[a]*t,u=0;u!==t;++u)i[o++]=e[s+u];return i},flattenJSON:function(e,t,n,r){for(var i=1,a=e[0];void 0!==a&&void 0===a[r];)a=e[i++];if(void 0!==a){var o=a[r];if(void 0!==o)if(Array.isArray(o))do{void 0!==(o=a[r])&&(t.push(a.time),n.push.apply(n,o)),a=e[i++]}while(void 0!==a);else if(void 0!==o.toArray)do{void 0!==(o=a[r])&&(t.push(a.time),o.toArray(n,n.length)),a=e[i++]}while(void 0!==a);else do{void 0!==(o=a[r])&&(t.push(a.time),n.push(o)),a=e[i++]}while(void 0!==a)}},subclip:function(e,t,n,r,i){i=i||30;var a=e.clone();a.name=t;for(var o=[],s=0;s<a.tracks.length;++s){for(var u=a.tracks[s],l=u.getValueSize(),c=[],d=[],h=0;h<u.times.length;++h){var f=u.times[h]*i;if(!(f<n||f>=r)){c.push(u.times[h]);for(var p=0;p<l;++p)d.push(u.values[h*l+p])}}0!==c.length&&(u.times=Tc.convertArray(c,u.times.constructor),u.values=Tc.convertArray(d,u.values.constructor),o.push(u))}a.tracks=o;for(var m=1/0,v=0;v<a.tracks.length;++v)m>a.tracks[v].times[0]&&(m=a.tracks[v].times[0]);for(var g=0;g<a.tracks.length;++g)a.tracks[g].shift(-1*m);return a.resetDuration(),a},makeClipAdditive:function(e,t,n,r){void 0===t&&(t=0),void 0===n&&(n=e),(void 0===r||r<=0)&&(r=30);for(var i=e.tracks.length,a=t/r,o=function(t){var r=n.tracks[t],i=r.ValueTypeName;if("bool"===i||"string"===i)return"continue";var o=e.tracks.find((function(e){return e.name===r.name&&e.ValueTypeName===i}));if(void 0===o)return"continue";var s=0,u=r.getValueSize();r.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(s=u/3);var l=0,c=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(l=c/3);var d=r.times.length-1,h=void 0;if(a<=r.times[0]){var f=s,p=u-s;h=Tc.arraySlice(r.values,f,p)}else if(a>=r.times[d]){var m=d*u+s,v=m+u-s;h=Tc.arraySlice(r.values,m,v)}else{var g=r.createInterpolant(),y=s,b=u-s;g.evaluate(a),h=Tc.arraySlice(g.resultBuffer,y,b)}"quaternion"===i&&(new or).fromArray(h).normalize().conjugate().toArray(h);for(var _=o.times.length,x=0;x<_;++x){var w=x*c+l;if("quaternion"===i)or.multiplyQuaternionsFlat(o.values,w,h,0,o.values,w);else for(var M=c-2*l,E=0;E<M;++E)o.values[w+E]-=h[E]}},s=0;s<i;++s)o(s);return e.blendMode=nn,e}};function Cc(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n}function Dc(e,t,n,r){Cc.call(this,e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function Rc(e,t,n,r){Cc.call(this,e,t,n,r)}function Ic(e,t,n,r){Cc.call(this,e,t,n,r)}function kc(e,t,n,r){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Tc.convertArray(t,this.TimeBufferType),this.values=Tc.convertArray(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}function Oc(e,t,n){kc.call(this,e,t,n)}function Lc(e,t,n,r){kc.call(this,e,t,n,r)}function Pc(e,t,n,r){kc.call(this,e,t,n,r)}function Bc(e,t,n,r){Cc.call(this,e,t,n,r)}function Fc(e,t,n,r){kc.call(this,e,t,n,r)}function Nc(e,t,n,r){kc.call(this,e,t,n,r)}function Gc(e,t,n,r){kc.call(this,e,t,n,r)}function jc(e,t,n,r){this.name=e,this.tracks=n,this.duration=void 0!==t?t:-1,this.blendMode=void 0!==r?r:tn,this.uuid=Kn.generateUUID(),this.duration<0&&this.resetDuration()}function Uc(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Pc;case"vector":case"vector2":case"vector3":case"vector4":return Gc;case"color":return Lc;case"quaternion":return Fc;case"bool":case"boolean":return Oc;case"string":return Nc}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){var n=[],r=[];Tc.flattenJSON(e.keys,n,r,"value"),e.times=n,e.values=r}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}Object.assign(Cc.prototype,{evaluate:function(e){var t=this.parameterPositions,n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{var a;n:{r:if(!(e<r)){for(var o=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,e,i)}if(n===o)break;if(i=r,e<(r=t[++n]))break t}a=t.length;break n}if(e>=i)break e;var s=t[1];e<s&&(n=2,i=s);for(var u=n-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(n===u)break;if(r=i,e>=(i=t[--n-1]))break t}a=n,n=0}for(;n<a;){var l=n+a>>>1;e<t[l]?a=l:n=l+1}if(r=t[n],void 0===(i=t[n-1]))return this._cachedIndex=0,this.beforeStart_(0,e,r);if(void 0===r)return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,i,e)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r,a=0;a!==r;++a)t[a]=n[i+a];return t},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(Cc.prototype,{beforeStart_:Cc.prototype.copySampleValue_,afterEnd_:Cc.prototype.copySampleValue_}),Dc.prototype=Object.assign(Object.create(Cc.prototype),{constructor:Dc,DefaultSettings_:{endingStart:Jt,endingEnd:Jt},intervalChanged_:function(e,t,n){var r=this.parameterPositions,i=e-2,a=e+1,o=r[i],s=r[a];if(void 0===o)switch(this.getSettings_().endingStart){case $t:i=e,o=2*t-n;break;case en:o=t+r[i=r.length-2]-r[i+1];break;default:i=e,o=n}if(void 0===s)switch(this.getSettings_().endingEnd){case $t:a=e,s=2*n-t;break;case en:a=1,s=n+r[1]-r[0];break;default:a=e-1,s=t}var u=.5*(n-t),l=this.valueSize;this._weightPrev=u/(t-o),this._weightNext=u/(s-n),this._offsetPrev=i*l,this._offsetNext=a*l},interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,u=s-o,l=this._offsetPrev,c=this._offsetNext,d=this._weightPrev,h=this._weightNext,f=(n-t)/(r-t),p=f*f,m=p*f,v=-d*m+2*d*p-d*f,g=(1+d)*m+(-1.5-2*d)*p+(-.5+d)*f+1,y=(-1-h)*m+(1.5+h)*p+.5*f,b=h*m-h*p,_=0;_!==o;++_)i[_]=v*a[l+_]+g*a[u+_]+y*a[s+_]+b*a[c+_];return i}}),Rc.prototype=Object.assign(Object.create(Cc.prototype),{constructor:Rc,interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,u=s-o,l=(n-t)/(r-t),c=1-l,d=0;d!==o;++d)i[d]=a[u+d]*c+a[s+d]*l;return i}}),Ic.prototype=Object.assign(Object.create(Cc.prototype),{constructor:Ic,interpolate_:function(e){return this.copySampleValue_(e-1)}}),Object.assign(kc,{toJSON:function(e){var t,n=e.constructor;if(void 0!==n.toJSON)t=n.toJSON(e);else{t={name:e.name,times:Tc.convertArray(e.times,Array),values:Tc.convertArray(e.values,Array)};var r=e.getInterpolation();r!==e.DefaultInterpolation&&(t.interpolation=r)}return t.type=e.ValueTypeName,t}}),Object.assign(kc.prototype,{constructor:kc,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:Zt,InterpolantFactoryMethodDiscrete:function(e){return new Ic(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new Rc(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new Dc(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){var t;switch(e){case Qt:t=this.InterpolantFactoryMethodDiscrete;break;case Zt:t=this.InterpolantFactoryMethodLinear;break;case Kt:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Qt;case this.InterpolantFactoryMethodLinear:return Zt;case this.InterpolantFactoryMethodSmooth:return Kt}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(0!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]+=e;return this},scale:function(e){if(1!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]*=e;return this},trim:function(e,t){for(var n=this.times,r=n.length,i=0,a=r-1;i!==r&&n[i]<e;)++i;for(;-1!==a&&n[a]>t;)--a;if(++a,0!==i||a!==r){i>=a&&(i=(a=Math.max(a,1))-1);var o=this.getValueSize();this.times=Tc.arraySlice(n,i,a),this.values=Tc.arraySlice(this.values,i*o,a*o)}return this},validate:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var n=this.times,r=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var a=null,o=0;o!==i;o++){var s=n[o];if("number"===typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,s),e=!1;break}if(null!==a&&a>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,s,a),e=!1;break}a=s}if(void 0!==r&&Tc.isTypedArray(r))for(var u=0,l=r.length;u!==l;++u){var c=r[u];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,u,c),e=!1;break}}return e},optimize:function(){for(var e=Tc.arraySlice(this.times),t=Tc.arraySlice(this.values),n=this.getValueSize(),r=this.getInterpolation()===Kt,i=e.length-1,a=1,o=1;o<i;++o){var s=!1,u=e[o];if(u!==e[o+1]&&(1!==o||u!==u[0]))if(r)s=!0;else for(var l=o*n,c=l-n,d=l+n,h=0;h!==n;++h){var f=t[l+h];if(f!==t[c+h]||f!==t[d+h]){s=!0;break}}if(s){if(o!==a){e[a]=e[o];for(var p=o*n,m=a*n,v=0;v!==n;++v)t[m+v]=t[p+v]}++a}}if(i>0){e[a]=e[i];for(var g=i*n,y=a*n,b=0;b!==n;++b)t[y+b]=t[g+b];++a}return a!==e.length?(this.times=Tc.arraySlice(e,0,a),this.values=Tc.arraySlice(t,0,a*n)):(this.times=e,this.values=t),this},clone:function(){var e=Tc.arraySlice(this.times,0),t=Tc.arraySlice(this.values,0),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}),Oc.prototype=Object.assign(Object.create(kc.prototype),{constructor:Oc,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:Qt,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Lc.prototype=Object.assign(Object.create(kc.prototype),{constructor:Lc,ValueTypeName:"color"}),Pc.prototype=Object.assign(Object.create(kc.prototype),{constructor:Pc,ValueTypeName:"number"}),Bc.prototype=Object.assign(Object.create(Cc.prototype),{constructor:Bc,interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=(n-t)/(r-t),u=e*o,l=u+o;u!==l;u+=4)or.slerpFlat(i,0,a,u-o,a,u,s);return i}}),Fc.prototype=Object.assign(Object.create(kc.prototype),{constructor:Fc,ValueTypeName:"quaternion",DefaultInterpolation:Zt,InterpolantFactoryMethodLinear:function(e){return new Bc(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0}),Nc.prototype=Object.assign(Object.create(kc.prototype),{constructor:Nc,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:Qt,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Gc.prototype=Object.assign(Object.create(kc.prototype),{constructor:Gc,ValueTypeName:"vector"}),Object.assign(jc,{parse:function(e){for(var t=[],n=e.tracks,r=1/(e.fps||1),i=0,a=n.length;i!==a;++i)t.push(Uc(n[i]).scale(r));return new jc(e.name,e.duration,t,e.blendMode)},toJSON:function(e){for(var t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode},i=0,a=n.length;i!==a;++i)t.push(kc.toJSON(n[i]));return r},CreateFromMorphTargetSequence:function(e,t,n,r){for(var i=t.length,a=[],o=0;o<i;o++){var s=[],u=[];s.push((o+i-1)%i,o,(o+1)%i),u.push(0,1,0);var l=Tc.getKeyframeOrder(s);s=Tc.sortedArray(s,1,l),u=Tc.sortedArray(u,1,l),r||0!==s[0]||(s.push(i),u.push(u[0])),a.push(new Pc(".morphTargetInfluences["+t[o].name+"]",s,u).scale(1/n))}return new jc(e,-1,a)},findByName:function(e,t){var n=e;if(!Array.isArray(e)){var r=e;n=r.geometry&&r.geometry.animations||r.animations}for(var i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null},CreateClipsFromMorphTargetSequences:function(e,t,n){for(var r={},i=/^([\w-]*?)([\d]+)$/,a=0,o=e.length;a<o;a++){var s=e[a],u=s.name.match(i);if(u&&u.length>1){var l=u[1],c=r[l];c||(r[l]=c=[]),c.push(s)}}var d=[];for(var h in r)d.push(jc.CreateFromMorphTargetSequence(h,r[h],t,n));return d},parseAnimation:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(e,t,n,r,i){if(0!==n.length){var a=[],o=[];Tc.flattenJSON(n,a,o,r),0!==a.length&&i.push(new e(t,a,o))}},r=[],i=e.name||"default",a=e.fps||30,o=e.blendMode,s=e.length||-1,u=e.hierarchy||[],l=0;l<u.length;l++){var c=u[l].keys;if(c&&0!==c.length)if(c[0].morphTargets){var d={},h=void 0;for(h=0;h<c.length;h++)if(c[h].morphTargets)for(var f=0;f<c[h].morphTargets.length;f++)d[c[h].morphTargets[f]]=-1;for(var p in d){for(var m=[],v=[],g=0;g!==c[h].morphTargets.length;++g){var y=c[h];m.push(y.time),v.push(y.morphTarget===p?1:0)}r.push(new Pc(".morphTargetInfluence["+p+"]",m,v))}s=d.length*(a||1)}else{var b=".bones["+t[l].name+"]";n(Gc,b+".position",c,"pos",r),n(Fc,b+".quaternion",c,"rot",r),n(Gc,b+".scale",c,"scl",r)}}return 0===r.length?null:new jc(i,s,r,o)}}),Object.assign(jc.prototype,{resetDuration:function(){for(var e=0,t=0,n=this.tracks.length;t!==n;++t){var r=this.tracks[t];e=Math.max(e,r.times[r.times.length-1])}return this.duration=e,this},trim:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},validate:function(){for(var e=!0,t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e},optimize:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this},clone:function(){for(var e=[],t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new jc(this.name,this.duration,e,this.blendMode)}});var zc={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};function Vc(e,t,n){var r=this,i=!1,a=0,o=0,s=void 0,u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){o++,!1===i&&void 0!==r.onStart&&r.onStart(e,a,o),i=!0},this.itemEnd=function(e){a++,void 0!==r.onProgress&&r.onProgress(e,a,o),a===o&&(i=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(e){void 0!==r.onError&&r.onError(e)},this.resolveURL=function(e){return s?s(e):e},this.setURLModifier=function(e){return s=e,this},this.addHandler=function(e,t){return u.push(e,t),this},this.removeHandler=function(e){var t=u.indexOf(e);return-1!==t&&u.splice(t,2),this},this.getHandler=function(e){for(var t=0,n=u.length;t<n;t+=2){var r=u[t],i=u[t+1];if(r.global&&(r.lastIndex=0),r.test(e))return i}return null}}var Hc=new Vc;function Wc(e){this.manager=void 0!==e?e:Hc,this.crossOrigin="anonymous",this.path="",this.resourcePath="",this.requestHeader={}}Object.assign(Wc.prototype,{load:function(){},loadAsync:function(e,t){var n=this;return new Promise((function(r,i){n.load(e,r,t,i)}))},parse:function(){},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}});var Xc={};function qc(e){Wc.call(this,e)}function Yc(e){Wc.call(this,e)}function Qc(e){Wc.call(this,e)}function Zc(e){Wc.call(this,e)}function Kc(e){Wc.call(this,e)}function Jc(e){Wc.call(this,e)}function $c(e){Wc.call(this,e)}function ed(){this.type="Curve",this.arcLengthDivisions=200}function td(e,t,n,r,i,a,o,s){ed.call(this),this.type="EllipseCurve",this.aX=e||0,this.aY=t||0,this.xRadius=n||1,this.yRadius=r||1,this.aStartAngle=i||0,this.aEndAngle=a||2*Math.PI,this.aClockwise=o||!1,this.aRotation=s||0}function nd(e,t,n,r,i,a){td.call(this,e,t,n,n,r,i,a),this.type="ArcCurve"}function rd(){var e=0,t=0,n=0,r=0;function i(i,a,o,s){e=i,t=o,n=-3*i+3*a-2*o-s,r=2*i-2*a+o+s}return{initCatmullRom:function(e,t,n,r,a){i(t,n,a*(n-e),a*(r-t))},initNonuniformCatmullRom:function(e,t,n,r,a,o,s){var u=(t-e)/a-(n-e)/(a+o)+(n-t)/o,l=(n-t)/o-(r-t)/(o+s)+(r-n)/s;i(t,n,u*=o,l*=o)},calc:function(i){var a=i*i;return e+t*i+n*a+r*(a*i)}}}qc.prototype=Object.assign(Object.create(Wc.prototype),{constructor:qc,load:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=zc.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;if(void 0===Xc[e]){var o,s=e.match(/^data:(.*?)(;base64)?,(.*)$/);if(s){var u=s[1],l=!!s[2],c=s[3];c=decodeURIComponent(c),l&&(c=atob(c));try{var d,h=(this.responseType||"").toLowerCase();switch(h){case"arraybuffer":case"blob":for(var f=new Uint8Array(c.length),p=0;p<c.length;p++)f[p]=c.charCodeAt(p);d="blob"===h?new Blob([f.buffer],{type:u}):f.buffer;break;case"document":var m=new DOMParser;d=m.parseFromString(c,u);break;case"json":d=JSON.parse(c);break;default:d=c}setTimeout((function(){t&&t(d),i.manager.itemEnd(e)}),0)}catch(g){setTimeout((function(){r&&r(g),i.manager.itemError(e),i.manager.itemEnd(e)}),0)}}else{for(var v in Xc[e]=[],Xc[e].push({onLoad:t,onProgress:n,onError:r}),(o=new XMLHttpRequest).open("GET",e,!0),o.addEventListener("load",(function(t){var n=this.response,r=Xc[e];if(delete Xc[e],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),zc.add(e,n);for(var a=0,o=r.length;a<o;a++){var s=r[a];s.onLoad&&s.onLoad(n)}i.manager.itemEnd(e)}else{for(var u=0,l=r.length;u<l;u++){var c=r[u];c.onError&&c.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}}),!1),o.addEventListener("progress",(function(t){for(var n=Xc[e],r=0,i=n.length;r<i;r++){var a=n[r];a.onProgress&&a.onProgress(t)}}),!1),o.addEventListener("error",(function(t){var n=Xc[e];delete Xc[e];for(var r=0,a=n.length;r<a;r++){var o=n[r];o.onError&&o.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}),!1),o.addEventListener("abort",(function(t){var n=Xc[e];delete Xc[e];for(var r=0,a=n.length;r<a;r++){var o=n[r];o.onError&&o.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}),!1),void 0!==this.responseType&&(o.responseType=this.responseType),void 0!==this.withCredentials&&(o.withCredentials=this.withCredentials),o.overrideMimeType&&o.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)o.setRequestHeader(v,this.requestHeader[v]);o.send(null)}return i.manager.itemStart(e),o}Xc[e].push({onLoad:t,onProgress:n,onError:r})},setResponseType:function(e){return this.responseType=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setMimeType:function(e){return this.mimeType=e,this}}),Yc.prototype=Object.assign(Object.create(Wc.prototype),{constructor:Yc,load:function(e,t,n,r){var i=this,a=new qc(i.manager);a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(a){r?r(a):console.error(a),i.manager.itemError(e)}}),n,r)},parse:function(e){for(var t=[],n=0;n<e.length;n++){var r=jc.parse(e[n]);t.push(r)}return t}}),Qc.prototype=Object.assign(Object.create(Wc.prototype),{constructor:Qc,load:function(e,t,n,r){var i=this,a=[],o=new Ku;o.image=a;var s=new qc(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader);var u=0;function l(l){s.load(e[l],(function(e){var n=i.parse(e,!0);a[l]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(u+=1)&&(1===n.mipmapCount&&(o.minFilter=De),o.format=n.format,o.needsUpdate=!0,t&&t(o))}),n,r)}if(Array.isArray(e))for(var c=0,d=e.length;c<d;++c)l(c);else s.load(e,(function(e){var n=i.parse(e,!0);if(n.isCubemap)for(var r=n.mipmaps.length/n.mipmapCount,s=0;s<r;s++){a[s]={mipmaps:[]};for(var u=0;u<n.mipmapCount;u++)a[s].mipmaps.push(n.mipmaps[s*n.mipmapCount+u]),a[s].format=n.format,a[s].width=n.width,a[s].height=n.height}else o.image.width=n.width,o.image.height=n.height,o.mipmaps=n.mipmaps;1===n.mipmapCount&&(o.minFilter=De),o.format=n.format,o.needsUpdate=!0,t&&t(o)}),n,r);return o}}),Zc.prototype=Object.assign(Object.create(Wc.prototype),{constructor:Zc,load:function(e,t,n,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=zc.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;var o=document.createElementNS("http://www.w3.org/1999/xhtml","img");function s(){o.removeEventListener("load",s,!1),o.removeEventListener("error",u,!1),zc.add(e,this),t&&t(this),i.manager.itemEnd(e)}function u(t){o.removeEventListener("load",s,!1),o.removeEventListener("error",u,!1),r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}return o.addEventListener("load",s,!1),o.addEventListener("error",u,!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),i.manager.itemStart(e),o.src=e,o}}),Kc.prototype=Object.assign(Object.create(Wc.prototype),{constructor:Kc,load:function(e,t,n,r){var i=new so,a=new Zc(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);var o=0;function s(n){a.load(e[n],(function(e){i.images[n]=e,6===++o&&(i.needsUpdate=!0,t&&t(i))}),void 0,r)}for(var u=0;u<e.length;++u)s(u);return i}}),Jc.prototype=Object.assign(Object.create(Wc.prototype),{constructor:Jc,load:function(e,t,n,r){var i=this,a=new Ba,o=new qc(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.load(e,(function(e){var n=i.parse(e);n&&(void 0!==n.image?a.image=n.image:void 0!==n.data&&(a.image.width=n.width,a.image.height=n.height,a.image.data=n.data),a.wrapS=void 0!==n.wrapS?n.wrapS:we,a.wrapT=void 0!==n.wrapT?n.wrapT:we,a.magFilter=void 0!==n.magFilter?n.magFilter:De,a.minFilter=void 0!==n.minFilter?n.minFilter:De,a.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.format&&(a.format=n.format),void 0!==n.type&&(a.type=n.type),void 0!==n.mipmaps&&(a.mipmaps=n.mipmaps,a.minFilter=ke),1===n.mipmapCount&&(a.minFilter=De),a.needsUpdate=!0,t&&t(a,n))}),n,r),a}}),$c.prototype=Object.assign(Object.create(Wc.prototype),{constructor:$c,load:function(e,t,n,r){var i=new nr,a=new Zc(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,(function(n){i.image=n;var r=e.search(/\.jpe?g($|\?)/i)>0||0===e.search(/^data\:image\/jpeg/);i.format=r?qe:Ye,i.needsUpdate=!0,void 0!==t&&t(i)}),n,r),i}}),Object.assign(ed.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(e,t){var n=this.getUtoTmapping(e);return this.getPoint(n,t)},getPoints:function(e){void 0===e&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t},getSpacedPoints:function(e){void 0===e&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(void 0===e&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,n=[],r=this.getPoint(0),i=0;n.push(0);for(var a=1;a<=e;a++)i+=(t=this.getPoint(a/e)).distanceTo(r),n.push(i),r=t;return this.cacheArcLengths=n,n},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){var n,r=this.getLengths(),i=0,a=r.length;n=t||e*r[a-1];for(var o,s=0,u=a-1;s<=u;)if((o=r[i=Math.floor(s+(u-s)/2)]-n)<0)s=i+1;else{if(!(o>0)){u=i;break}u=i-1}if(r[i=u]===n)return i/(a-1);var l=r[i];return(i+(n-l)/(r[i+1]-l))/(a-1)},getTangent:function(e,t){var n=e-1e-4,r=e+1e-4;n<0&&(n=0),r>1&&(r=1);var i=this.getPoint(n),a=this.getPoint(r),o=t||(i.isVector2?new Jn:new sr);return o.copy(a).sub(i).normalize(),o},getTangentAt:function(e,t){var n=this.getUtoTmapping(e);return this.getTangent(n,t)},computeFrenetFrames:function(e,t){for(var n=new sr,r=[],i=[],a=[],o=new sr,s=new Pr,u=0;u<=e;u++){var l=u/e;r[u]=this.getTangentAt(l,new sr),r[u].normalize()}i[0]=new sr,a[0]=new sr;var c=Number.MAX_VALUE,d=Math.abs(r[0].x),h=Math.abs(r[0].y),f=Math.abs(r[0].z);d<=c&&(c=d,n.set(1,0,0)),h<=c&&(c=h,n.set(0,1,0)),f<=c&&n.set(0,0,1),o.crossVectors(r[0],n).normalize(),i[0].crossVectors(r[0],o),a[0].crossVectors(r[0],i[0]);for(var p=1;p<=e;p++){if(i[p]=i[p-1].clone(),a[p]=a[p-1].clone(),o.crossVectors(r[p-1],r[p]),o.length()>Number.EPSILON){o.normalize();var m=Math.acos(Kn.clamp(r[p-1].dot(r[p]),-1,1));i[p].applyMatrix4(s.makeRotationAxis(o,m))}a[p].crossVectors(r[p],i[p])}if(!0===t){var v=Math.acos(Kn.clamp(i[0].dot(i[e]),-1,1));v/=e,r[0].dot(o.crossVectors(i[0],i[e]))>0&&(v=-v);for(var g=1;g<=e;g++)i[g].applyMatrix4(s.makeRotationAxis(r[g],v*g)),a[g].crossVectors(r[g],i[g])}return{tangents:r,normals:i,binormals:a}},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this},toJSON:function(){var e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e},fromJSON:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}),td.prototype=Object.create(ed.prototype),td.prototype.constructor=td,td.prototype.isEllipseCurve=!0,td.prototype.getPoint=function(e,t){for(var n=t||new Jn,r=2*Math.PI,i=this.aEndAngle-this.aStartAngle,a=Math.abs(i)<Number.EPSILON;i<0;)i+=r;for(;i>r;)i-=r;i<Number.EPSILON&&(i=a?0:r),!0!==this.aClockwise||a||(i===r?i=-r:i-=r);var o=this.aStartAngle+e*i,s=this.aX+this.xRadius*Math.cos(o),u=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){var l=Math.cos(this.aRotation),c=Math.sin(this.aRotation),d=s-this.aX,h=u-this.aY;s=d*l-h*c+this.aX,u=d*c+h*l+this.aY}return n.set(s,u)},td.prototype.copy=function(e){return ed.prototype.copy.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},td.prototype.toJSON=function(){var e=ed.prototype.toJSON.call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e},td.prototype.fromJSON=function(e){return ed.prototype.fromJSON.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},nd.prototype=Object.create(td.prototype),nd.prototype.constructor=nd,nd.prototype.isArcCurve=!0;var id=new sr,ad=new rd,od=new rd,sd=new rd;function ud(e,t,n,r){ed.call(this),this.type="CatmullRomCurve3",this.points=e||[],this.closed=t||!1,this.curveType=n||"centripetal",this.tension=void 0!==r?r:.5}function ld(e,t,n,r,i){var a=.5*(r-t),o=.5*(i-n),s=e*e;return(2*n-2*r+a+o)*(e*s)+(-3*n+3*r-2*a-o)*s+a*e+n}function cd(e,t,n,r){return function(e,t){var n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,r)}function dd(e,t,n,r,i){return function(e,t){var n=1-e;return n*n*n*t}(e,t)+function(e,t){var n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,r)+function(e,t){return e*e*e*t}(e,i)}function hd(e,t,n,r){ed.call(this),this.type="CubicBezierCurve",this.v0=e||new Jn,this.v1=t||new Jn,this.v2=n||new Jn,this.v3=r||new Jn}function fd(e,t,n,r){ed.call(this),this.type="CubicBezierCurve3",this.v0=e||new sr,this.v1=t||new sr,this.v2=n||new sr,this.v3=r||new sr}function pd(e,t){ed.call(this),this.type="LineCurve",this.v1=e||new Jn,this.v2=t||new Jn}function md(e,t){ed.call(this),this.type="LineCurve3",this.v1=e||new sr,this.v2=t||new sr}function vd(e,t,n){ed.call(this),this.type="QuadraticBezierCurve",this.v0=e||new Jn,this.v1=t||new Jn,this.v2=n||new Jn}function gd(e,t,n){ed.call(this),this.type="QuadraticBezierCurve3",this.v0=e||new sr,this.v1=t||new sr,this.v2=n||new sr}function yd(e){ed.call(this),this.type="SplineCurve",this.points=e||[]}ud.prototype=Object.create(ed.prototype),ud.prototype.constructor=ud,ud.prototype.isCatmullRomCurve3=!0,ud.prototype.getPoint=function(e,t){var n,r,i=t||new sr,a=this.points,o=a.length,s=(o-(this.closed?0:1))*e,u=Math.floor(s),l=s-u;this.closed?u+=u>0?0:(Math.floor(Math.abs(u)/o)+1)*o:0===l&&u===o-1&&(u=o-2,l=1),this.closed||u>0?n=a[(u-1)%o]:(id.subVectors(a[0],a[1]).add(a[0]),n=id);var c=a[u%o],d=a[(u+1)%o];if(this.closed||u+2<o?r=a[(u+2)%o]:(id.subVectors(a[o-1],a[o-2]).add(a[o-1]),r=id),"centripetal"===this.curveType||"chordal"===this.curveType){var h="chordal"===this.curveType?.5:.25,f=Math.pow(n.distanceToSquared(c),h),p=Math.pow(c.distanceToSquared(d),h),m=Math.pow(d.distanceToSquared(r),h);p<1e-4&&(p=1),f<1e-4&&(f=p),m<1e-4&&(m=p),ad.initNonuniformCatmullRom(n.x,c.x,d.x,r.x,f,p,m),od.initNonuniformCatmullRom(n.y,c.y,d.y,r.y,f,p,m),sd.initNonuniformCatmullRom(n.z,c.z,d.z,r.z,f,p,m)}else"catmullrom"===this.curveType&&(ad.initCatmullRom(n.x,c.x,d.x,r.x,this.tension),od.initCatmullRom(n.y,c.y,d.y,r.y,this.tension),sd.initCatmullRom(n.z,c.z,d.z,r.z,this.tension));return i.set(ad.calc(l),od.calc(l),sd.calc(l)),i},ud.prototype.copy=function(e){ed.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},ud.prototype.toJSON=function(){var e=ed.prototype.toJSON.call(this);e.points=[];for(var t=0,n=this.points.length;t<n;t++){var r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e},ud.prototype.fromJSON=function(e){ed.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push((new sr).fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},hd.prototype=Object.create(ed.prototype),hd.prototype.constructor=hd,hd.prototype.isCubicBezierCurve=!0,hd.prototype.getPoint=function(e,t){var n=t||new Jn,r=this.v0,i=this.v1,a=this.v2,o=this.v3;return n.set(dd(e,r.x,i.x,a.x,o.x),dd(e,r.y,i.y,a.y,o.y)),n},hd.prototype.copy=function(e){return ed.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},hd.prototype.toJSON=function(){var e=ed.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},hd.prototype.fromJSON=function(e){return ed.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},fd.prototype=Object.create(ed.prototype),fd.prototype.constructor=fd,fd.prototype.isCubicBezierCurve3=!0,fd.prototype.getPoint=function(e,t){var n=t||new sr,r=this.v0,i=this.v1,a=this.v2,o=this.v3;return n.set(dd(e,r.x,i.x,a.x,o.x),dd(e,r.y,i.y,a.y,o.y),dd(e,r.z,i.z,a.z,o.z)),n},fd.prototype.copy=function(e){return ed.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},fd.prototype.toJSON=function(){var e=ed.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},fd.prototype.fromJSON=function(e){return ed.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},pd.prototype=Object.create(ed.prototype),pd.prototype.constructor=pd,pd.prototype.isLineCurve=!0,pd.prototype.getPoint=function(e,t){var n=t||new Jn;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n},pd.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},pd.prototype.getTangent=function(e,t){var n=t||new Jn;return n.copy(this.v2).sub(this.v1).normalize(),n},pd.prototype.copy=function(e){return ed.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},pd.prototype.toJSON=function(){var e=ed.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},pd.prototype.fromJSON=function(e){return ed.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},md.prototype=Object.create(ed.prototype),md.prototype.constructor=md,md.prototype.isLineCurve3=!0,md.prototype.getPoint=function(e,t){var n=t||new sr;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n},md.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},md.prototype.copy=function(e){return ed.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},md.prototype.toJSON=function(){var e=ed.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},md.prototype.fromJSON=function(e){return ed.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},vd.prototype=Object.create(ed.prototype),vd.prototype.constructor=vd,vd.prototype.isQuadraticBezierCurve=!0,vd.prototype.getPoint=function(e,t){var n=t||new Jn,r=this.v0,i=this.v1,a=this.v2;return n.set(cd(e,r.x,i.x,a.x),cd(e,r.y,i.y,a.y)),n},vd.prototype.copy=function(e){return ed.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},vd.prototype.toJSON=function(){var e=ed.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},vd.prototype.fromJSON=function(e){return ed.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},gd.prototype=Object.create(ed.prototype),gd.prototype.constructor=gd,gd.prototype.isQuadraticBezierCurve3=!0,gd.prototype.getPoint=function(e,t){var n=t||new sr,r=this.v0,i=this.v1,a=this.v2;return n.set(cd(e,r.x,i.x,a.x),cd(e,r.y,i.y,a.y),cd(e,r.z,i.z,a.z)),n},gd.prototype.copy=function(e){return ed.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},gd.prototype.toJSON=function(){var e=ed.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},gd.prototype.fromJSON=function(e){return ed.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},yd.prototype=Object.create(ed.prototype),yd.prototype.constructor=yd,yd.prototype.isSplineCurve=!0,yd.prototype.getPoint=function(e,t){var n=t||new Jn,r=this.points,i=(r.length-1)*e,a=Math.floor(i),o=i-a,s=r[0===a?a:a-1],u=r[a],l=r[a>r.length-2?r.length-1:a+1],c=r[a>r.length-3?r.length-1:a+2];return n.set(ld(o,s.x,u.x,l.x,c.x),ld(o,s.y,u.y,l.y,c.y)),n},yd.prototype.copy=function(e){ed.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push(r.clone())}return this},yd.prototype.toJSON=function(){var e=ed.prototype.toJSON.call(this);e.points=[];for(var t=0,n=this.points.length;t<n;t++){var r=this.points[t];e.points.push(r.toArray())}return e},yd.prototype.fromJSON=function(e){ed.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push((new Jn).fromArray(r))}return this};var bd=Object.freeze({__proto__:null,ArcCurve:nd,CatmullRomCurve3:ud,CubicBezierCurve:hd,CubicBezierCurve3:fd,EllipseCurve:td,LineCurve:pd,LineCurve3:md,QuadraticBezierCurve:vd,QuadraticBezierCurve3:gd,SplineCurve:yd});function _d(){ed.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function xd(e){_d.call(this),this.type="Path",this.currentPoint=new Jn,e&&this.setFromPoints(e)}function wd(e){xd.call(this,e),this.uuid=Kn.generateUUID(),this.type="Shape",this.holes=[]}function Md(e,t){oi.call(this),this.type="Light",this.color=new Ci(e),this.intensity=void 0!==t?t:1,this.receiveShadow=void 0}function Ed(e,t,n){Md.call(this,e,n),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(oi.DefaultUp),this.updateMatrix(),this.groundColor=new Ci(t)}function Ad(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.mapSize=new Jn(512,512),this.map=null,this.mapPass=null,this.matrix=new Pr,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Ga,this._frameExtents=new Jn(1,1),this._viewportCount=1,this._viewports=[new rr(0,0,1,1)]}function Sd(){Ad.call(this,new Oa(50,1,.5,500))}function Td(e,t,n,r,i,a){Md.call(this,e,t),this.type="SpotLight",this.position.copy(oi.DefaultUp),this.updateMatrix(),this.target=new oi,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==r?r:Math.PI/3,this.penumbra=void 0!==i?i:0,this.decay=void 0!==a?a:1,this.shadow=new Sd}function Cd(){Ad.call(this,new Oa(90,1,.5,500)),this._frameExtents=new Jn(4,2),this._viewportCount=6,this._viewports=[new rr(2,1,1,1),new rr(0,1,1,1),new rr(3,1,1,1),new rr(1,1,1,1),new rr(3,0,1,1),new rr(1,0,1,1)],this._cubeDirections=[new sr(1,0,0),new sr(-1,0,0),new sr(0,0,1),new sr(0,0,-1),new sr(0,1,0),new sr(0,-1,0)],this._cubeUps=[new sr(0,1,0),new sr(0,1,0),new sr(0,1,0),new sr(0,1,0),new sr(0,0,1),new sr(0,0,-1)]}function Dd(e,t,n,r){Md.call(this,e,t),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==r?r:1,this.shadow=new Cd}function Rd(e,t,n,r,i,a){ka.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=void 0!==e?e:-1,this.right=void 0!==t?t:1,this.top=void 0!==n?n:1,this.bottom=void 0!==r?r:-1,this.near=void 0!==i?i:.1,this.far=void 0!==a?a:2e3,this.updateProjectionMatrix()}function Id(){Ad.call(this,new Rd(-5,5,5,-5,.5,500))}function kd(e,t){Md.call(this,e,t),this.type="DirectionalLight",this.position.copy(oi.DefaultUp),this.updateMatrix(),this.target=new oi,this.shadow=new Id}function Od(e,t){Md.call(this,e,t),this.type="AmbientLight",this.castShadow=void 0}function Ld(e,t,n,r){Md.call(this,e,t),this.type="RectAreaLight",this.width=void 0!==n?n:10,this.height=void 0!==r?r:10}_d.prototype=Object.assign(Object.create(ed.prototype),{constructor:_d,add:function(e){this.curves.push(e)},closePath:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new pd(t,e))},getPoint:function(e){for(var t=e*this.getLength(),n=this.getCurveLengths(),r=0;r<n.length;){if(n[r]>=t){var i=n[r]-t,a=this.curves[r],o=a.getLength(),s=0===o?0:1-i/o;return a.getPointAt(s)}r++}return null},getLength:function(){var e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e},getSpacedPoints:function(e){void 0===e&&(e=40);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(e){e=e||12;for(var t,n=[],r=0,i=this.curves;r<i.length;r++)for(var a=i[r],o=a&&a.isEllipseCurve?2*e:a&&(a.isLineCurve||a.isLineCurve3)?1:a&&a.isSplineCurve?e*a.points.length:e,s=a.getPoints(o),u=0;u<s.length;u++){var l=s[u];t&&t.equals(l)||(n.push(l),t=l)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n},copy:function(e){ed.prototype.copy.call(this,e),this.curves=[];for(var t=0,n=e.curves.length;t<n;t++){var r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this},toJSON:function(){var e=ed.prototype.toJSON.call(this);e.autoClose=this.autoClose,e.curves=[];for(var t=0,n=this.curves.length;t<n;t++){var r=this.curves[t];e.curves.push(r.toJSON())}return e},fromJSON:function(e){ed.prototype.fromJSON.call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var t=0,n=e.curves.length;t<n;t++){var r=e.curves[t];this.curves.push((new bd[r.type]).fromJSON(r))}return this}}),xd.prototype=Object.assign(Object.create(_d.prototype),{constructor:xd,setFromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this},moveTo:function(e,t){return this.currentPoint.set(e,t),this},lineTo:function(e,t){var n=new pd(this.currentPoint.clone(),new Jn(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this},quadraticCurveTo:function(e,t,n,r){var i=new vd(this.currentPoint.clone(),new Jn(e,t),new Jn(n,r));return this.curves.push(i),this.currentPoint.set(n,r),this},bezierCurveTo:function(e,t,n,r,i,a){var o=new hd(this.currentPoint.clone(),new Jn(e,t),new Jn(n,r),new Jn(i,a));return this.curves.push(o),this.currentPoint.set(i,a),this},splineThru:function(e){var t=new yd([this.currentPoint.clone()].concat(e));return this.curves.push(t),this.currentPoint.copy(e[e.length-1]),this},arc:function(e,t,n,r,i,a){var o=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(e+o,t+s,n,r,i,a),this},absarc:function(e,t,n,r,i,a){return this.absellipse(e,t,n,n,r,i,a),this},ellipse:function(e,t,n,r,i,a,o,s){var u=this.currentPoint.x,l=this.currentPoint.y;return this.absellipse(e+u,t+l,n,r,i,a,o,s),this},absellipse:function(e,t,n,r,i,a,o,s){var u=new td(e,t,n,r,i,a,o,s);if(this.curves.length>0){var l=u.getPoint(0);l.equals(this.currentPoint)||this.lineTo(l.x,l.y)}this.curves.push(u);var c=u.getPoint(1);return this.currentPoint.copy(c),this},copy:function(e){return _d.prototype.copy.call(this,e),this.currentPoint.copy(e.currentPoint),this},toJSON:function(){var e=_d.prototype.toJSON.call(this);return e.currentPoint=this.currentPoint.toArray(),e},fromJSON:function(e){return _d.prototype.fromJSON.call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}),wd.prototype=Object.assign(Object.create(xd.prototype),{constructor:wd,getPointsHoles:function(e){for(var t=[],n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t},extractPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},copy:function(e){xd.prototype.copy.call(this,e),this.holes=[];for(var t=0,n=e.holes.length;t<n;t++){var r=e.holes[t];this.holes.push(r.clone())}return this},toJSON:function(){var e=xd.prototype.toJSON.call(this);e.uuid=this.uuid,e.holes=[];for(var t=0,n=this.holes.length;t<n;t++){var r=this.holes[t];e.holes.push(r.toJSON())}return e},fromJSON:function(e){xd.prototype.fromJSON.call(this,e),this.uuid=e.uuid,this.holes=[];for(var t=0,n=e.holes.length;t<n;t++){var r=e.holes[t];this.holes.push((new xd).fromJSON(r))}return this}}),Md.prototype=Object.assign(Object.create(oi.prototype),{constructor:Md,isLight:!0,copy:function(e){return oi.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){var t=oi.prototype.toJSON.call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}),Ed.prototype=Object.assign(Object.create(Md.prototype),{constructor:Ed,isHemisphereLight:!0,copy:function(e){return Md.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}),Object.assign(Ad.prototype,{_projScreenMatrix:new Pr,_lightPositionWorld:new sr,_lookTarget:new sr,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(e){var t=this.camera,n=this.matrix,r=this._projScreenMatrix,i=this._lookTarget,a=this._lightPositionWorld;a.setFromMatrixPosition(e.matrixWorld),t.position.copy(a),i.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(i),t.updateMatrixWorld(),r.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(r),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(t.projectionMatrix),n.multiply(t.matrixWorldInverse)},getViewport:function(e){return this._viewports[e]},getFrameExtents:function(){return this._frameExtents},copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}),Sd.prototype=Object.assign(Object.create(Ad.prototype),{constructor:Sd,isSpotLightShadow:!0,updateMatrices:function(e){var t=this.camera,n=2*Kn.RAD2DEG*e.angle,r=this.mapSize.width/this.mapSize.height,i=e.distance||t.far;n===t.fov&&r===t.aspect&&i===t.far||(t.fov=n,t.aspect=r,t.far=i,t.updateProjectionMatrix()),Ad.prototype.updateMatrices.call(this,e)}}),Td.prototype=Object.assign(Object.create(Md.prototype),{constructor:Td,isSpotLight:!0,copy:function(e){return Md.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),Cd.prototype=Object.assign(Object.create(Ad.prototype),{constructor:Cd,isPointLightShadow:!0,updateMatrices:function(e,t){void 0===t&&(t=0);var n=this.camera,r=this.matrix,i=this._lightPositionWorld,a=this._lookTarget,o=this._projScreenMatrix;i.setFromMatrixPosition(e.matrixWorld),n.position.copy(i),a.copy(n.position),a.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(a),n.updateMatrixWorld(),r.makeTranslation(-i.x,-i.y,-i.z),o.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(o)}}),Dd.prototype=Object.assign(Object.create(Md.prototype),{constructor:Dd,isPointLight:!0,copy:function(e){return Md.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}),Rd.prototype=Object.assign(Object.create(ka.prototype),{constructor:Rd,isOrthographicCamera:!0,copy:function(e,t){return ka.prototype.copy.call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this},setViewOffset:function(e,t,n,r,i,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-e,a=n+e,o=r+t,s=r-t;if(null!==this.view&&this.view.enabled){var u=(this.right-this.left)/this.view.fullWidth/this.zoom,l=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a=(i+=u*this.view.offsetX)+u*this.view.width,s=(o-=l*this.view.offsetY)-l*this.view.height}this.projectionMatrix.makeOrthographic(i,a,o,s,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){var t=oi.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}),Id.prototype=Object.assign(Object.create(Ad.prototype),{constructor:Id,isDirectionalLightShadow:!0,updateMatrices:function(e){Ad.prototype.updateMatrices.call(this,e)}}),kd.prototype=Object.assign(Object.create(Md.prototype),{constructor:kd,isDirectionalLight:!0,copy:function(e){return Md.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),Od.prototype=Object.assign(Object.create(Md.prototype),{constructor:Od,isAmbientLight:!0}),Ld.prototype=Object.assign(Object.create(Md.prototype),{constructor:Ld,isRectAreaLight:!0,copy:function(e){return Md.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this},toJSON:function(e){var t=Md.prototype.toJSON.call(this,e);return t.object.width=this.width,t.object.height=this.height,t}});var Pd=function(){function e(){Object(d.a)(this,e),Object.defineProperty(this,"isSphericalHarmonics3",{value:!0}),this.coefficients=[];for(var t=0;t<9;t++)this.coefficients.push(new sr)}return Object(h.a)(e,[{key:"set",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}},{key:"zero",value:function(){for(var e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}},{key:"getAt",value:function(e,t){var n=e.x,r=e.y,i=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScaledVector(a[1],.488603*r),t.addScaledVector(a[2],.488603*i),t.addScaledVector(a[3],.488603*n),t.addScaledVector(a[4],n*r*1.092548),t.addScaledVector(a[5],r*i*1.092548),t.addScaledVector(a[6],.315392*(3*i*i-1)),t.addScaledVector(a[7],n*i*1.092548),t.addScaledVector(a[8],.546274*(n*n-r*r)),t}},{key:"getIrradianceAt",value:function(e,t){var n=e.x,r=e.y,i=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScaledVector(a[1],1.023328*r),t.addScaledVector(a[2],1.023328*i),t.addScaledVector(a[3],1.023328*n),t.addScaledVector(a[4],.858086*n*r),t.addScaledVector(a[5],.858086*r*i),t.addScaledVector(a[6],.743125*i*i-.247708),t.addScaledVector(a[7],.858086*n*i),t.addScaledVector(a[8],.429043*(n*n-r*r)),t}},{key:"add",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}},{key:"addScaledSH",value:function(e,t){for(var n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}},{key:"scale",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}},{key:"lerp",value:function(e,t){for(var n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}},{key:"equals",value:function(e){for(var t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}},{key:"copy",value:function(e){return this.set(e.coefficients)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"fromArray",value:function(e,t){void 0===t&&(t=0);for(var n=this.coefficients,r=0;r<9;r++)n[r].fromArray(e,t+3*r);return this}},{key:"toArray",value:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);for(var n=this.coefficients,r=0;r<9;r++)n[r].toArray(e,t+3*r);return e}}],[{key:"getBasisAt",value:function(e,t){var n=e.x,r=e.y,i=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*i,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*i,t[6]=.315392*(3*i*i-1),t[7]=1.092548*n*i,t[8]=.546274*(n*n-r*r)}}]),e}();function Bd(e,t){Md.call(this,void 0,t),this.type="LightProbe",this.sh=void 0!==e?e:new Pd}function Fd(e){Wc.call(this,e),this.textures={}}Bd.prototype=Object.assign(Object.create(Md.prototype),{constructor:Bd,isLightProbe:!0,copy:function(e){return Md.prototype.copy.call(this,e),this.sh.copy(e.sh),this},fromJSON:function(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this},toJSON:function(e){var t=Md.prototype.toJSON.call(this,e);return t.object.sh=this.sh.toArray(),t}}),Fd.prototype=Object.assign(Object.create(Wc.prototype),{constructor:Fd,load:function(e,t,n,r){var i=this,a=new qc(i.manager);a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(a){r?r(a):console.error(a),i.manager.itemError(e)}}),n,r)},parse:function(e){var t=this.textures;function n(e){return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]}var r=new Sc[e.type];if(void 0!==e.uuid&&(r.uuid=e.uuid),void 0!==e.name&&(r.name=e.name),void 0!==e.color&&r.color.setHex(e.color),void 0!==e.roughness&&(r.roughness=e.roughness),void 0!==e.metalness&&(r.metalness=e.metalness),void 0!==e.sheen&&(r.sheen=(new Ci).setHex(e.sheen)),void 0!==e.emissive&&r.emissive.setHex(e.emissive),void 0!==e.specular&&r.specular.setHex(e.specular),void 0!==e.shininess&&(r.shininess=e.shininess),void 0!==e.clearcoat&&(r.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(r.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.fog&&(r.fog=e.fog),void 0!==e.flatShading&&(r.flatShading=e.flatShading),void 0!==e.blending&&(r.blending=e.blending),void 0!==e.combine&&(r.combine=e.combine),void 0!==e.side&&(r.side=e.side),void 0!==e.opacity&&(r.opacity=e.opacity),void 0!==e.transparent&&(r.transparent=e.transparent),void 0!==e.alphaTest&&(r.alphaTest=e.alphaTest),void 0!==e.depthTest&&(r.depthTest=e.depthTest),void 0!==e.depthWrite&&(r.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(r.colorWrite=e.colorWrite),void 0!==e.stencilWrite&&(r.stencilWrite=e.stencilWrite),void 0!==e.stencilWriteMask&&(r.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(r.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(r.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(r.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(r.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(r.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(r.stencilZPass=e.stencilZPass),void 0!==e.wireframe&&(r.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(r.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(r.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(r.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(r.rotation=e.rotation),1!==e.linewidth&&(r.linewidth=e.linewidth),void 0!==e.dashSize&&(r.dashSize=e.dashSize),void 0!==e.gapSize&&(r.gapSize=e.gapSize),void 0!==e.scale&&(r.scale=e.scale),void 0!==e.polygonOffset&&(r.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(r.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(r.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.skinning&&(r.skinning=e.skinning),void 0!==e.morphTargets&&(r.morphTargets=e.morphTargets),void 0!==e.morphNormals&&(r.morphNormals=e.morphNormals),void 0!==e.dithering&&(r.dithering=e.dithering),void 0!==e.vertexTangents&&(r.vertexTangents=e.vertexTangents),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.toneMapped&&(r.toneMapped=e.toneMapped),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.vertexColors&&("number"===typeof e.vertexColors?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),void 0!==e.uniforms)for(var i in e.uniforms){var a=e.uniforms[i];switch(r.uniforms[i]={},a.type){case"t":r.uniforms[i].value=n(a.value);break;case"c":r.uniforms[i].value=(new Ci).setHex(a.value);break;case"v2":r.uniforms[i].value=(new Jn).fromArray(a.value);break;case"v3":r.uniforms[i].value=(new sr).fromArray(a.value);break;case"v4":r.uniforms[i].value=(new rr).fromArray(a.value);break;case"m3":r.uniforms[i].value=(new $n).fromArray(a.value);break;case"m4":r.uniforms[i].value=(new Pr).fromArray(a.value);break;default:r.uniforms[i].value=a.value}}if(void 0!==e.defines&&(r.defines=e.defines),void 0!==e.vertexShader&&(r.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(r.fragmentShader=e.fragmentShader),void 0!==e.extensions)for(var o in e.extensions)r.extensions[o]=e.extensions[o];if(void 0!==e.shading&&(r.flatShading=1===e.shading),void 0!==e.size&&(r.size=e.size),void 0!==e.sizeAttenuation&&(r.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(r.map=n(e.map)),void 0!==e.matcap&&(r.matcap=n(e.matcap)),void 0!==e.alphaMap&&(r.alphaMap=n(e.alphaMap)),void 0!==e.bumpMap&&(r.bumpMap=n(e.bumpMap)),void 0!==e.bumpScale&&(r.bumpScale=e.bumpScale),void 0!==e.normalMap&&(r.normalMap=n(e.normalMap)),void 0!==e.normalMapType&&(r.normalMapType=e.normalMapType),void 0!==e.normalScale){var s=e.normalScale;!1===Array.isArray(s)&&(s=[s,s]),r.normalScale=(new Jn).fromArray(s)}return void 0!==e.displacementMap&&(r.displacementMap=n(e.displacementMap)),void 0!==e.displacementScale&&(r.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(r.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(r.roughnessMap=n(e.roughnessMap)),void 0!==e.metalnessMap&&(r.metalnessMap=n(e.metalnessMap)),void 0!==e.emissiveMap&&(r.emissiveMap=n(e.emissiveMap)),void 0!==e.emissiveIntensity&&(r.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(r.specularMap=n(e.specularMap)),void 0!==e.envMap&&(r.envMap=n(e.envMap)),void 0!==e.envMapIntensity&&(r.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(r.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(r.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(r.lightMap=n(e.lightMap)),void 0!==e.lightMapIntensity&&(r.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(r.aoMap=n(e.aoMap)),void 0!==e.aoMapIntensity&&(r.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(r.gradientMap=n(e.gradientMap)),void 0!==e.clearcoatMap&&(r.clearcoatMap=n(e.clearcoatMap)),void 0!==e.clearcoatRoughnessMap&&(r.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),void 0!==e.clearcoatNormalMap&&(r.clearcoatNormalMap=n(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(r.clearcoatNormalScale=(new Jn).fromArray(e.clearcoatNormalScale)),void 0!==e.transmission&&(r.transmission=e.transmission),void 0!==e.transmissionMap&&(r.transmissionMap=n(e.transmissionMap)),r},setTextures:function(e){return this.textures=e,this}});var Nd={decodeText:function(e){if("undefined"!==typeof TextDecoder)return(new TextDecoder).decode(e);for(var t="",n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch(i){return t}},extractUrlBase:function(e){var t=e.lastIndexOf("/");return-1===t?"./":e.substr(0,t+1)}};function Gd(){ea.call(this),this.type="InstancedBufferGeometry",this.instanceCount=1/0}function jd(e,t,n,r){"number"===typeof n&&(r=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),Pi.call(this,e,t,n),this.meshPerAttribute=r||1}function Ud(e){Wc.call(this,e)}Gd.prototype=Object.assign(Object.create(ea.prototype),{constructor:Gd,isInstancedBufferGeometry:!0,copy:function(e){return ea.prototype.copy.call(this,e),this.instanceCount=e.instanceCount,this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e=ea.prototype.toJSON.call(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}),jd.prototype=Object.assign(Object.create(Pi.prototype),{constructor:jd,isInstancedBufferAttribute:!0,copy:function(e){return Pi.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},toJSON:function(){var e=Pi.prototype.toJSON.call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}),Ud.prototype=Object.assign(Object.create(Wc.prototype),{constructor:Ud,load:function(e,t,n,r){var i=this,a=new qc(i.manager);a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(a){r?r(a):console.error(a),i.manager.itemError(e)}}),n,r)},parse:function(e){var t={},n={};function r(e,r){if(void 0!==t[r])return t[r];var i=e.interleavedBuffers[r],a=function(e,t){if(void 0!==n[t])return n[t];var r=e.arrayBuffers[t],i=new Uint32Array(r).buffer;return n[t]=i,i}(e,i.buffer),o=new eu(new zd[i.type](a),i.stride);return o.uuid=i.uuid,t[r]=o,o}var i=e.isInstancedBufferGeometry?new Gd:new ea,a=e.data.index;if(void 0!==a){var o=new zd[a.type](a.array);i.setIndex(new Pi(o,1))}var s=e.data.attributes;for(var u in s){var l=s[u],c=void 0;if(l.isInterleavedBufferAttribute){c=new ru(r(e.data,l.data),l.itemSize,l.offset,l.normalized)}else{var d=new zd[l.type](l.array);c=new(l.isInstancedBufferAttribute?jd:Pi)(d,l.itemSize,l.normalized)}void 0!==l.name&&(c.name=l.name),i.setAttribute(u,c)}var h=e.data.morphAttributes;if(h)for(var f in h){for(var p=h[f],m=[],v=0,g=p.length;v<g;v++){var y=p[v],b=void 0;if(y.isInterleavedBufferAttribute)b=new ru(r(e.data,y.data),y.itemSize,y.offset,y.normalized);else b=new Pi(new zd[y.type](y.array),y.itemSize,y.normalized);void 0!==y.name&&(b.name=y.name),m.push(b)}i.morphAttributes[f]=m}e.data.morphTargetsRelative&&(i.morphTargetsRelative=!0);var _=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==_)for(var x=0,w=_.length;x!==w;++x){var M=_[x];i.addGroup(M.start,M.count,M.materialIndex)}var E=e.data.boundingSphere;if(void 0!==E){var A=new sr;void 0!==E.center&&A.fromArray(E.center),i.boundingSphere=new Sr(A,E.radius)}return e.name&&(i.name=e.name),e.userData&&(i.userData=e.userData),i}});var zd={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!==typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function Vd(e){Wc.call(this,e)}Vd.prototype=Object.assign(Object.create(Wc.prototype),{constructor:Vd,load:function(e,t,n,r){var i=this,a=""===this.path?Nd.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;var o=new qc(i.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.load(e,(function(n){var a=null;try{a=JSON.parse(n)}catch(s){return void 0!==r&&r(s),void console.error("THREE:ObjectLoader: Can't parse "+e+".",s.message)}var o=a.metadata;void 0!==o&&void 0!==o.type&&"geometry"!==o.type.toLowerCase()?i.parse(a,t):console.error("THREE.ObjectLoader: Can't load "+e)}),n,r)},parse:function(e,t){var n=this.parseShape(e.shapes),r=this.parseGeometries(e.geometries,n),i=this.parseImages(e.images,(function(){void 0!==t&&t(s)})),a=this.parseTextures(e.textures,i),o=this.parseMaterials(e.materials,a),s=this.parseObject(e.object,r,o);return e.animations&&(s.animations=this.parseAnimations(e.animations)),void 0!==e.images&&0!==e.images.length||void 0!==t&&t(s),s},parseShape:function(e){var t={};if(void 0!==e)for(var n=0,r=e.length;n<r;n++){var i=(new wd).fromJSON(e[n]);t[i.uuid]=i}return t},parseGeometries:function(e,t){var n,r={};if(void 0!==e)for(var i=new Ud,a=0,o=e.length;a<o;a++){var s=void 0,u=e[a];switch(u.type){case"PlaneGeometry":case"PlaneBufferGeometry":s=new mc[u.type](u.width,u.height,u.widthSegments,u.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":s=new mc[u.type](u.width,u.height,u.depth,u.widthSegments,u.heightSegments,u.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":s=new mc[u.type](u.radius,u.segments,u.thetaStart,u.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":s=new mc[u.type](u.radiusTop,u.radiusBottom,u.height,u.radialSegments,u.heightSegments,u.openEnded,u.thetaStart,u.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":s=new mc[u.type](u.radius,u.height,u.radialSegments,u.heightSegments,u.openEnded,u.thetaStart,u.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":s=new mc[u.type](u.radius,u.widthSegments,u.heightSegments,u.phiStart,u.phiLength,u.thetaStart,u.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":s=new mc[u.type](u.radius,u.detail);break;case"RingGeometry":case"RingBufferGeometry":s=new mc[u.type](u.innerRadius,u.outerRadius,u.thetaSegments,u.phiSegments,u.thetaStart,u.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":s=new mc[u.type](u.radius,u.tube,u.radialSegments,u.tubularSegments,u.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":s=new mc[u.type](u.radius,u.tube,u.tubularSegments,u.radialSegments,u.p,u.q);break;case"TubeGeometry":case"TubeBufferGeometry":s=new mc[u.type]((new bd[u.path.type]).fromJSON(u.path),u.tubularSegments,u.radius,u.radialSegments,u.closed);break;case"LatheGeometry":case"LatheBufferGeometry":s=new mc[u.type](u.points,u.segments,u.phiStart,u.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":s=new mc[u.type](u.vertices,u.indices,u.radius,u.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":n=[];for(var l=0,c=u.shapes.length;l<c;l++){var d=t[u.shapes[l]];n.push(d)}s=new mc[u.type](n,u.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":n=[];for(var h=0,f=u.shapes.length;h<f;h++){var p=t[u.shapes[h]];n.push(p)}var m=u.options.extrudePath;void 0!==m&&(u.options.extrudePath=(new bd[m.type]).fromJSON(m)),s=new mc[u.type](n,u.options);break;case"BufferGeometry":case"InstancedBufferGeometry":s=i.parse(u);break;case"Geometry":console.error('THREE.ObjectLoader: Loading "Geometry" is not supported anymore.');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+u.type+'"');continue}s.uuid=u.uuid,void 0!==u.name&&(s.name=u.name),!0===s.isBufferGeometry&&void 0!==u.userData&&(s.userData=u.userData),r[u.uuid]=s}return r},parseMaterials:function(e,t){var n={},r={};if(void 0!==e){var i=new Fd;i.setTextures(t);for(var a=0,o=e.length;a<o;a++){var s=e[a];if("MultiMaterial"===s.type){for(var u=[],l=0;l<s.materials.length;l++){var c=s.materials[l];void 0===n[c.uuid]&&(n[c.uuid]=i.parse(c)),u.push(n[c.uuid])}r[s.uuid]=u}else void 0===n[s.uuid]&&(n[s.uuid]=i.parse(s)),r[s.uuid]=n[s.uuid]}}return r},parseAnimations:function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n],i=jc.parse(r);void 0!==r.uuid&&(i.uuid=r.uuid),t.push(i)}return t},parseImages:function(e,t){var n,r=this,i={};function a(e){return r.manager.itemStart(e),n.load(e,(function(){r.manager.itemEnd(e)}),void 0,(function(){r.manager.itemError(e),r.manager.itemEnd(e)}))}if(void 0!==e&&e.length>0){var o=new Vc(t);(n=new Zc(o)).setCrossOrigin(this.crossOrigin);for(var s=0,u=e.length;s<u;s++){var l=e[s],c=l.url;if(Array.isArray(c)){i[l.uuid]=[];for(var d=0,h=c.length;d<h;d++){var f=c[d],p=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(f)?f:r.resourcePath+f;i[l.uuid].push(a(p))}}else{var m=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l.url)?l.url:r.resourcePath+l.url;i[l.uuid]=a(m)}}}return i},parseTextures:function(e,t){function n(e,t){return"number"===typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}var r={};if(void 0!==e)for(var i=0,a=e.length;i<a;i++){var o=e[i];void 0===o.image&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),void 0===t[o.image]&&console.warn("THREE.ObjectLoader: Undefined image",o.image);var s=void 0;(s=Array.isArray(t[o.image])?new so(t[o.image]):new nr(t[o.image])).needsUpdate=!0,s.uuid=o.uuid,void 0!==o.name&&(s.name=o.name),void 0!==o.mapping&&(s.mapping=n(o.mapping,Wd)),void 0!==o.offset&&s.offset.fromArray(o.offset),void 0!==o.repeat&&s.repeat.fromArray(o.repeat),void 0!==o.center&&s.center.fromArray(o.center),void 0!==o.rotation&&(s.rotation=o.rotation),void 0!==o.wrap&&(s.wrapS=n(o.wrap[0],Xd),s.wrapT=n(o.wrap[1],Xd)),void 0!==o.format&&(s.format=o.format),void 0!==o.type&&(s.type=o.type),void 0!==o.encoding&&(s.encoding=o.encoding),void 0!==o.minFilter&&(s.minFilter=n(o.minFilter,qd)),void 0!==o.magFilter&&(s.magFilter=n(o.magFilter,qd)),void 0!==o.anisotropy&&(s.anisotropy=o.anisotropy),void 0!==o.flipY&&(s.flipY=o.flipY),void 0!==o.premultiplyAlpha&&(s.premultiplyAlpha=o.premultiplyAlpha),void 0!==o.unpackAlignment&&(s.unpackAlignment=o.unpackAlignment),r[o.uuid]=s}return r},parseObject:function(e,t,n){var r,i,a;function o(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function s(e){if(void 0!==e){if(Array.isArray(e)){for(var t=[],r=0,i=e.length;r<i;r++){var a=e[r];void 0===n[a]&&console.warn("THREE.ObjectLoader: Undefined material",a),t.push(n[a])}return t}return void 0===n[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),n[e]}}switch(e.type){case"Scene":r=new $s,void 0!==e.background&&Number.isInteger(e.background)&&(r.background=new Ci(e.background)),void 0!==e.fog&&("Fog"===e.fog.type?r.fog=new Js(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(r.fog=new Ks(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":r=new Oa(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(r.focus=e.focus),void 0!==e.zoom&&(r.zoom=e.zoom),void 0!==e.filmGauge&&(r.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(r.filmOffset=e.filmOffset),void 0!==e.view&&(r.view=Object.assign({},e.view));break;case"OrthographicCamera":r=new Rd(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(r.zoom=e.zoom),void 0!==e.view&&(r.view=Object.assign({},e.view));break;case"AmbientLight":r=new Od(e.color,e.intensity);break;case"DirectionalLight":r=new kd(e.color,e.intensity);break;case"PointLight":r=new Dd(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":r=new Ld(e.color,e.intensity,e.width,e.height);break;case"SpotLight":r=new Td(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":r=new Ed(e.color,e.groundColor,e.intensity);break;case"LightProbe":r=(new Bd).fromJSON(e);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":r=new ya(i=o(e.geometry),a=s(e.material));break;case"InstancedMesh":i=o(e.geometry),a=s(e.material);var u=e.count,l=e.instanceMatrix;(r=new Iu(i,a,u)).instanceMatrix=new Pi(new Float32Array(l.array),16);break;case"LOD":r=new xu;break;case"Line":r=new Nu(o(e.geometry),s(e.material),e.mode);break;case"LineLoop":r=new zu(o(e.geometry),s(e.material));break;case"LineSegments":r=new Uu(o(e.geometry),s(e.material));break;case"PointCloud":case"Points":r=new Yu(o(e.geometry),s(e.material));break;case"Sprite":r=new gu(s(e.material));break;case"Group":r=new Ws;break;default:r=new oi}if(r.uuid=e.uuid,void 0!==e.name&&(r.name=e.name),void 0!==e.matrix?(r.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(r.matrixAutoUpdate=e.matrixAutoUpdate),r.matrixAutoUpdate&&r.matrix.decompose(r.position,r.quaternion,r.scale)):(void 0!==e.position&&r.position.fromArray(e.position),void 0!==e.rotation&&r.rotation.fromArray(e.rotation),void 0!==e.quaternion&&r.quaternion.fromArray(e.quaternion),void 0!==e.scale&&r.scale.fromArray(e.scale)),void 0!==e.castShadow&&(r.castShadow=e.castShadow),void 0!==e.receiveShadow&&(r.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(r.shadow.bias=e.shadow.bias),void 0!==e.shadow.normalBias&&(r.shadow.normalBias=e.shadow.normalBias),void 0!==e.shadow.radius&&(r.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&r.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(r.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.frustumCulled&&(r.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(r.renderOrder=e.renderOrder),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.layers&&(r.layers.mask=e.layers),void 0!==e.children)for(var c=e.children,d=0;d<c.length;d++)r.add(this.parseObject(c[d],t,n));if("LOD"===e.type){void 0!==e.autoUpdate&&(r.autoUpdate=e.autoUpdate);for(var h=e.levels,f=0;f<h.length;f++){var p=h[f],m=r.getObjectByProperty("uuid",p.object);void 0!==m&&r.addLevel(m,p.distance)}}return r}});var Hd,Wd={UVMapping:pe,CubeReflectionMapping:me,CubeRefractionMapping:ve,EquirectangularReflectionMapping:ge,EquirectangularRefractionMapping:ye,CubeUVReflectionMapping:be,CubeUVRefractionMapping:_e},Xd={RepeatWrapping:xe,ClampToEdgeWrapping:we,MirroredRepeatWrapping:Me},qd={NearestFilter:Ee,NearestMipmapNearestFilter:Ae,NearestMipmapLinearFilter:Te,LinearFilter:De,LinearMipmapNearestFilter:Re,LinearMipmapLinearFilter:ke};function Yd(e){"undefined"===typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"===typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),Wc.call(this,e),this.options={premultiplyAlpha:"none"}}function Qd(){this.type="ShapePath",this.color=new Ci,this.subPaths=[],this.currentPath=null}function Zd(e){this.type="Font",this.data=e}function Kd(e,t,n,r,i){var a=i.glyphs[e]||i.glyphs["?"];if(a){var o,s,u,l,c,d,h,f,p=new Qd;if(a.o)for(var m=a._cachedOutline||(a._cachedOutline=a.o.split(" ")),v=0,g=m.length;v<g;){switch(m[v++]){case"m":o=m[v++]*t+n,s=m[v++]*t+r,p.moveTo(o,s);break;case"l":o=m[v++]*t+n,s=m[v++]*t+r,p.lineTo(o,s);break;case"q":u=m[v++]*t+n,l=m[v++]*t+r,c=m[v++]*t+n,d=m[v++]*t+r,p.quadraticCurveTo(c,d,u,l);break;case"b":u=m[v++]*t+n,l=m[v++]*t+r,c=m[v++]*t+n,d=m[v++]*t+r,h=m[v++]*t+n,f=m[v++]*t+r,p.bezierCurveTo(c,d,h,f,u,l)}}return{offsetX:a.ha*t,path:p}}console.error('THREE.Font: character "'+e+'" does not exists in font family '+i.familyName+".")}function Jd(e){Wc.call(this,e)}Yd.prototype=Object.assign(Object.create(Wc.prototype),{constructor:Yd,isImageBitmapLoader:!0,setOptions:function(e){return this.options=e,this},load:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=zc.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;fetch(e).then((function(e){return e.blob()})).then((function(e){return createImageBitmap(e,i.options)})).then((function(n){zc.add(e,n),t&&t(n),i.manager.itemEnd(e)})).catch((function(t){r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)})),i.manager.itemStart(e)}}),Object.assign(Qd.prototype,{moveTo:function(e,t){return this.currentPath=new xd,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this},lineTo:function(e,t){return this.currentPath.lineTo(e,t),this},quadraticCurveTo:function(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this},bezierCurveTo:function(e,t,n,r,i,a){return this.currentPath.bezierCurveTo(e,t,n,r,i,a),this},splineThru:function(e){return this.currentPath.splineThru(e),this},toShapes:function(e,t){function n(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n],a=new wd;a.curves=i.curves,t.push(a)}return t}function r(e,t){for(var n=t.length,r=!1,i=n-1,a=0;a<n;i=a++){var o=t[i],s=t[a],u=s.x-o.x,l=s.y-o.y;if(Math.abs(l)>Number.EPSILON){if(l<0&&(o=t[a],u=-u,s=t[i],l=-l),e.y<o.y||e.y>s.y)continue;if(e.y===o.y){if(e.x===o.x)return!0}else{var c=l*(e.x-o.x)-u*(e.y-o.y);if(0===c)return!0;if(c<0)continue;r=!r}}else{if(e.y!==o.y)continue;if(s.x<=e.x&&e.x<=o.x||o.x<=e.x&&e.x<=s.x)return!0}}return r}var i,a,o,s=Hl.isClockWise,u=this.subPaths;if(0===u.length)return[];if(!0===t)return n(u);var l=[];if(1===u.length)return a=u[0],(o=new wd).curves=a.curves,l.push(o),l;var c=!s(u[0].getPoints());c=e?!c:c;var d,h,f=[],p=[],m=[],v=0;p[v]=void 0,m[v]=[];for(var g=0,y=u.length;g<y;g++)i=s(d=(a=u[g]).getPoints()),(i=e?!i:i)?(!c&&p[v]&&v++,p[v]={s:new wd,p:d},p[v].s.curves=a.curves,c&&v++,m[v]=[]):m[v].push({h:a,p:d[0]});if(!p[0])return n(u);if(p.length>1){for(var b=!1,_=[],x=0,w=p.length;x<w;x++)f[x]=[];for(var M=0,E=p.length;M<E;M++)for(var A=m[M],S=0;S<A.length;S++){for(var T=A[S],C=!0,D=0;D<p.length;D++)r(T.p,p[D].p)&&(M!==D&&_.push({froms:M,tos:D,hole:S}),C?(C=!1,f[D].push(T)):b=!0);C&&f[M].push(T)}_.length>0&&(b||(m=f))}for(var R=0,I=p.length;R<I;R++){o=p[R].s,l.push(o);for(var k=0,O=(h=m[R]).length;k<O;k++)o.holes.push(h[k].h)}return l}}),Object.assign(Zd.prototype,{isFont:!0,generateShapes:function(e,t){void 0===t&&(t=100);for(var n=[],r=function(e,t,n){for(var r=Array.from?Array.from(e):String(e).split(""),i=t/n.resolution,a=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*i,o=[],s=0,u=0,l=0;l<r.length;l++){var c=r[l];if("\n"===c)s=0,u-=a;else{var d=Kd(c,i,s,u,n);s+=d.offsetX,o.push(d.path)}}return o}(e,t,this.data),i=0,a=r.length;i<a;i++)Array.prototype.push.apply(n,r[i].toShapes());return n}}),Jd.prototype=Object.assign(Object.create(Wc.prototype),{constructor:Jd,load:function(e,t,n,r){var i=this,a=new qc(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.load(e,(function(e){var n;try{n=JSON.parse(e)}catch(a){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(e.substring(65,e.length-2))}var r=i.parse(n);t&&t(r)}),n,r)},parse:function(e){return new Zd(e)}});var $d={getContext:function(){return void 0===Hd&&(Hd=new(window.AudioContext||window.webkitAudioContext)),Hd},setContext:function(e){Hd=e}};function eh(e){Wc.call(this,e)}function th(e,t,n){Bd.call(this,void 0,n);var r=(new Ci).set(e),i=(new Ci).set(t),a=new sr(r.r,r.g,r.b),o=new sr(i.r,i.g,i.b),s=Math.sqrt(Math.PI),u=s*Math.sqrt(.75);this.sh.coefficients[0].copy(a).add(o).multiplyScalar(s),this.sh.coefficients[1].copy(a).sub(o).multiplyScalar(u)}function nh(e,t){Bd.call(this,void 0,t);var n=(new Ci).set(e);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}eh.prototype=Object.assign(Object.create(Wc.prototype),{constructor:eh,load:function(e,t,n,r){var i=this,a=new qc(i.manager);a.setResponseType("arraybuffer"),a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.load(e,(function(n){try{var a=n.slice(0);$d.getContext().decodeAudioData(a,(function(e){t(e)}))}catch(o){r?r(o):console.error(o),i.manager.itemError(e)}}),n,r)}}),th.prototype=Object.assign(Object.create(Bd.prototype),{constructor:th,isHemisphereLightProbe:!0,copy:function(e){return Bd.prototype.copy.call(this,e),this},toJSON:function(e){return Bd.prototype.toJSON.call(this,e)}}),nh.prototype=Object.assign(Object.create(Bd.prototype),{constructor:nh,isAmbientLightProbe:!0,copy:function(e){return Bd.prototype.copy.call(this,e),this},toJSON:function(e){return Bd.prototype.toJSON.call(this,e)}});var rh=new Pr,ih=new Pr;function ah(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Oa,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Oa,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}Object.assign(ah.prototype,{update:function(e){var t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep;var n,r,i=e.projectionMatrix.clone(),a=t.eyeSep/2,o=a*t.near/t.focus,s=t.near*Math.tan(Kn.DEG2RAD*t.fov*.5)/t.zoom;ih.elements[12]=-a,rh.elements[12]=a,n=-s*t.aspect+o,r=s*t.aspect+o,i.elements[0]=2*t.near/(r-n),i.elements[8]=(r+n)/(r-n),this.cameraL.projectionMatrix.copy(i),n=-s*t.aspect-o,r=s*t.aspect-o,i.elements[0]=2*t.near/(r-n),i.elements[8]=(r+n)/(r-n),this.cameraR.projectionMatrix.copy(i)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(ih),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(rh)}});var oh=function(){function e(t){Object(d.a)(this,e),this.autoStart=void 0===t||t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}return Object(h.a)(e,[{key:"start",value:function(){this.startTime=("undefined"===typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}},{key:"stop",value:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}},{key:"getElapsedTime",value:function(){return this.getDelta(),this.elapsedTime}},{key:"getDelta",value:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=("undefined"===typeof performance?Date:performance).now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}]),e}(),sh=new sr,uh=new or,lh=new sr,ch=new sr,dh=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.call(this)).type="AudioListener",e.context=$d.getContext(),e.gain=e.context.createGain(),e.gain.connect(e.context.destination),e.filter=null,e.timeDelta=0,e._clock=new oh,e}return Object(h.a)(n,[{key:"getInput",value:function(){return this.gain}},{key:"removeFilter",value:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}},{key:"getFilter",value:function(){return this.filter}},{key:"setFilter",value:function(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}},{key:"getMasterVolume",value:function(){return this.gain.gain.value}},{key:"setMasterVolume",value:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}},{key:"updateMatrixWorld",value:function(e){Object(a.a)(Object(o.a)(n.prototype),"updateMatrixWorld",this).call(this,e);var t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(sh,uh,lh),ch.set(0,0,-1).applyQuaternion(uh),t.positionX){var i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(sh.x,i),t.positionY.linearRampToValueAtTime(sh.y,i),t.positionZ.linearRampToValueAtTime(sh.z,i),t.forwardX.linearRampToValueAtTime(ch.x,i),t.forwardY.linearRampToValueAtTime(ch.y,i),t.forwardZ.linearRampToValueAtTime(ch.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(sh.x,sh.y,sh.z),t.setOrientation(ch.x,ch.y,ch.z,r.x,r.y,r.z)}}]),n}(oi),hh=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this)).type="Audio",r.listener=e,r.context=e.context,r.gain=r.context.createGain(),r.gain.connect(e.getInput()),r.autoplay=!1,r.buffer=null,r.detune=0,r.loop=!1,r.loopStart=0,r.loopEnd=0,r.offset=0,r.duration=void 0,r.playbackRate=1,r.isPlaying=!1,r.hasPlaybackControl=!0,r.source=null,r.sourceType="empty",r._startedAt=0,r._progress=0,r._connected=!1,r.filters=[],r}return Object(h.a)(n,[{key:"getOutput",value:function(){return this.gain}},{key:"setNodeSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}},{key:"setMediaElementSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}},{key:"setMediaStreamSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}},{key:"setBuffer",value:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}},{key:"play",value:function(e){if(void 0===e&&(e=0),!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){this._startedAt=this.context.currentTime+e;var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")}},{key:"pause",value:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"stop",value:function(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"connect",value:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}},{key:"disconnect",value:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}},{key:"getFilters",value:function(){return this.filters}},{key:"setFilters",value:function(e){return e||(e=[]),!0===this._connected?(this.disconnect(),this.filters=e,this.connect()):this.filters=e,this}},{key:"setDetune",value:function(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}},{key:"getDetune",value:function(){return this.detune}},{key:"getFilter",value:function(){return this.getFilters()[0]}},{key:"setFilter",value:function(e){return this.setFilters(e?[e]:[])}},{key:"setPlaybackRate",value:function(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"getPlaybackRate",value:function(){return this.playbackRate}},{key:"onEnded",value:function(){this.isPlaying=!1}},{key:"getLoop",value:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}},{key:"setLoop",value:function(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"setLoopStart",value:function(e){return this.loopStart=e,this}},{key:"setLoopEnd",value:function(e){return this.loopEnd=e,this}},{key:"getVolume",value:function(){return this.gain.gain.value}},{key:"setVolume",value:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}]),n}(oi),fh=new sr,ph=new or,mh=new sr,vh=new sr,gh=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this,e)).panner=r.context.createPanner(),r.panner.panningModel="HRTF",r.panner.connect(r.gain),r}return Object(h.a)(n,[{key:"getOutput",value:function(){return this.panner}},{key:"getRefDistance",value:function(){return this.panner.refDistance}},{key:"setRefDistance",value:function(e){return this.panner.refDistance=e,this}},{key:"getRolloffFactor",value:function(){return this.panner.rolloffFactor}},{key:"setRolloffFactor",value:function(e){return this.panner.rolloffFactor=e,this}},{key:"getDistanceModel",value:function(){return this.panner.distanceModel}},{key:"setDistanceModel",value:function(e){return this.panner.distanceModel=e,this}},{key:"getMaxDistance",value:function(){return this.panner.maxDistance}},{key:"setMaxDistance",value:function(e){return this.panner.maxDistance=e,this}},{key:"setDirectionalCone",value:function(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}},{key:"updateMatrixWorld",value:function(e){if(Object(a.a)(Object(o.a)(n.prototype),"updateMatrixWorld",this).call(this,e),!0!==this.hasPlaybackControl||!1!==this.isPlaying){this.matrixWorld.decompose(fh,ph,mh),vh.set(0,0,1).applyQuaternion(ph);var t=this.panner;if(t.positionX){var r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(fh.x,r),t.positionY.linearRampToValueAtTime(fh.y,r),t.positionZ.linearRampToValueAtTime(fh.z,r),t.orientationX.linearRampToValueAtTime(vh.x,r),t.orientationY.linearRampToValueAtTime(vh.y,r),t.orientationZ.linearRampToValueAtTime(vh.z,r)}else t.setPosition(fh.x,fh.y,fh.z),t.setOrientation(vh.x,vh.y,vh.z)}}}]),n}(hh),yh=function(){function e(t,n){Object(d.a)(this,e),this.analyser=t.context.createAnalyser(),this.analyser.fftSize=void 0!==n?n:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}return Object(h.a)(e,[{key:"getFrequencyData",value:function(){return this.analyser.getByteFrequencyData(this.data),this.data}},{key:"getAverageFrequency",value:function(){for(var e=0,t=this.getFrequencyData(),n=0;n<t.length;n++)e+=t[n];return e/t.length}}]),e}();function bh(e,t,n){var r,i,a;switch(this.binding=e,this.valueSize=n,t){case"quaternion":r=this._slerp,i=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*n),this._workIndex=5;break;case"string":case"bool":r=this._select,i=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(5*n);break;default:r=this._lerp,i=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*n)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=i,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}Object.assign(bh.prototype,{accumulate:function(e,t){var n=this.buffer,r=this.valueSize,i=e*r+r,a=this.cumulativeWeight;if(0===a){for(var o=0;o!==r;++o)n[i+o]=n[o];a=t}else{var s=t/(a+=t);this._mixBufferRegion(n,i,0,s,r)}this.cumulativeWeight=a},accumulateAdditive:function(e){var t=this.buffer,n=this.valueSize,r=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e},apply:function(e){var t=this.valueSize,n=this.buffer,r=e*t+t,i=this.cumulativeWeight,a=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,i<1){var s=t*this._origIndex;this._mixBufferRegion(n,r,s,1-i,t)}a>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(var u=t,l=t+t;u!==l;++u)if(n[u]!==n[u+t]){o.setValue(n,r);break}},saveOriginalState:function(){var e=this.binding,t=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(t,r);for(var i=n,a=r;i!==a;++i)t[i]=t[r+i%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0},restoreOriginalState:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)},_setAdditiveIdentityNumeric:function(){for(var e=this._addIndex*this.valueSize,t=e+this.valueSize,n=e;n<t;n++)this.buffer[n]=0},_setAdditiveIdentityQuaternion:function(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1},_setAdditiveIdentityOther:function(){for(var e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize,n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]},_select:function(e,t,n,r,i){if(r>=.5)for(var a=0;a!==i;++a)e[t+a]=e[n+a]},_slerp:function(e,t,n,r){or.slerpFlat(e,t,e,t,e,n,r)},_slerpAdditive:function(e,t,n,r,i){var a=this._workIndex*i;or.multiplyQuaternionsFlat(e,a,e,t,e,n),or.slerpFlat(e,t,e,t,e,a,r)},_lerp:function(e,t,n,r,i){for(var a=1-r,o=0;o!==i;++o){var s=t+o;e[s]=e[s]*a+e[n+o]*r}},_lerpAdditive:function(e,t,n,r,i){for(var a=0;a!==i;++a){var o=t+a;e[o]=e[o]+e[n+a]*r}}});var _h=new RegExp("[\\[\\]\\.:\\/]","g"),xh="[^"+"\\[\\]\\.:\\/".replace("\\.","")+"]",wh=/((?:WC+[\/:])*)/.source.replace("WC","[^\\[\\]\\.:\\/]"),Mh=/(WCOD+)?/.source.replace("WCOD",xh),Eh=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC","[^\\[\\]\\.:\\/]"),Ah=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC","[^\\[\\]\\.:\\/]"),Sh=new RegExp("^"+wh+Mh+Eh+Ah+"$"),Th=["material","materials","bones"];function Ch(e,t,n){var r=n||Dh.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}function Dh(e,t,n){this.path=t,this.parsedPath=n||Dh.parseTrackName(t),this.node=Dh.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}function Rh(){this.uuid=Kn.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var t=0,n=arguments.length;t!==n;++t)e[arguments[t].uuid]=t;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var r=this;this.stats={objects:{get total(){return r._objects.length},get inUse(){return this.total-r.nCachedObjects_}},get bindingsPerObject(){return r._bindings.length}}}Object.assign(Ch.prototype,{getValue:function(e,t){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)},setValue:function(e,t){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)},bind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()},unbind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}),Object.assign(Dh,{Composite:Ch,create:function(e,t,n){return e&&e.isAnimationObjectGroup?new Dh.Composite(e,t,n):new Dh(e,t,n)},sanitizeNodeName:function(e){return e.replace(/\s/g,"_").replace(_h,"")},parseTrackName:function(e){var t=Sh.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var i=n.nodeName.substring(r+1);-1!==Th.indexOf(i)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=i)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n},findNode:function(e,t){if(!t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){var r=function e(n){for(var r=0;r<n.length;r++){var i=n[r];if(i.name===t||i.uuid===t)return i;var a=e(i.children);if(a)return a}return null}(e.children);if(r)return r}return null}}),Object.assign(Dh.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(e,t){e[t]=this.node[this.propertyName]},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)e[t++]=n[r]},function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]},function(e,t){this.resolvedProperty.toArray(e,t)}],SetterByBindingTypeAndVersioning:[[function(e,t){this.targetObject[this.propertyName]=e[t]},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++]},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty.fromArray(e,t)},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(e,t){this.bind(),this.getValue(e,t)},setValue:function(e,t){this.bind(),this.setValue(e,t)},bind:function(){var e=this.node,t=this.parsedPath,n=t.objectName,r=t.propertyName,i=t.propertyIndex;if(e||(e=Dh.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,e){if(n){var a=t.objectIndex;switch(n){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(var o=0;o<e.length;o++)if(e[o].name===a){a=o;break}break;default:if(void 0===e[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==a){if(void 0===e[a])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[a]}}var s=e[r];if(void 0!==s){var u=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?u=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(u=this.Versioning.MatrixWorldNeedsUpdate);var l=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===r){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.isBufferGeometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==e.morphTargetDictionary[i]&&(i=e.morphTargetDictionary[i])}l=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=i}else void 0!==s.fromArray&&void 0!==s.toArray?(l=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(l=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][u]}else{var c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+r+" but it wasn't found.",e)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(Dh.prototype,{_getValue_unbound:Dh.prototype.getValue,_setValue_unbound:Dh.prototype.setValue}),Object.assign(Rh.prototype,{isAnimationObjectGroup:!0,add:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._paths,r=this._parsedPaths,i=this._bindings,a=i.length,o=void 0,s=e.length,u=this.nCachedObjects_,l=0,c=arguments.length;l!==c;++l){var d=arguments[l],h=d.uuid,f=t[h];if(void 0===f){f=s++,t[h]=f,e.push(d);for(var p=0,m=a;p!==m;++p)i[p].push(new Dh(d,n[p],r[p]))}else if(f<u){o=e[f];var v=--u,g=e[v];t[g.uuid]=f,e[f]=g,t[h]=v,e[v]=d;for(var y=0,b=a;y!==b;++y){var _=i[y],x=_[v],w=_[f];_[f]=x,void 0===w&&(w=new Dh(d,n[y],r[y])),_[v]=w}}else e[f]!==o&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u},remove:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length,i=this.nCachedObjects_,a=0,o=arguments.length;a!==o;++a){var s=arguments[a],u=s.uuid,l=t[u];if(void 0!==l&&l>=i){var c=i++,d=e[c];t[d.uuid]=l,e[l]=d,t[u]=c,e[c]=s;for(var h=0,f=r;h!==f;++h){var p=n[h],m=p[c],v=p[l];p[l]=m,p[c]=v}}}this.nCachedObjects_=i},uncache:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length,i=this.nCachedObjects_,a=e.length,o=0,s=arguments.length;o!==s;++o){var u=arguments[o],l=u.uuid,c=t[l];if(void 0!==c)if(delete t[l],c<i){var d=--i,h=e[d],f=--a,p=e[f];t[h.uuid]=c,e[c]=h,t[p.uuid]=d,e[d]=p,e.pop();for(var m=0,v=r;m!==v;++m){var g=n[m],y=g[d],b=g[f];g[c]=y,g[d]=b,g.pop()}}else{var _=--a,x=e[_];t[x.uuid]=c,e[c]=x,e.pop();for(var w=0,M=r;w!==M;++w){var E=n[w];E[c]=E[_],E.pop()}}}this.nCachedObjects_=i},subscribe_:function(e,t){var n=this._bindingsIndicesByPath,r=n[e],i=this._bindings;if(void 0!==r)return i[r];var a=this._paths,o=this._parsedPaths,s=this._objects,u=s.length,l=this.nCachedObjects_,c=new Array(u);r=i.length,n[e]=r,a.push(e),o.push(t),i.push(c);for(var d=l,h=s.length;d!==h;++d){var f=s[d];c[d]=new Dh(f,e,t)}return c},unsubscribe_:function(e){var t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){var r=this._paths,i=this._parsedPaths,a=this._bindings,o=a.length-1,s=a[o];t[e[o]]=n,a[n]=s,a.pop(),i[n]=i[o],i.pop(),r[n]=r[o],r.pop()}}});var Ih=function(){function e(t,n,r,i){Object(d.a)(this,e),this._mixer=t,this._clip=n,this._localRoot=r||null,this.blendMode=i||n.blendMode;for(var a=n.tracks,o=a.length,s=new Array(o),u={endingStart:Jt,endingEnd:Jt},l=0;l!==o;++l){var c=a[l].createInterpolant(null);s[l]=c,c.settings=u}this._interpolantSettings=u,this._interpolants=s,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=qt,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}return Object(h.a)(e,[{key:"play",value:function(){return this._mixer._activateAction(this),this}},{key:"stop",value:function(){return this._mixer._deactivateAction(this),this.reset()}},{key:"reset",value:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}},{key:"isRunning",value:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}},{key:"isScheduled",value:function(){return this._mixer._isActiveAction(this)}},{key:"startAt",value:function(e){return this._startTime=e,this}},{key:"setLoop",value:function(e,t){return this.loop=e,this.repetitions=t,this}},{key:"setEffectiveWeight",value:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}},{key:"getEffectiveWeight",value:function(){return this._effectiveWeight}},{key:"fadeIn",value:function(e){return this._scheduleFading(e,0,1)}},{key:"fadeOut",value:function(e){return this._scheduleFading(e,1,0)}},{key:"crossFadeFrom",value:function(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){var r=this._clip.duration,i=e._clip.duration,a=i/r,o=r/i;e.warp(1,a,t),this.warp(o,1,t)}return this}},{key:"crossFadeTo",value:function(e,t,n){return e.crossFadeFrom(this,t,n)}},{key:"stopFading",value:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}},{key:"setEffectiveTimeScale",value:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}},{key:"getEffectiveTimeScale",value:function(){return this._effectiveTimeScale}},{key:"setDuration",value:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}},{key:"syncWith",value:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}},{key:"halt",value:function(e){return this.warp(this._effectiveTimeScale,0,e)}},{key:"warp",value:function(e,t,n){var r=this._mixer,i=r.time,a=this.timeScale,o=this._timeScaleInterpolant;null===o&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);var s=o.parameterPositions,u=o.sampleValues;return s[0]=i,s[1]=i+n,u[0]=e/a,u[1]=t/a,this}},{key:"stopWarping",value:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}},{key:"getMixer",value:function(){return this._mixer}},{key:"getClip",value:function(){return this._clip}},{key:"getRoot",value:function(){return this._localRoot||this._mixer._root}},{key:"_update",value:function(e,t,n,r){if(this.enabled){var i=this._startTime;if(null!==i){var a=(e-i)*n;if(a<0||0===n)return;this._startTime=null,t=n*a}t*=this._updateTimeScale(e);var o=this._updateTime(t),s=this._updateWeight(e);if(s>0){var u=this._interpolants,l=this._propertyBindings;switch(this.blendMode){case nn:for(var c=0,d=u.length;c!==d;++c)u[c].evaluate(o),l[c].accumulateAdditive(s);break;case tn:default:for(var h=0,f=u.length;h!==f;++h)u[h].evaluate(o),l[h].accumulate(r,s)}}}else this._updateWeight(e)}},{key:"_updateWeight",value:function(e){var t=0;if(this.enabled){t=this.weight;var n=this._weightInterpolant;if(null!==n){var r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t}},{key:"_updateTimeScale",value:function(e){var t=0;if(!this.paused){t=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n)t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}return this._effectiveTimeScale=t,t}},{key:"_updateTime",value:function(e){var t=this._clip.duration,n=this.loop,r=this.time+e,i=this._loopCount,a=n===Yt;if(0===e)return-1===i?r:a&&1===(1&i)?t-r:r;if(n===Xt){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else{if(!(r<0)){this.time=r;break e}r=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===i&&(e>=0?(i=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),r>=t||r<0){var o=Math.floor(r/t);r-=t*o,i+=Math.abs(o);var s=this.repetitions-i;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===s){var u=e<0;this._setEndings(u,!u,a)}else this._setEndings(!1,!1,a);this._loopCount=i,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=r;if(a&&1===(1&i))return t-r}return r}},{key:"_setEndings",value:function(e,t,n){var r=this._interpolantSettings;n?(r.endingStart=$t,r.endingEnd=$t):(r.endingStart=e?this.zeroSlopeAtStart?$t:Jt:en,r.endingEnd=t?this.zeroSlopeAtEnd?$t:Jt:en)}},{key:"_scheduleFading",value:function(e,t,n){var r=this._mixer,i=r.time,a=this._weightInterpolant;null===a&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);var o=a.parameterPositions,s=a.sampleValues;return o[0]=i,s[0]=t,o[1]=i+e,s[1]=n,this}}]),e}();function kh(e){this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}kh.prototype=Object.assign(Object.create(Xn.prototype),{constructor:kh,_bindAction:function(e,t){var n=e._localRoot||this._root,r=e._clip.tracks,i=r.length,a=e._propertyBindings,o=e._interpolants,s=n.uuid,u=this._bindingsByRootAndName,l=u[s];void 0===l&&(l={},u[s]=l);for(var c=0;c!==i;++c){var d=r[c],h=d.name,f=l[h];if(void 0!==f)a[c]=f;else{if(void 0!==(f=a[c])){null===f._cacheIndex&&(++f.referenceCount,this._addInactiveBinding(f,s,h));continue}var p=t&&t._propertyBindings[c].binding.parsedPath;++(f=new bh(Dh.create(n,h,p),d.ValueTypeName,d.getValueSize())).referenceCount,this._addInactiveBinding(f,s,h),a[c]=f}o[c].resultBuffer=f.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}for(var i=e._propertyBindings,a=0,o=i.length;a!==o;++a){var s=i[a];0===s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0===--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions},_addInactiveAction:function(e,t,n){var r=this._actions,i=this._actionsByClip,a=i[t];if(void 0===a)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=a;else{var o=a.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=r.length,r.push(e),a.actionByRoot[n]=e},_removeInactiveAction:function(e){var t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;var i=e._clip.uuid,a=this._actionsByClip,o=a[i],s=o.knownActions,u=s[s.length-1],l=e._byClipCacheIndex;u._byClipCacheIndex=l,s[l]=u,s.pop(),e._byClipCacheIndex=null,delete o.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete a[i],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0===--i.referenceCount&&this._removeInactiveBinding(i)}},_lendAction:function(e){var t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_takeBackAction:function(e){var t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_addInactiveBinding:function(e,t,n){var r=this._bindingsByRootAndName,i=this._bindings,a=r[t];void 0===a&&(a={},r[t]=a),a[n]=e,e._cacheIndex=i.length,i.push(e)},_removeInactiveBinding:function(e){var t=this._bindings,n=e.binding,r=n.rootNode.uuid,i=n.path,a=this._bindingsByRootAndName,o=a[r],s=t[t.length-1],u=e._cacheIndex;s._cacheIndex=u,t[u]=s,t.pop(),delete o[i],0===Object.keys(o).length&&delete a[r]},_lendBinding:function(e){var t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_takeBackBinding:function(e){var t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_lendControlInterpolant:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return void 0===n&&((n=new Rc(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=t,e[t]=n),n},_takeBackControlInterpolant:function(e){var t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,i=t[r];e.__cacheIndex=r,t[r]=e,i.__cacheIndex=n,t[n]=i},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,t,n){var r=t||this._root,i=r.uuid,a="string"===typeof e?jc.findByName(r,e):e,o=null!==a?a.uuid:e,s=this._actionsByClip[o],u=null;if(void 0===n&&(n=null!==a?a.blendMode:tn),void 0!==s){var l=s.actionByRoot[i];if(void 0!==l&&l.blendMode===n)return l;u=s.knownActions[0],null===a&&(a=u._clip)}if(null===a)return null;var c=new Ih(this,a,t,n);return this._bindAction(c,u),this._addInactiveAction(c,o,i),c},existingAction:function(e,t){var n=t||this._root,r=n.uuid,i="string"===typeof e?jc.findByName(n,e):e,a=i?i.uuid:e,o=this._actionsByClip[a];return void 0!==o&&o.actionByRoot[r]||null},stopAllAction:function(){for(var e=this._actions,t=this._nActiveActions-1;t>=0;--t)e[t].stop();return this},update:function(e){e*=this.timeScale;for(var t=this._actions,n=this._nActiveActions,r=this.time+=e,i=Math.sign(e),a=this._accuIndex^=1,o=0;o!==n;++o){t[o]._update(r,e,i,a)}for(var s=this._bindings,u=this._nActiveBindings,l=0;l!==u;++l)s[l].apply(a);return this},setTime:function(e){this.time=0;for(var t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)},getRoot:function(){return this._root},uncacheClip:function(e){var t=this._actions,n=e.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){for(var a=i.knownActions,o=0,s=a.length;o!==s;++o){var u=a[o];this._deactivateAction(u);var l=u._cacheIndex,c=t[t.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,c._cacheIndex=l,t[l]=c,t.pop(),this._removeInactiveBindingsForAction(u)}delete r[n]}},uncacheRoot:function(e){var t=e.uuid,n=this._actionsByClip;for(var r in n){var i=n[r].actionByRoot[t];void 0!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}var a=this._bindingsByRootAndName[t];if(void 0!==a)for(var o in a){var s=a[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}},uncacheAction:function(e,t){var n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}});var Oh=function(){function e(t){Object(d.a)(this,e),"string"===typeof t&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),t=arguments[1]),this.value=t}return Object(h.a)(e,[{key:"clone",value:function(){return new e(void 0===this.value.clone?this.value:this.value.clone())}}]),e}();function Lh(e,t,n){eu.call(this,e,t),this.meshPerAttribute=n||1}function Ph(e,t,n,r,i){this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=r,this.count=i,this.version=0}function Bh(e,t,n,r){this.ray=new Lr(e,t),this.near=n||0,this.far=r||1/0,this.camera=null,this.layers=new Xr,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function Fh(e,t){return e.distance-t.distance}function Nh(e,t,n,r){if(e.layers.test(t.layers)&&e.raycast(t,n),!0===r)for(var i=e.children,a=0,o=i.length;a<o;a++)Nh(i[a],t,n,!0)}Lh.prototype=Object.assign(Object.create(eu.prototype),{constructor:Lh,isInstancedInterleavedBuffer:!0,copy:function(e){return eu.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},clone:function(e){var t=eu.prototype.clone.call(this,e);return t.meshPerAttribute=this.meshPerAttribute,t},toJSON:function(e){var t=eu.prototype.toJSON.call(this,e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}),Object.defineProperty(Ph.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(Ph.prototype,{isGLBufferAttribute:!0,setBuffer:function(e){return this.buffer=e,this},setType:function(e,t){return this.type=e,this.elementSize=t,this},setItemSize:function(e){return this.itemSize=e,this},setCount:function(e){return this.count=e,this}}),Object.assign(Bh.prototype,{set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(e,t,n){var r=n||[];return Nh(e,this,r,t),r.sort(Fh),r},intersectObjects:function(e,t,n){var r=n||[];if(!1===Array.isArray(e))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),r;for(var i=0,a=e.length;i<a;i++)Nh(e[i],this,r,t);return r.sort(Fh),r}});var Gh=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object(d.a)(this,e),this.radius=t,this.phi=n,this.theta=r,this}return Object(h.a)(e,[{key:"set",value:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}},{key:"makeSafe",value:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}},{key:"setFromVector3",value:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}},{key:"setFromCartesianCoords",value:function(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(Kn.clamp(t/this.radius,-1,1))),this}}]),e}(),jh=function(){function e(t,n,r){return Object(d.a)(this,e),this.radius=void 0!==t?t:1,this.theta=void 0!==n?n:0,this.y=void 0!==r?r:0,this}return Object(h.a)(e,[{key:"set",value:function(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}},{key:"setFromVector3",value:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}},{key:"setFromCartesianCoords",value:function(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}}]),e}(),Uh=new Jn,zh=function(){function e(t,n){Object(d.a)(this,e),Object.defineProperty(this,"isBox2",{value:!0}),this.min=void 0!==t?t:new Jn(1/0,1/0),this.max=void 0!==n?n:new Jn(-1/0,-1/0)}return Object(h.a)(e,[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}},{key:"setFromCenterAndSize",value:function(e,t){var n=Uh.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y}},{key:"getCenter",value:function(e){return void 0===e&&(console.warn("THREE.Box2: .getCenter() target is now required"),e=new Jn),this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return void 0===e&&(console.warn("THREE.Box2: .getSize() target is now required"),e=new Jn),this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"containsPoint",value:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}},{key:"getParameter",value:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .getParameter() target is now required"),t=new Jn),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}},{key:"intersectsBox",value:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}},{key:"clampPoint",value:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .clampPoint() target is now required"),t=new Jn),t.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return Uh.copy(e).clamp(this.min,this.max).sub(e).length()}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}]),e}(),Vh=new sr,Hh=new sr,Wh=function(){function e(t,n){Object(d.a)(this,e),this.start=void 0!==t?t:new sr,this.end=void 0!==n?n:new sr}return Object(h.a)(e,[{key:"set",value:function(e,t){return this.start.copy(e),this.end.copy(t),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.start.copy(e.start),this.end.copy(e.end),this}},{key:"getCenter",value:function(e){return void 0===e&&(console.warn("THREE.Line3: .getCenter() target is now required"),e=new sr),e.addVectors(this.start,this.end).multiplyScalar(.5)}},{key:"delta",value:function(e){return void 0===e&&(console.warn("THREE.Line3: .delta() target is now required"),e=new sr),e.subVectors(this.end,this.start)}},{key:"distanceSq",value:function(){return this.start.distanceToSquared(this.end)}},{key:"distance",value:function(){return this.start.distanceTo(this.end)}},{key:"at",value:function(e,t){return void 0===t&&(console.warn("THREE.Line3: .at() target is now required"),t=new sr),this.delta(t).multiplyScalar(e).add(this.start)}},{key:"closestPointToPointParameter",value:function(e,t){Vh.subVectors(e,this.start),Hh.subVectors(this.end,this.start);var n=Hh.dot(Hh),r=Hh.dot(Vh)/n;return t&&(r=Kn.clamp(r,0,1)),r}},{key:"closestPointToPoint",value:function(e,t,n){var r=this.closestPointToPointParameter(e,t);return void 0===n&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),n=new sr),this.delta(n).multiplyScalar(r).add(this.start)}},{key:"applyMatrix4",value:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}},{key:"equals",value:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}}]),e}();function Xh(e){oi.call(this),this.material=e,this.render=function(){},this.hasPositions=!1,this.hasNormals=!1,this.hasColors=!1,this.hasUvs=!1,this.positionArray=null,this.normalArray=null,this.colorArray=null,this.uvArray=null,this.count=0}Xh.prototype=Object.create(oi.prototype),Xh.prototype.constructor=Xh,Xh.prototype.isImmediateRenderObject=!0;var qh=new sr,Yh=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e,r){var i;Object(d.a)(this,n),(i=t.call(this)).light=e,i.light.updateMatrixWorld(),i.matrix=e.matrixWorld,i.matrixAutoUpdate=!1,i.color=r;for(var a=new ea,o=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],s=0,u=1;s<32;s++,u++){var l=s/32*Math.PI*2,c=u/32*Math.PI*2;o.push(Math.cos(l),Math.sin(l),1,Math.cos(c),Math.sin(c),1)}a.setAttribute("position",new Vi(o,3));var h=new ku({fog:!1,toneMapped:!1});return i.cone=new Uu(a,h),i.add(i.cone),i.update(),i}return Object(h.a)(n,[{key:"dispose",value:function(){this.cone.geometry.dispose(),this.cone.material.dispose()}},{key:"update",value:function(){this.light.updateMatrixWorld();var e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),qh.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(qh),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}]),n}(oi),Qh=new sr,Zh=new Pr,Kh=new Pr,Jh=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e){var r;Object(d.a)(this,n);for(var i=function e(t){var n=[];t&&t.isBone&&n.push(t);for(var r=0;r<t.children.length;r++)n.push.apply(n,e(t.children[r]));return n}(e),a=new ea,o=[],s=[],u=new Ci(0,0,1),l=new Ci(0,1,0),c=0;c<i.length;c++){var h=i[c];h.parent&&h.parent.isBone&&(o.push(0,0,0),o.push(0,0,0),s.push(u.r,u.g,u.b),s.push(l.r,l.g,l.b))}a.setAttribute("position",new Vi(o,3)),a.setAttribute("color",new Vi(s,3));var f=new ku({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});return(r=t.call(this,a,f)).type="SkeletonHelper",r.isSkeletonHelper=!0,r.root=e,r.bones=i,r.matrix=e.matrixWorld,r.matrixAutoUpdate=!1,r}return Object(h.a)(n,[{key:"updateMatrixWorld",value:function(e){var t=this.bones,r=this.geometry,i=r.getAttribute("position");Kh.getInverse(this.root.matrixWorld);for(var s=0,u=0;s<t.length;s++){var l=t[s];l.parent&&l.parent.isBone&&(Zh.multiplyMatrices(Kh,l.matrixWorld),Qh.setFromMatrixPosition(Zh),i.setXYZ(u,Qh.x,Qh.y,Qh.z),Zh.multiplyMatrices(Kh,l.parent.matrixWorld),Qh.setFromMatrixPosition(Zh),i.setXYZ(u+1,Qh.x,Qh.y,Qh.z),u+=2)}r.getAttribute("position").needsUpdate=!0,Object(a.a)(Object(o.a)(n.prototype),"updateMatrixWorld",this).call(this,e)}}]),n}(Uu);var $h=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e,r,i){var a;Object(d.a)(this,n);var o=new ec(r,4,2),s=new ki({wireframe:!0,fog:!1,toneMapped:!1});return(a=t.call(this,o,s)).light=e,a.light.updateMatrixWorld(),a.color=i,a.type="PointLightHelper",a.matrix=a.light.matrixWorld,a.matrixAutoUpdate=!1,a.update(),a}return Object(h.a)(n,[{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}},{key:"update",value:function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}]),n}(ya),ef=new sr,tf=new Ci,nf=new Ci,rf=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e,r,i){var a;Object(d.a)(this,n),(a=t.call(this)).light=e,a.light.updateMatrixWorld(),a.matrix=e.matrixWorld,a.matrixAutoUpdate=!1,a.color=i;var o=new ul(r);o.rotateY(.5*Math.PI),a.material=new ki({wireframe:!0,fog:!1,toneMapped:!1}),void 0===a.color&&(a.material.vertexColors=!0);var s=o.getAttribute("position"),u=new Float32Array(3*s.count);return o.setAttribute("color",new Pi(u,3)),a.add(new ya(o,a.material)),a.update(),a}return Object(h.a)(n,[{key:"dispose",value:function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}},{key:"update",value:function(){var e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var t=e.geometry.getAttribute("color");tf.copy(this.light.color),nf.copy(this.light.groundColor);for(var n=0,r=t.count;n<r;n++){var i=n<r/2?tf:nf;t.setXYZ(n,i.r,i.g,i.b)}t.needsUpdate=!0}e.lookAt(ef.setFromMatrixPosition(this.light.matrixWorld).negate())}}]),n}(oi),af=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e,r,i,a){var o;Object(d.a)(this,n),e=e||10,r=r||10,i=new Ci(void 0!==i?i:4473924),a=new Ci(void 0!==a?a:8947848);for(var s=r/2,u=e/r,l=e/2,c=[],h=[],f=0,p=0,m=-l;f<=r;f++,m+=u){c.push(-l,0,m,l,0,m),c.push(m,0,-l,m,0,l);var v=f===s?i:a;v.toArray(h,p),p+=3,v.toArray(h,p),p+=3,v.toArray(h,p),p+=3,v.toArray(h,p),p+=3}var g=new ea;g.setAttribute("position",new Vi(c,3)),g.setAttribute("color",new Vi(h,3));var y=new ku({vertexColors:!0,toneMapped:!1});return(o=t.call(this,g,y)).type="GridHelper",o}return n}(Uu),of=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e,r,i,a,o,s){var u;Object(d.a)(this,n),e=e||10,r=r||16,i=i||8,a=a||64,o=new Ci(void 0!==o?o:4473924),s=new Ci(void 0!==s?s:8947848);for(var l=[],c=[],h=0;h<=r;h++){var f=h/r*(2*Math.PI),p=Math.sin(f)*e,m=Math.cos(f)*e;l.push(0,0,0),l.push(p,0,m);var v=1&h?o:s;c.push(v.r,v.g,v.b),c.push(v.r,v.g,v.b)}for(var g=0;g<=i;g++)for(var y=1&g?o:s,b=e-e/i*g,_=0;_<a;_++){var x=_/a*(2*Math.PI),w=Math.sin(x)*b,M=Math.cos(x)*b;l.push(w,0,M),c.push(y.r,y.g,y.b),x=(_+1)/a*(2*Math.PI),w=Math.sin(x)*b,M=Math.cos(x)*b,l.push(w,0,M),c.push(y.r,y.g,y.b)}var E=new ea;E.setAttribute("position",new Vi(l,3)),E.setAttribute("color",new Vi(c,3));var A=new ku({vertexColors:!0,toneMapped:!1});return(u=t.call(this,E,A)).type="PolarGridHelper",u}return n}(Uu),sf=new sr,uf=new sr,lf=new sr,cf=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e,r,i){var a;Object(d.a)(this,n),(a=t.call(this)).light=e,a.light.updateMatrixWorld(),a.matrix=e.matrixWorld,a.matrixAutoUpdate=!1,a.color=i,void 0===r&&(r=1);var o=new ea;o.setAttribute("position",new Vi([-r,r,0,r,r,0,r,-r,0,-r,-r,0,-r,r,0],3));var s=new ku({fog:!1,toneMapped:!1});return a.lightPlane=new Nu(o,s),a.add(a.lightPlane),(o=new ea).setAttribute("position",new Vi([0,0,0,0,0,1],3)),a.targetLine=new Nu(o,s),a.add(a.targetLine),a.update(),a}return Object(h.a)(n,[{key:"dispose",value:function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}},{key:"update",value:function(){sf.setFromMatrixPosition(this.light.matrixWorld),uf.setFromMatrixPosition(this.light.target.matrixWorld),lf.subVectors(uf,sf),this.lightPlane.lookAt(uf),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(uf),this.targetLine.scale.z=lf.length()}}]),n}(oi),df=new sr,hf=new ka,ff=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e){var r;Object(d.a)(this,n);var i=new ea,a=new ku({color:16777215,vertexColors:!0,toneMapped:!1}),o=[],s=[],u={},l=new Ci(16755200),c=new Ci(16711680),h=new Ci(43775),f=new Ci(16777215),p=new Ci(3355443);function m(e,t,n){v(e,n),v(t,n)}function v(e,t){o.push(0,0,0),s.push(t.r,t.g,t.b),void 0===u[e]&&(u[e]=[]),u[e].push(o.length/3-1)}return m("n1","n2",l),m("n2","n4",l),m("n4","n3",l),m("n3","n1",l),m("f1","f2",l),m("f2","f4",l),m("f4","f3",l),m("f3","f1",l),m("n1","f1",l),m("n2","f2",l),m("n3","f3",l),m("n4","f4",l),m("p","n1",c),m("p","n2",c),m("p","n3",c),m("p","n4",c),m("u1","u2",h),m("u2","u3",h),m("u3","u1",h),m("c","t",f),m("p","c",p),m("cn1","cn2",p),m("cn3","cn4",p),m("cf1","cf2",p),m("cf3","cf4",p),i.setAttribute("position",new Vi(o,3)),i.setAttribute("color",new Vi(s,3)),(r=t.call(this,i,a)).type="CameraHelper",r.camera=e,r.camera.updateProjectionMatrix&&r.camera.updateProjectionMatrix(),r.matrix=e.matrixWorld,r.matrixAutoUpdate=!1,r.pointMap=u,r.update(),r}return Object(h.a)(n,[{key:"update",value:function(){var e=this.geometry,t=this.pointMap;hf.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),pf("c",t,e,hf,0,0,-1),pf("t",t,e,hf,0,0,1),pf("n1",t,e,hf,-1,-1,-1),pf("n2",t,e,hf,1,-1,-1),pf("n3",t,e,hf,-1,1,-1),pf("n4",t,e,hf,1,1,-1),pf("f1",t,e,hf,-1,-1,1),pf("f2",t,e,hf,1,-1,1),pf("f3",t,e,hf,-1,1,1),pf("f4",t,e,hf,1,1,1),pf("u1",t,e,hf,.7,1.1,-1),pf("u2",t,e,hf,-.7,1.1,-1),pf("u3",t,e,hf,0,2,-1),pf("cf1",t,e,hf,-1,0,1),pf("cf2",t,e,hf,1,0,1),pf("cf3",t,e,hf,0,-1,1),pf("cf4",t,e,hf,0,1,1),pf("cn1",t,e,hf,-1,0,-1),pf("cn2",t,e,hf,1,0,-1),pf("cn3",t,e,hf,0,-1,-1),pf("cn4",t,e,hf,0,1,-1),e.getAttribute("position").needsUpdate=!0}}]),n}(Uu);function pf(e,t,n,r,i,a,o){df.set(i,a,o).unproject(r);var s=t[e];if(void 0!==s)for(var u=n.getAttribute("position"),l=0,c=s.length;l<c;l++)u.setXYZ(s[l],df.x,df.y,df.z)}var mf,vf,gf=new cr,yf=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16776960;Object(d.a)(this,n);var a=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),o=new Float32Array(24),s=new ea;return s.setIndex(new Pi(a,1)),s.setAttribute("position",new Pi(o,3)),(r=t.call(this,s,new ku({color:i,toneMapped:!1}))).object=e,r.type="BoxHelper",r.matrixAutoUpdate=!1,r.update(),r}return Object(h.a)(n,[{key:"update",value:function(e){if(void 0!==e&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&gf.setFromObject(this.object),!gf.isEmpty()){var t=gf.min,n=gf.max,r=this.geometry.attributes.position,i=r.array;i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=t.x,i[4]=n.y,i[5]=n.z,i[6]=t.x,i[7]=t.y,i[8]=n.z,i[9]=n.x,i[10]=t.y,i[11]=n.z,i[12]=n.x,i[13]=n.y,i[14]=t.z,i[15]=t.x,i[16]=n.y,i[17]=t.z,i[18]=t.x,i[19]=t.y,i[20]=t.z,i[21]=n.x,i[22]=t.y,i[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}}},{key:"setFromObject",value:function(e){return this.object=e,this.update(),this}},{key:"copy",value:function(e){return Uu.prototype.copy.call(this,e),this.object=e.object,this}}]),n}(Uu),bf=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16776960;Object(d.a)(this,n);var a=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),o=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new ea;return s.setIndex(new Pi(a,1)),s.setAttribute("position",new Vi(o,3)),(r=t.call(this,s,new ku({color:i,toneMapped:!1}))).box=e,r.type="Box3Helper",r.geometry.computeBoundingSphere(),r}return Object(h.a)(n,[{key:"updateMatrixWorld",value:function(e){var t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),Object(a.a)(Object(o.a)(n.prototype),"updateMatrixWorld",this).call(this,e))}}]),n}(Uu),_f=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e,r,i){var a;Object(d.a)(this,n);var o=void 0!==i?i:16776960,s=new ea;s.setAttribute("position",new Vi([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),s.computeBoundingSphere(),(a=t.call(this,s,new ku({color:o,toneMapped:!1}))).type="PlaneHelper",a.plane=e,a.size=void 0===r?1:r;var u=new ea;return u.setAttribute("position",new Vi([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),u.computeBoundingSphere(),a.add(new ya(u,new ki({color:o,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1}))),a}return Object(h.a)(n,[{key:"updateMatrixWorld",value:function(e){var t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=t<0?A:E,this.lookAt(this.plane.normal),Object(a.a)(Object(o.a)(n.prototype),"updateMatrixWorld",this).call(this,e)}}]),n}(Nu),xf=new sr,wf=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e,r,i,a,o,s){var u;return Object(d.a)(this,n),(u=t.call(this)).type="ArrowHelper",void 0===e&&(e=new sr(0,0,1)),void 0===r&&(r=new sr(0,0,0)),void 0===i&&(i=1),void 0===a&&(a=16776960),void 0===o&&(o=.2*i),void 0===s&&(s=.2*o),void 0===mf&&((mf=new ea).setAttribute("position",new Vi([0,0,0,0,1,0],3)),(vf=new cc(0,.5,1,5,1)).translate(0,-.5,0)),u.position.copy(r),u.line=new Nu(mf,new ku({color:a,toneMapped:!1})),u.line.matrixAutoUpdate=!1,u.add(u.line),u.cone=new ya(vf,new ki({color:a,toneMapped:!1})),u.cone.matrixAutoUpdate=!1,u.add(u.cone),u.setDirection(e),u.setLength(i,o,s),u}return Object(h.a)(n,[{key:"setDirection",value:function(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{xf.set(e.z,0,-e.x).normalize();var t=Math.acos(e.y);this.quaternion.setFromAxisAngle(xf,t)}}},{key:"setLength",value:function(e,t,n){void 0===t&&(t=.2*e),void 0===n&&(n=.2*t),this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}},{key:"setColor",value:function(e){this.line.material.color.set(e),this.cone.material.color.set(e)}},{key:"copy",value:function(e){return Object(a.a)(Object(o.a)(n.prototype),"copy",this).call(this,e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}}]),n}(oi),Mf=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;Object(d.a)(this,n);var i=[0,0,0,r,0,0,0,0,0,0,r,0,0,0,0,0,0,r],a=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],o=new ea;o.setAttribute("position",new Vi(i,3)),o.setAttribute("color",new Vi(a,3));var s=new ku({vertexColors:!0,toneMapped:!1});return(e=t.call(this,o,s)).type="AxesHelper",e}return n}(Uu),Ef=Math.pow(2,8),Af=[.125,.215,.35,.446,.526,.582],Sf=5+Af.length,Tf=(r={},Object(s.a)(r,sn,0),Object(s.a)(r,un,1),Object(s.a)(r,cn,2),Object(s.a)(r,hn,3),Object(s.a)(r,fn,4),Object(s.a)(r,pn,5),Object(s.a)(r,ln,6),r),Cf=new Rd,Df=function(){for(var e=[],t=[],n=[],r=8,i=0;i<Sf;i++){var a=Math.pow(2,r);t.push(a);var o=1/a;i>4?o=Af[i-8+4-1]:0==i&&(o=0),n.push(o);for(var s=1/(a-1),u=-s/2,l=1+s/2,c=[u,u,l,u,l,l,u,u,l,l,u,l],d=new Float32Array(108),h=new Float32Array(72),f=new Float32Array(36),p=0;p<6;p++){var m=p%3*2/3-1,v=p>2?0:-1,g=[m,v,0,m+2/3,v,0,m+2/3,v+1,0,m,v,0,m+2/3,v+1,0,m,v+1,0];d.set(g,18*p),h.set(c,12*p);var y=[p,p,p,p,p,p];f.set(y,6*p)}var b=new ea;b.setAttribute("position",new Pi(d,3)),b.setAttribute("uv",new Pi(h,2)),b.setAttribute("faceIndex",new Pi(f,1)),e.push(b),r>4&&r--}return{_lodPlanes:e,_sizeLods:t,_sigmas:n}}(),Rf=Df._lodPlanes,If=Df._sizeLods,kf=Df._sigmas,Of=null,Lf=(1+Math.sqrt(5))/2,Pf=1/Lf,Bf=[new sr(1,1,1),new sr(-1,1,1),new sr(1,1,-1),new sr(-1,1,-1),new sr(0,Lf,Pf),new sr(0,Lf,-Pf),new sr(Pf,0,Lf),new sr(-Pf,0,Lf),new sr(Lf,Pf,0),new sr(-Lf,Pf,0)],Ff=function(){function e(t){Object(d.a)(this,e),this._renderer=t,this._pingPongRenderTarget=null,this._blurMaterial=function(e){var t=new Float32Array(e),n=new sr(0,1,0);return new gc({name:"SphericalGaussianBlur",defines:{n:e},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:t},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:n},inputEncoding:{value:Tf[sn]},outputEncoding:{value:Tf[sn]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t".concat("\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t","\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t"),blending:D,depthTest:!1,depthWrite:!1})}(20),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}return Object(h.a)(e,[{key:"fromScene",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;Of=this._renderer.getRenderTarget();var i=this._allocateTargets();return this._sceneToCubeUV(e,n,r,i),t>0&&this._blur(i,0,0,t),this._applyPMREM(i),this._cleanup(i),i}},{key:"fromEquirectangular",value:function(e){return this._fromTexture(e)}},{key:"fromCubemap",value:function(e){return this._fromTexture(e)}},{key:"compileCubemapShader",value:function(){null===this._cubemapShader&&(this._cubemapShader=zf(),this._compileMaterial(this._cubemapShader))}},{key:"compileEquirectangularShader",value:function(){null===this._equirectShader&&(this._equirectShader=Uf(),this._compileMaterial(this._equirectShader))}},{key:"dispose",value:function(){this._blurMaterial.dispose(),null!==this._cubemapShader&&this._cubemapShader.dispose(),null!==this._equirectShader&&this._equirectShader.dispose();for(var e=0;e<Rf.length;e++)Rf[e].dispose()}},{key:"_cleanup",value:function(e){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(Of),e.scissorTest=!1,jf(e,0,0,e.width,e.height)}},{key:"_fromTexture",value:function(e){Of=this._renderer.getRenderTarget();var t=this._allocateTargets(e);return this._textureToCubeUV(e,t),this._applyPMREM(t),this._cleanup(t),t}},{key:"_allocateTargets",value:function(e){var t={magFilter:Ee,minFilter:Ee,generateMipmaps:!1,type:Le,format:Ke,encoding:Nf(e)?e.encoding:cn,depthBuffer:!1},n=Gf(t);return n.depthBuffer=!e,this._pingPongRenderTarget=Gf(t),n}},{key:"_compileMaterial",value:function(e){var t=new ya(Rf[0],e);this._renderer.compile(t,Cf)}},{key:"_sceneToCubeUV",value:function(e,t,n,r){var i=new Oa(90,1,t,n),a=[1,-1,1,1,1,1],o=[1,1,1,-1,-1,-1],s=this._renderer,u=s.outputEncoding,l=s.toneMapping,c=s.getClearColor(),d=s.getClearAlpha();s.toneMapping=ue,s.outputEncoding=sn;var h=e.background;if(h&&h.isColor){h.convertSRGBToLinear();var f=Math.max(h.r,h.g,h.b),p=Math.min(Math.max(Math.ceil(Math.log2(f)),-128),127);h=h.multiplyScalar(Math.pow(2,-p));var m=(p+128)/255;s.setClearColor(h,m),e.background=null}for(var v=0;v<6;v++){var g=v%3;0==g?(i.up.set(0,a[v],0),i.lookAt(o[v],0,0)):1==g?(i.up.set(0,0,a[v]),i.lookAt(0,o[v],0)):(i.up.set(0,a[v],0),i.lookAt(0,0,o[v])),jf(r,g*Ef,v>2?Ef:0,Ef,Ef),s.setRenderTarget(r),s.render(e,i)}s.toneMapping=l,s.outputEncoding=u,s.setClearColor(c,d)}},{key:"_textureToCubeUV",value:function(e,t){var n=this._renderer;e.isCubeTexture?null==this._cubemapShader&&(this._cubemapShader=zf()):null==this._equirectShader&&(this._equirectShader=Uf());var r=e.isCubeTexture?this._cubemapShader:this._equirectShader,i=new ya(Rf[0],r),a=r.uniforms;a.envMap.value=e,e.isCubeTexture||a.texelSize.value.set(1/e.image.width,1/e.image.height),a.inputEncoding.value=Tf[e.encoding],a.outputEncoding.value=Tf[t.texture.encoding],jf(t,0,0,3*Ef,2*Ef),n.setRenderTarget(t),n.render(i,Cf)}},{key:"_applyPMREM",value:function(e){var t=this._renderer,n=t.autoClear;t.autoClear=!1;for(var r=1;r<Sf;r++){var i=Math.sqrt(kf[r]*kf[r]-kf[r-1]*kf[r-1]),a=Bf[(r-1)%Bf.length];this._blur(e,r-1,r,i,a)}t.autoClear=n}},{key:"_blur",value:function(e,t,n,r,i){var a=this._pingPongRenderTarget;this._halfBlur(e,a,t,n,r,"latitudinal",i),this._halfBlur(a,e,n,n,r,"longitudinal",i)}},{key:"_halfBlur",value:function(e,t,n,r,i,a,o){var s=this._renderer,u=this._blurMaterial;"latitudinal"!==a&&"longitudinal"!==a&&console.error("blur direction must be either latitudinal or longitudinal!");var l=new ya(Rf[r],u),c=u.uniforms,d=If[n]-1,h=isFinite(i)?Math.PI/(2*d):2*Math.PI/39,f=i/h,p=isFinite(i)?1+Math.floor(3*f):20;p>20&&console.warn("sigmaRadians, ".concat(i,", is too large and will clip, as it requested ").concat(p," samples when the maximum is set to ").concat(20));for(var m=[],v=0,g=0;g<20;++g){var y=g/f,b=Math.exp(-y*y/2);m.push(b),0==g?v+=b:g<p&&(v+=2*b)}for(var _=0;_<m.length;_++)m[_]=m[_]/v;c.envMap.value=e.texture,c.samples.value=p,c.weights.value=m,c.latitudinal.value="latitudinal"===a,o&&(c.poleAxis.value=o),c.dTheta.value=h,c.mipInt.value=8-n,c.inputEncoding.value=Tf[e.texture.encoding],c.outputEncoding.value=Tf[e.texture.encoding];var x=If[r];jf(t,3*Math.max(0,Ef-2*x),(0===r?0:2*Ef)+2*x*(r>4?r-8+4:0),3*x,2*x),s.setRenderTarget(t),s.render(l,Cf)}}]),e}();function Nf(e){return void 0!==e&&e.type===Le&&(e.encoding===sn||e.encoding===un||e.encoding===ln)}function Gf(e){var t=new ir(3*Ef,3*Ef,e);return t.texture.mapping=be,t.texture.name="PMREM.cubeUv",t.scissorTest=!0,t}function jf(e,t,n,r,i){e.viewport.set(t,n,r,i),e.scissor.set(t,n,r,i)}function Uf(){return new gc({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:new Jn(1,1)},inputEncoding:{value:Tf[sn]},outputEncoding:{value:Tf[sn]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform vec2 texelSize;\n\n\t\t\t".concat("\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t","\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tvec2 f = fract( uv / texelSize - 0.5 );\n\t\t\t\tuv -= f * texelSize;\n\t\t\t\tvec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x += texelSize.x;\n\t\t\t\tvec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.y += texelSize.y;\n\t\t\t\tvec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x -= texelSize.x;\n\t\t\t\tvec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\n\t\t\t\tvec3 tm = mix( tl, tr, f.x );\n\t\t\t\tvec3 bm = mix( bl, br, f.x );\n\t\t\t\tgl_FragColor.rgb = mix( tm, bm, f.y );\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t"),blending:D,depthTest:!1,depthWrite:!1})}function zf(){return new gc({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:Tf[sn]},outputEncoding:{value:Tf[sn]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\t".concat("\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t","\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t"),blending:D,depthTest:!1,depthWrite:!1})}function Vf(e,t,n,r,i,a,o){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new Di(e,t,n,i,a,o)}var Hf=0,Wf=1,Xf=0,qf=1,Yf=2;function Qf(e){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),e}function Zf(e){return void 0===e&&(e=[]),console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),e.isMultiMaterial=!0,e.materials=e,e.clone=function(){return e.slice()},e}function Kf(e,t){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new Yu(e,t)}function Jf(e){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new gu(e)}function $f(e,t){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new Yu(e,t)}function ep(e){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new Vu(e)}function tp(e){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new Vu(e)}function np(e){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new Vu(e)}function rp(e,t,n){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new sr(e,t,n)}function ip(e,t){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead."),new Pi(e,t).setUsage(Bn)}function ap(e,t){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new Bi(e,t)}function op(e,t){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new Fi(e,t)}function sp(e,t){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new Ni(e,t)}function up(e,t){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new Gi(e,t)}function lp(e,t){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new ji(e,t)}function cp(e,t){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new Ui(e,t)}function dp(e,t){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new zi(e,t)}function hp(e,t){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new Vi(e,t)}function fp(e,t){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new Hi(e,t)}function pp(e){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),ud.call(this,e),this.type="catmullrom",this.closed=!0}function mp(e){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),ud.call(this,e),this.type="catmullrom"}function vp(e){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),ud.call(this,e),this.type="catmullrom"}function gp(e){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new Mf(e)}function yp(e,t){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new yf(e,t)}function bp(e,t){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new Uu(new uc(e.geometry),new ku({color:void 0!==t?t:16777215}))}function _p(e,t){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new Uu(new el(e.geometry),new ku({color:void 0!==t?t:16777215}))}function xp(e){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new qc(e)}function wp(e){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new Jc(e)}function Mp(e,t,n){return console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options )."),new Pa(e,n)}ed.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(ed.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},Object.assign(_d.prototype,{createPointsGeometry:function(e){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getPoints(e);return this.createGeometry(t)},createSpacedPointsGeometry:function(e){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getSpacedPoints(e);return this.createGeometry(t)},createGeometry:function(e){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var t=new Aa,n=0,r=e.length;n<r;n++){var i=e[n];t.vertices.push(new sr(i.x,i.y,i.z||0))}return t}}),Object.assign(xd.prototype,{fromPoints:function(e){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)}}),pp.prototype=Object.create(ud.prototype),mp.prototype=Object.create(ud.prototype),vp.prototype=Object.create(ud.prototype),Object.assign(vp.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),af.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},Jh.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(Wc.prototype,{extractUrlBase:function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),Nd.extractUrlBase(e)}}),Wc.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},Object.assign(Vd.prototype,{setTexturePath:function(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}}),Object.assign(zh.prototype,{center:function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},size:function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)}}),Object.assign(cr.prototype,{center:function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionSphere:function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},size:function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)}}),Object.assign(Sr.prototype,{empty:function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()}}),Ga.prototype.setFromMatrix=function(e){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(e)},Wh.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)},Object.assign(Kn,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(e){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),Kn.floorPowerOfTwo(e)},nextPowerOfTwo:function(e){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),Kn.ceilPowerOfTwo(e)}}),Object.assign($n.prototype,{flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},multiplyVector3:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBufferAttribute:function(e){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(Pr.prototype,{extractPosition:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},getPosition:function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new sr).setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector4:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBufferAttribute:function(e){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(e,t,n,r,i,a){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,r,n,i,a)}}),ci.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)},or.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},Object.assign(Lr.prototype,{isIntersectionBox:function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionPlane:function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},isIntersectionSphere:function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)}}),Object.assign(xi.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(e,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,t)},midpoint:function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},normal:function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},plane:function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)}}),Object.assign(xi,{barycoordFromPoint:function(e,t,n,r,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),xi.getBarycoord(e,t,n,r,i)},normal:function(e,t,n,r){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),xi.getNormal(e,t,n,r)}}),Object.assign(wd.prototype,{extractAllPoints:function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},extrude:function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new ql(this,e)},makeGeometry:function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new ac(this,e)}}),Object.assign(Jn.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(sr.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},applyProjection:function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},fromAttribute:function(e,t,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(rr.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Aa.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")},applyMatrix:function(e){return console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}}),Object.assign(oi.prototype,{getChildByName:function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},applyMatrix:function(e){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}}),Object.defineProperties(oi.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.assign(ya.prototype,{setDrawMode:function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}),Object.defineProperties(ya.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),rn},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),Object.defineProperties(xu.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(Au.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),wu.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(ed.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(e){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=e}}),Oa.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(Md.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Object.defineProperties(Pi.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===Bn},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(Bn)}}}),Object.assign(Pi.prototype,{setDynamic:function(e){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?Bn:Pn),this},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},setArray:function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(ea.prototype,{addIndex:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},addAttribute:function(e,t){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===e?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):this.setAttribute(e,t):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(e,new Pi(arguments[1],arguments[2])))},addDrawCall:function(e,t,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},removeAttribute:function(e){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(e)},applyMatrix:function(e){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}}),Object.defineProperties(ea.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(Gd.prototype,{maxInstancedCount:{get:function(){return console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount},set:function(e){console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount=e}}}),Object.defineProperties(Bh.prototype,{linePrecision:{get:function(){return console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold},set:function(e){console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold=e}}}),Object.defineProperties(eu.prototype,{dynamic:{get:function(){return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.usage===Bn},set:function(e){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(e)}}}),Object.assign(eu.prototype,{setDynamic:function(e){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?Bn:Pn),this},setArray:function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(Yl.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}}),Object.assign($s.prototype,{dispose:function(){console.error("THREE.Scene: .dispose() has been removed.")}}),Object.defineProperties(Oh.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(Ii.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Ci}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=e===T}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(e){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=e}}}),Object.defineProperties(_c.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(bc.prototype,{transparency:{get:function(){return console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission},set:function(e){console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission=e}}}),Object.defineProperties(Ia.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),Object.assign(Qs.prototype,{clearTarget:function(e,t,n,r){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(t,n,r)},animate:function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()}}),Object.defineProperties(Qs.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(e){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=!0===e?un:sn}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}}),Object.defineProperties(js.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(ir.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),Object.defineProperties(hh.prototype,{load:{value:function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var t=this;return(new eh).load(e,(function(e){t.setBuffer(e)})),this}},startTime:{set:function(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}}),yh.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},La.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)};var Ep={merge:function(e,t,n){var r;console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead."),t.isMesh&&(t.matrixAutoUpdate&&t.updateMatrix(),r=t.matrix,t=t.geometry),e.merge(t,r,n)},center:function(e){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),e.center()}};function Ap(){console.error("THREE.CanvasRenderer has been removed")}function Sp(){console.error("THREE.JSONLoader has been removed.")}er.crossOrigin=void 0,er.loadTexture=function(e,t,n,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var i=new $c;i.setCrossOrigin(this.crossOrigin);var a=i.load(e,n,void 0,r);return t&&(a.mapping=t),a},er.loadTextureCube=function(e,t,n,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var i=new Kc;i.setCrossOrigin(this.crossOrigin);var a=i.load(e,n,void 0,r);return t&&(a.mapping=t),a},er.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},er.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};var Tp={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")}};function Cp(){console.error("THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js")}"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:f}}))},function(e,t,n){"use strict";e.exports=n(75)},function(e,t,n){"use strict";n.d(t,"g",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"h",(function(){return c})),n.d(t,"c",(function(){return d}));var r=n(11),i=function(){},a=function(e,t,n){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})},o={arr:Array.isArray,obj:function(e){return!!e&&"Object"===e.constructor.name},fun:function(e){return"function"===typeof e},str:function(e){return"string"===typeof e},num:function(e){return"number"===typeof e},und:function(e){return void 0===e}};function s(e,t){if(o.arr(e)){if(!o.arr(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}var u=function(e){return o.str(e)&&("#"==e[0]||/\d/.test(e)||!(!r.colorNames||!r.colorNames[e]))},l=function(e,t,n){o.fun(e.forEach)?e.forEach(t,n):Object.keys(e).forEach((function(r){return t.call(n,e[r],r)}))},c=function(e){return o.und(e)?[]:o.arr(e)?e:[e]};function d(e,t){if(e.size){var n=Array.from(e);e.clear(),l(n,t)}}},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(34);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Object(r.a)(e,t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(13),i=n(46),a=n(49);function o(e){return function(){var t,n=Object(r.a)(e);if(Object(i.a)()){var o=Object(r.a)(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return Object(a.a)(this,t)}}},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return Ve})),n.d(t,"b",(function(){return He})),n.d(t,"c",(function(){return We})),n.d(t,"d",(function(){return Ae})),n.d(t,"e",(function(){return Xe})),n.d(t,"f",(function(){return qe})),n.d(t,"g",(function(){return Ye})),n.d(t,"h",(function(){return Qe})),n.d(t,"i",(function(){return Ze}));var r=n(36),i=n(35),a=n(44),o=n(47),s=n(28),u=n(45);function l(e){return Object(a.a)(e)||Object(o.a)(e)||Object(s.a)(e)||Object(u.a)()}var c,d=n(9),h=n(19),f=n(0),p=n(30),m=[],v="ResizeObserver loop completed with undelivered notifications.";!function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"}(c||(c={}));var g,y,b,_=function(){function e(e,t,n,r){return this.x=e,this.y=t,this.width=n,this.height=r,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Object.freeze(this)}return e.prototype.toJSON=function(){var e=this;return{x:e.x,y:e.y,top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),x=function(e){return e instanceof SVGElement&&"getBBox"in e},w=function(e){if(x(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var i=e,a=i.offsetWidth,o=i.offsetHeight;return!(a||o||e.getClientRects().length)},M=function(e){var t,n,r=null===(n=null===(t=e)||void 0===t?void 0:t.ownerDocument)||void 0===n?void 0:n.defaultView;return!!(r&&e instanceof r.Element)},E="undefined"!==typeof window?window:{},A=new WeakMap,S=/auto|scroll/,T=/^tb|vertical/,C=/msie|trident/i.test(E.navigator&&E.navigator.userAgent),D=function(e){return parseFloat(e||"0")},R=function(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=!1),Object.freeze({inlineSize:(n?t:e)||0,blockSize:(n?e:t)||0})},I=Object.freeze({devicePixelContentBoxSize:R(),borderBoxSize:R(),contentBoxSize:R(),contentRect:new _(0,0,0,0)}),k=function(e,t){if(void 0===t&&(t=!1),A.has(e)&&!t)return A.get(e);if(w(e))return A.set(e,I),I;var n=getComputedStyle(e),r=x(e)&&e.ownerSVGElement&&e.getBBox(),i=!C&&"border-box"===n.boxSizing,a=T.test(n.writingMode||""),o=!r&&S.test(n.overflowY||""),s=!r&&S.test(n.overflowX||""),u=r?0:D(n.paddingTop),l=r?0:D(n.paddingRight),c=r?0:D(n.paddingBottom),d=r?0:D(n.paddingLeft),h=r?0:D(n.borderTopWidth),f=r?0:D(n.borderRightWidth),p=r?0:D(n.borderBottomWidth),m=d+l,v=u+c,g=(r?0:D(n.borderLeftWidth))+f,y=h+p,b=s?e.offsetHeight-y-e.clientHeight:0,M=o?e.offsetWidth-g-e.clientWidth:0,E=i?m+g:0,k=i?v+y:0,O=r?r.width:D(n.width)-E-M,L=r?r.height:D(n.height)-k-b,P=O+m+M+g,B=L+v+b+y,F=Object.freeze({devicePixelContentBoxSize:R(Math.round(O*devicePixelRatio),Math.round(L*devicePixelRatio),a),borderBoxSize:R(P,B,a),contentBoxSize:R(O,L,a),contentRect:new _(d,u,O,L)});return A.set(e,F),F},O=function(e,t,n){var r=k(e,n),i=r.borderBoxSize,a=r.contentBoxSize,o=r.devicePixelContentBoxSize;switch(t){case c.DEVICE_PIXEL_CONTENT_BOX:return o;case c.BORDER_BOX:return i;default:return a}},L=function(e){var t=k(e);this.target=e,this.contentRect=t.contentRect,this.borderBoxSize=[t.borderBoxSize],this.contentBoxSize=[t.contentBoxSize],this.devicePixelContentBoxSize=[t.devicePixelContentBoxSize]},P=function(e){if(w(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},B=function(){var e=1/0,t=[];m.forEach((function(n){if(0!==n.activeTargets.length){var r=[];n.activeTargets.forEach((function(t){var n=new L(t.target),i=P(t.target);r.push(n),t.lastReportedSize=O(t.target,t.observedBox),i<e&&(e=i)})),t.push((function(){n.callback.call(n.observer,r,n.observer)})),n.activeTargets.splice(0,n.activeTargets.length)}}));for(var n=0,r=t;n<r.length;n++){(0,r[n])()}return e},F=function(e){m.forEach((function(t){t.activeTargets.splice(0,t.activeTargets.length),t.skippedTargets.splice(0,t.skippedTargets.length),t.observationTargets.forEach((function(n){n.isActive()&&(P(n.target)>e?t.activeTargets.push(n):t.skippedTargets.push(n))}))}))},N=function(){var e=0;for(F(e);m.some((function(e){return e.activeTargets.length>0}));)e=B(),F(e);return m.some((function(e){return e.skippedTargets.length>0}))&&function(){var e;"function"===typeof ErrorEvent?e=new ErrorEvent("error",{message:v}):((e=document.createEvent("Event")).initEvent("error",!1,!1),e.message=v),window.dispatchEvent(e)}(),e>0},G=[],j=function(e){if(!g){var t=0,n=document.createTextNode("");new MutationObserver((function(){return G.splice(0).forEach((function(e){return e()}))})).observe(n,{characterData:!0}),g=function(){n.textContent=""+(t?t--:t++)}}G.push(e),g()},U=0,z={attributes:!0,characterData:!0,childList:!0,subtree:!0},V=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],H=function(e){return void 0===e&&(e=0),Date.now()+e},W=!1,X=new(function(){function e(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return e.prototype.run=function(e){var t=this;if(void 0===e&&(e=250),!W){W=!0;var n,r=H(e);n=function(){var n=!1;try{n=N()}finally{if(W=!1,e=r-H(),!U)return;n?t.run(1e3):e>0?t.run(e):t.start()}},j((function(){requestAnimationFrame(n)}))}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var e=this,t=function(){return e.observer&&e.observer.observe(document.body,z)};document.body?t():E.addEventListener("DOMContentLoaded",t)},e.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),V.forEach((function(t){return E.addEventListener(t,e.listener,!0)})))},e.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),V.forEach((function(t){return E.removeEventListener(t,e.listener,!0)})),this.stopped=!0)},e}()),q=function(e){!U&&e>0&&X.start(),!(U+=e)&&X.stop()},Y=function(){function e(e,t){this.target=e,this.observedBox=t||c.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var e,t=O(this.target,this.observedBox,!0);return e=this.target,x(e)||function(e){switch(e.tagName){case"INPUT":if("image"!==e.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1}(e)||"inline"!==getComputedStyle(e).display||(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),Q=function(e,t){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=t},Z=new WeakMap,K=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},J=function(){function e(){}return e.connect=function(e,t){var n=new Q(e,t);Z.set(e,n)},e.observe=function(e,t,n){var r=Z.get(e),i=0===r.observationTargets.length;K(r.observationTargets,t)<0&&(i&&m.push(r),r.observationTargets.push(new Y(t,n&&n.box)),q(1),X.schedule())},e.unobserve=function(e,t){var n=Z.get(e),r=K(n.observationTargets,t),i=1===n.observationTargets.length;r>=0&&(i&&m.splice(m.indexOf(n),1),n.observationTargets.splice(r,1),q(-1))},e.disconnect=function(e){var t=this,n=Z.get(e);n.observationTargets.slice().forEach((function(n){return t.unobserve(e,n.target)})),n.activeTargets.splice(0,n.activeTargets.length)},e}(),$=function(){function e(e){if(0===arguments.length)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!==typeof e)throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");J.connect(this,e)}return e.prototype.observe=function(e,t){if(0===arguments.length)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!M(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");J.observe(this,e,t)},e.prototype.unobserve=function(e){if(0===arguments.length)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!M(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");J.unobserve(this,e)},e.prototype.disconnect=function(){J.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}(),ee=n(61),te=n(59),ne=n.n(te),re=n(60),ie=n(41),ae=n.n(ie),oe=n(43),se=n.n(oe),ue=n(1),le=n.n(ue),ce=n(10),de=n(3),he=(void((y=b={path:void 0,exports:{},require:function(){throw Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}}).exports=function(e){function t(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=nr&&e[nr]||e["@@iterator"])?e:null}function r(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case jn:return"Fragment";case Gn:return"Portal";case zn:return"Profiler";case Un:return"StrictMode";case Xn:return"Suspense";case qn:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case Hn:return(e.displayName||"Context")+".Consumer";case Vn:return(e._context.displayName||"Context")+".Provider";case Wn:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case Yn:return r(e.type);case Zn:return r(e._render);case Qn:t=e._payload,e=e._init;try{return r(e(t))}catch(n){}}return null}function i(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function a(e){if(i(e)!==e)throw Error(t(188))}function o(e){var n=e.alternate;if(!n){if(null===(n=i(e)))throw Error(t(188));return n!==e?null:e}for(var r=e,o=n;;){var s=r.return;if(null===s)break;var u=s.alternate;if(null===u){if(null!==(o=s.return)){r=o;continue}break}if(s.child===u.child){for(u=s.child;u;){if(u===r)return a(s),e;if(u===o)return a(s),n;u=u.sibling}throw Error(t(188))}if(r.return!==o.return)r=s,o=u;else{for(var l=!1,c=s.child;c;){if(c===r){l=!0,r=s,o=u;break}if(c===o){l=!0,o=s,r=u;break}c=c.sibling}if(!l){for(c=u.child;c;){if(c===r){l=!0,r=u,o=s;break}if(c===o){l=!0,o=u,r=s;break}c=c.sibling}if(!l)throw Error(t(189))}}if(r.alternate!==o)throw Error(t(190))}if(3!==r.tag)throw Error(t(188));return r.stateNode.current===r?e:n}function s(e){if(!(e=o(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function u(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}function l(e){if(void 0===tr)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);tr=t&&t[1]||""}return"\n"+tr+e}function c(e,t){if(!e||pi)return"";pi=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=s);break}}}finally{pi=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?l(e):""}function d(e){return{current:e}}function h(e){0>vi||(e.current=mi[vi],mi[vi]=null,vi--)}function f(e,t){vi++,mi[vi]=e.current,e.current=t}function p(e,t){var n=e.type.contextTypes;if(!n)return gi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function m(e){return null!==(e=e.childContextTypes)&&void 0!==e}function v(){h(bi),h(yi)}function g(e,n,r){if(yi.current!==gi)throw Error(t(168));f(yi,n),f(bi,r)}function b(e,n,i){var a=e.stateNode;if(e=n.childContextTypes,"function"!==typeof a.getChildContext)return i;for(var o in a=a.getChildContext())if(!(o in e))throw Error(t(108,r(n)||"Unknown",o));return Ln({},i,{},a)}function _(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||gi,_i=yi.current,f(yi,e),f(bi,bi.current),!0}function x(e,n,r){var i=e.stateNode;if(!i)throw Error(t(169));r?(e=b(e,n,_i),i.__reactInternalMemoizedMergedChildContext=e,h(bi),h(yi),f(yi,e)):h(bi),f(bi,r)}function w(e){if(0!==(1&e))return Ei=17,1;if(0!==(2&e))return Ei=16,2;if(0!==(4&e))return Ei=15,4;var t=24&e;return 0!==t?(Ei=14,t):0!==(32&e)?(Ei=13,32):0!==(t=192&e)?(Ei=12,t):0!==(256&e)?(Ei=11,256):0!==(t=3584&e)?(Ei=10,t):0!==(4096&e)?(Ei=9,4096):0!==(t=122880&e)?(Ei=8,t):0!==(131072&e)?(Ei=7,131072):0!==(t=3932160&e)?(Ei=6,t):0!==(t=62914560&e)?(Ei=5,t):67108864&e?(Ei=4,67108864):0!==(134217728&e)?(Ei=3,134217728):0!==(t=805306368&e)?(Ei=2,t):0!==(1073741824&e)?(Ei=1,1073741824):(Ei=10,e)}function M(e){switch(e){case 17:case 16:return 99;case 15:case 14:case 13:case 12:return 98;case 11:case 10:case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(t(358,e))}}function E(e,t){var n=e.pendingLanes;if(0===n)return Ei=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,s=e.pingedLanes;if(0!==a)r=a,i=Ei=17;else if(0!==(a=134217727&n)){var u=a&~o;0!==u?(r=w(u),i=Ei):0!==(s&=a)&&(r=w(s),i=Ei)}else 0!==(a=n&~o)?(r=w(a),i=Ei):0!==s&&(r=w(s),i=Ei);if(0===r)return 0;if(r=n&((0>(r=31-Ai(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(w(t),i<=Ei)return t;Ei=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Ai(t)),r|=e[n],t&=~i;return r}function A(e,t){e=e.eventTimes;for(var n=-1;0<t;){var r=31-Ai(t),i=1<<r;(r=e[r])>n&&(n=r),t&=~i}return n}function S(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function T(e,n){switch(e){case 17:return 1;case 16:return 2;case 14:return 0===(e=C(24&~n))?T(12,n):e;case 12:return 0===(e=C(192&~n))?T(10,n):e;case 10:return 0===(e=C(3584&~n))&&0===(e=C(4055040&~n))&&(e=512),e;case 2:return 0===(n=C(805306368&~n))&&(n=268435456),n}throw Error(t(358,e))}function C(e){return e&-e}function D(e){return e&-e}function R(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Ai(t)]=n}function I(){switch(Li()){case Pi:return 99;case Bi:return 98;case Fi:return 97;case Ni:return 96;case Gi:return 95;default:throw Error(t(332))}}function k(e){switch(e){case 99:return Pi;case 98:return Bi;case 97:return Fi;case 96:return Ni;case 95:return Gi;default:throw Error(t(332))}}function O(e,t){return e=k(e),Ci(e,t)}function L(e,t,n){return e=k(e),Di(e,t,n)}function P(){if(null!==Vi){var e=Vi;Vi=null,Ri(e)}B()}function B(){if(!Hi&&null!==zi){Hi=!0;var e=0;try{var t=zi;O(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),zi=null}catch(n){throw null!==zi&&(zi=zi.slice(e+1)),Di(Pi,P),n}finally{Hi=!1}}}function F(e){switch(e.tag){case 5:return l(e.type);case 16:return l("Lazy");case 13:return l("Suspense");case 19:return l("SuspenseList");case 0:case 2:case 15:return e=c(e.type,!1);case 11:return e=c(e.type.render,!1);case 22:return e=c(e.type._render,!1);case 1:return e=c(e.type,!0);default:return""}}function N(e,t){if(qi(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Yi.call(t,n[r])||!qi(e[n[r]],t[n[r]]))return!1;return!0}function G(e,t){if(e&&e.defaultProps)for(var n in t=Ln({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}function j(e,t){e=e.type._context,gr?(f(Qi,e._currentValue),e._currentValue=t):(f(Qi,e._currentValue2),e._currentValue2=t)}function U(e){var t=Qi.current;h(Qi),e=e.type._context,gr?e._currentValue=t:e._currentValue2=t}function z(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function V(e,t){Zi=e,Ji=Ki=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Ca=!0),e.firstContext=null)}function H(e,n){if(Ji!==e&&!1!==n&&0!==n)if("number"===typeof n&&1073741823!==n||(Ji=e,n=1073741823),n={context:e,observedBits:n,next:null},null===Ki){if(null===Zi)throw Error(t(308));Ki=n,Zi.dependencies={lanes:0,firstContext:n,responders:null}}else Ki=Ki.next=n;return gr?e._currentValue:e._currentValue2}function W(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function X(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function q(e,t,n){return{eventTime:e,lane:t,suspenseConfig:n,tag:0,payload:null,callback:null,next:null}}function Y(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function Q(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,suspenseConfig:n.suspenseConfig,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n}else null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Z(e,t,n,r){var i=e.updateQueue;$i=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,l=u.next;u.next=null,null===o?a=l:o.next=l,o=u;var c=e.alternate;if(null!==c){var d=(c=c.updateQueue).lastBaseUpdate;d!==o&&(null===d?c.firstBaseUpdate=l:d.next=l,c.lastBaseUpdate=u)}}if(null!==a){for(d=i.baseState,o=0,c=l=u=null;;){s=a.lane;var h=a.eventTime;if((r&s)===s){null!==c&&(c=c.next={eventTime:h,lane:0,suspenseConfig:a.suspenseConfig,tag:a.tag,payload:a.payload,callback:a.callback,next:null}),en(h,a.suspenseConfig);e:{var f=e,p=a;switch(s=t,h=n,p.tag){case 1:if("function"===typeof(f=p.payload)){d=f.call(h,d,s);break e}d=f;break e;case 3:f.effectTag=-4097&f.effectTag|64;case 0:if(null===(s="function"===typeof(f=p.payload)?f.call(h,d,s):f)||void 0===s)break e;d=Ln({},d,s);break e;case 2:$i=!0}}null!==a.callback&&(e.effectTag|=32,null===(s=i.effects)?i.effects=[a]:s.push(a))}else h={eventTime:h,lane:s,suspenseConfig:a.suspenseConfig,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(l=c=h,u=d):c=c.next=h,o|=s;if(null===(a=a.next)){if(null===(s=i.shared.pending))break;a=s.next,s.next=null,i.lastBaseUpdate=s,i.shared.pending=null}}null===c&&(u=d),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,io|=o,e.lanes=o,e.memoizedState=d}}function K(e,n,r){if(e=n.effects,n.effects=null,null!==e)for(n=0;n<e.length;n++){var i=e[n],a=i.callback;if(null!==a){if(i.callback=null,i=r,"function"!==typeof a)throw Error(t(191,a));a.call(i)}}}function J(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:Ln({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}function $(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||!N(n,r)||!N(i,a)}function ee(e,t,n){var r=!1,i=gi,a=t.contextType;return"object"===typeof a&&null!==a?a=H(a):(i=m(t)?_i:yi.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?p(e,i):gi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=na,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function te(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&na.enqueueReplaceState(t,t.state,null)}function ne(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ta,W(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=H(a):(a=m(t)?_i:yi.current,i.context=p(e,a)),Z(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(J(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&na.enqueueReplaceState(i,i.state,null),Z(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.effectTag|=4)}function re(e,n,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(t(309));var i=r.stateNode}if(!i)throw Error(t(147,e));var a=""+e;return null!==n&&null!==n.ref&&"function"===typeof n.ref&&n.ref._stringRef===a?n.ref:((n=function(e){var t=i.refs;t===ta&&(t=i.refs={}),null===e?delete t[a]:t[a]=e})._stringRef=a,n)}if("string"!==typeof e)throw Error(t(284));if(!r._owner)throw Error(t(290,e))}return e}function ie(e,n){if("textarea"!==e.type)throw Error(t(31,"[object Object]"===Object.prototype.toString.call(n)?"object with keys {"+Object.keys(n).join(", ")+"}":n))}function oe(e){function i(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function a(t,n){if(!e)return null;for(;null!==n;)i(t,n),n=n.sibling;return null}function o(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function s(e,t){return(e=xn(e,t)).index=0,e.sibling=null,e}function u(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function l(t){return e&&null===t.alternate&&(t.effectTag=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=An(n,e.mode,r)).return=e,t):((t=s(t,n)).return=e,t)}function d(e,t,n,r){return null!==t&&t.elementType===n.type?((r=s(t,n.props)).ref=re(e,t,n),r.return=e,r):((r=wn(n.type,n.key,n.props,null,e.mode,r)).ref=re(e,t,n),r.return=e,r)}function h(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Sn(n,e.mode,r)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function f(e,t,n,r,i){return null===t||7!==t.tag?((t=Mn(n,e.mode,r,i)).return=e,t):((t=s(t,n)).return=e,t)}function p(e,t,r){if("string"===typeof t||"number"===typeof t)return(t=An(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case Nn:return(r=wn(t.type,t.key,t.props,null,e.mode,r)).ref=re(e,null,t),r.return=e,r;case Gn:return(t=Sn(t,e.mode,r)).return=e,t}if(ra(t)||n(t))return(t=Mn(t,e.mode,r,null)).return=e,t;ie(e,t)}return null}function m(e,t,r,i){var a=null!==t?t.key:null;if("string"===typeof r||"number"===typeof r)return null!==a?null:c(e,t,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case Nn:return r.key===a?r.type===jn?f(e,t,r.props.children,i,a):d(e,t,r,i):null;case Gn:return r.key===a?h(e,t,r,i):null}if(ra(r)||n(r))return null!==a?null:f(e,t,r,i,null);ie(e,r)}return null}function v(e,t,r,i,a){if("string"===typeof i||"number"===typeof i)return c(t,e=e.get(r)||null,""+i,a);if("object"===typeof i&&null!==i){switch(i.$$typeof){case Nn:return e=e.get(null===i.key?r:i.key)||null,i.type===jn?f(t,e,i.props.children,a,i.key):d(t,e,i,a);case Gn:return h(t,e=e.get(null===i.key?r:i.key)||null,i,a)}if(ra(i)||n(i))return f(t,e=e.get(r)||null,i,a,null);ie(t,i)}return null}function g(t,n,r,s){for(var l=null,c=null,d=n,h=n=0,f=null;null!==d&&h<r.length;h++){d.index>h?(f=d,d=null):f=d.sibling;var g=m(t,d,r[h],s);if(null===g){null===d&&(d=f);break}e&&d&&null===g.alternate&&i(t,d),n=u(g,n,h),null===c?l=g:c.sibling=g,c=g,d=f}if(h===r.length)return a(t,d),l;if(null===d){for(;h<r.length;h++)null!==(d=p(t,r[h],s))&&(n=u(d,n,h),null===c?l=d:c.sibling=d,c=d);return l}for(d=o(t,d);h<r.length;h++)null!==(f=v(d,t,h,r[h],s))&&(e&&null!==f.alternate&&d.delete(null===f.key?h:f.key),n=u(f,n,h),null===c?l=f:c.sibling=f,c=f);return e&&d.forEach((function(e){return i(t,e)})),l}function y(r,s,l,c){var d=n(l);if("function"!==typeof d)throw Error(t(150));if(null==(l=d.call(l)))throw Error(t(151));for(var h=d=null,f=s,g=s=0,y=null,b=l.next();null!==f&&!b.done;g++,b=l.next()){f.index>g?(y=f,f=null):y=f.sibling;var _=m(r,f,b.value,c);if(null===_){null===f&&(f=y);break}e&&f&&null===_.alternate&&i(r,f),s=u(_,s,g),null===h?d=_:h.sibling=_,h=_,f=y}if(b.done)return a(r,f),d;if(null===f){for(;!b.done;g++,b=l.next())null!==(b=p(r,b.value,c))&&(s=u(b,s,g),null===h?d=b:h.sibling=b,h=b);return d}for(f=o(r,f);!b.done;g++,b=l.next())null!==(b=v(f,r,g,b.value,c))&&(e&&null!==b.alternate&&f.delete(null===b.key?g:b.key),s=u(b,s,g),null===h?d=b:h.sibling=b,h=b);return e&&f.forEach((function(e){return i(r,e)})),d}return function(e,o,u,c){var d="object"===typeof u&&null!==u&&u.type===jn&&null===u.key;d&&(u=u.props.children);var h="object"===typeof u&&null!==u;if(h)switch(u.$$typeof){case Nn:e:{for(h=u.key,d=o;null!==d;){if(d.key===h){switch(d.tag){case 7:if(u.type===jn){a(e,d.sibling),(o=s(d,u.props.children)).return=e,e=o;break e}break;default:if(d.elementType===u.type){a(e,d.sibling),(o=s(d,u.props)).ref=re(e,d,u),o.return=e,e=o;break e}}a(e,d);break}i(e,d),d=d.sibling}u.type===jn?((o=Mn(u.props.children,e.mode,c,u.key)).return=e,e=o):((c=wn(u.type,u.key,u.props,null,e.mode,c)).ref=re(e,o,u),c.return=e,e=c)}return l(e);case Gn:e:{for(d=u.key;null!==o;){if(o.key===d){if(4===o.tag&&o.stateNode.containerInfo===u.containerInfo&&o.stateNode.implementation===u.implementation){a(e,o.sibling),(o=s(o,u.children||[])).return=e,e=o;break e}a(e,o);break}i(e,o),o=o.sibling}(o=Sn(u,e.mode,c)).return=e,e=o}return l(e)}if("string"===typeof u||"number"===typeof u)return u=""+u,null!==o&&6===o.tag?(a(e,o.sibling),(o=s(o,u)).return=e,e=o):(a(e,o),(o=An(u,e.mode,c)).return=e,e=o),l(e);if(ra(u))return g(e,o,u,c);if(n(u))return y(e,o,u,c);if(h&&ie(e,u),"undefined"===typeof u&&!d)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(t(152,r(e.type)||"Component"))}return a(e,o)}}function ue(e){if(e===oa)throw Error(t(174));return e}function ce(e,t){f(la,t),f(ua,e),f(sa,oa),e=ir(t),h(sa),f(sa,e)}function de(){h(sa),h(ua),h(la)}function he(e){var t=ue(la.current),n=ue(sa.current);n!==(t=ar(n,e.type,t))&&(f(ua,e),f(sa,t))}function fe(e){ua.current===e&&(h(sa),h(ua))}function pe(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||ai(n)||oi(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function me(e,t){var n=bn(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function ve(e,t){switch(e.tag){case 5:return null!==(t=ri(t,e.type,e.pendingProps))&&(e.stateNode=t,!0);case 6:return null!==(t=ii(t,e.pendingProps))&&(e.stateNode=t,!0);case 13:default:return!1}}function ge(e){if(fa){var t=ha;if(t){var n=t;if(!ve(e,t)){if(!(t=si(n))||!ve(e,t))return e.effectTag=-1025&e.effectTag|2,fa=!1,void(da=e);me(da,n)}da=e,ha=ui(t)}else e.effectTag=-1025&e.effectTag|2,fa=!1,da=e}}function ye(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;da=e}function be(e){if(!_r||e!==da)return!1;if(!fa)return ye(e),fa=!0,!1;var n=e.type;if(5!==e.tag||"head"!==n&&"body"!==n&&!hr(n,e.memoizedProps))for(n=ha;n;)me(e,n),n=si(n);if(ye(e),13===e.tag){if(!_r)throw Error(t(316));if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(t(317));ha=di(e)}else ha=da?si(e.stateNode):null;return!0}function _e(){_r&&(ha=da=null,fa=!1)}function xe(){for(var e=0;e<pa.length;e++){var t=pa[e];gr?t._workInProgressVersionPrimary=null:t._workInProgressVersionSecondary=null}pa.length=0}function we(){throw Error(t(321))}function Me(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!qi(e[n],t[n]))return!1;return!0}function Ee(e,n,r,i,a,o){if(ga=o,ya=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,ma.current=null===e||null===e.memoizedState?Ea:Aa,e=r(i,a),wa){o=0;do{if(wa=!1,!(25>o))throw Error(t(301));o+=1,_a=ba=null,n.updateQueue=null,ma.current=Sa,e=r(i,a)}while(wa)}if(ma.current=Ma,n=null!==ba&&null!==ba.next,ga=0,_a=ba=ya=null,xa=!1,n)throw Error(t(300));return e}function Ae(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===_a?ya.memoizedState=_a=e:_a=_a.next=e,_a}function Se(){if(null===ba){var e=ya.alternate;e=null!==e?e.memoizedState:null}else e=ba.next;var n=null===_a?ya.memoizedState:_a.next;if(null!==n)_a=n,ba=e;else{if(null===e)throw Error(t(310));e={memoizedState:(ba=e).memoizedState,baseState:ba.baseState,baseQueue:ba.baseQueue,queue:ba.queue,next:null},null===_a?ya.memoizedState=_a=e:_a=_a.next=e}return _a}function Te(e,t){return"function"===typeof t?t(e):t}function Ce(e){var n=Se(),r=n.queue;if(null===r)throw Error(t(311));r.lastRenderedReducer=e;var i=ba,a=i.baseQueue,o=r.pending;if(null!==o){if(null!==a){var s=a.next;a.next=o.next,o.next=s}i.baseQueue=a=o,r.pending=null}if(null!==a){a=a.next,i=i.baseState;var u=s=o=null,l=a;do{var c=l.suspenseConfig,d=l.lane,h=l.eventTime;(ga&d)===d?(null!==u&&(u=u.next={eventTime:h,lane:0,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),en(h,c),i=l.eagerReducer===e?l.eagerState:e(i,l.action)):(c={eventTime:h,lane:d,suspenseConfig:c,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null},null===u?(s=u=c,o=i):u=u.next=c,ya.lanes|=d,io|=d),l=l.next}while(null!==l&&l!==a);null===u?o=i:u.next=s,qi(i,n.memoizedState)||(Ca=!0),n.memoizedState=i,n.baseState=o,n.baseQueue=u,r.lastRenderedState=i}return[n.memoizedState,r.dispatch]}function De(e){var n=Se(),r=n.queue;if(null===r)throw Error(t(311));r.lastRenderedReducer=e;var i=r.dispatch,a=r.pending,o=n.memoizedState;if(null!==a){r.pending=null;var s=a=a.next;do{o=e(o,s.action),s=s.next}while(s!==a);qi(o,n.memoizedState)||(Ca=!0),n.memoizedState=o,null===n.baseQueue&&(n.baseState=o),r.lastRenderedState=o}return[o,i]}function Re(e,n,r){var i=n._getVersion;i=i(n._source);var a=gr?n._workInProgressVersionPrimary:n._workInProgressVersionSecondary;if(null!==a?e=a===i:(e=e.mutableReadLanes,(e=(ga&e)===e)&&(gr?n._workInProgressVersionPrimary=i:n._workInProgressVersionSecondary=i,pa.push(n))),e)return r(n._source);throw pa.push(n),Error(t(350))}function Ie(e,n,r,i){var a=Ya;if(null===a)throw Error(t(349));var o=n._getVersion,s=o(n._source),u=ma.current,l=u.useState((function(){return Re(a,n,r)})),c=l[1],d=l[0];l=_a;var h=e.memoizedState,f=h.refs,p=f.getSnapshot,m=h.source;h=h.subscribe;var v=ya;return e.memoizedState={refs:f,source:n,subscribe:i},u.useEffect((function(){f.getSnapshot=r,f.setSnapshot=c;var e=o(n._source);if(!qi(s,e)){e=r(n._source),qi(d,e)||(c(e),e=jt(v,ea.suspense),a.mutableReadLanes|=e&a.pendingLanes),e=a.mutableReadLanes,a.entangledLanes|=e;for(var t=a.entanglements,i=e;0<i;){var u=31-Ai(i),l=1<<u;t[u]|=e,i&=~l}}}),[r,n,i]),u.useEffect((function(){return i(n._source,(function(){var e=f.getSnapshot,t=f.setSnapshot;try{t(e(n._source));var r=jt(v,ea.suspense);a.mutableReadLanes|=r&a.pendingLanes}catch(i){t((function(){throw i}))}}))}),[n,i]),qi(p,r)&&qi(m,n)&&qi(h,i)||((e={pending:null,dispatch:null,lastRenderedReducer:Te,lastRenderedState:d}).dispatch=c=Ye.bind(null,ya,e),l.queue=e,l.baseQueue=null,d=Re(a,n,r),l.memoizedState=l.baseState=d),d}function ke(e,t,n){return Ie(Se(),e,t,n)}function Oe(e){var t=Ae();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Te,lastRenderedState:e}).dispatch=Ye.bind(null,ya,e),[t.memoizedState,e]}function Le(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ya.updateQueue)?(t={lastEffect:null},ya.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Pe(){return Se().memoizedState}function Be(e,t,n,r){var i=Ae();ya.effectTag|=e,i.memoizedState=Le(1|t,n,void 0,void 0===r?null:r)}function Fe(e,t,n,r){var i=Se();r=void 0===r?null:r;var a=void 0;if(null!==ba){var o=ba.memoizedState;if(a=o.destroy,null!==r&&Me(r,o.deps))return void Le(t,n,a,r)}ya.effectTag|=e,i.memoizedState=Le(1|t,n,a,r)}function Ne(e,t){return Be(516,4,e,t)}function Ge(e,t){return Fe(516,4,e,t)}function je(e,t){return Fe(4,2,e,t)}function Ue(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ze(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Fe(4,2,Ue.bind(null,t,e),n)}function Ve(){}function He(e,t){return Ae().memoizedState=[e,void 0===t?null:t],e}function We(e,t){var n=Se();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Me(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xe(e,t){var n=Se();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Me(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qe(e,t,n){var r=I();O(98>r?98:r,(function(){e(!0)})),O(97<r?97:r,(function(){var r=va.suspense;va.suspense=void 0===t?null:t;try{e(!1),n()}finally{va.suspense=r}}))}function Ye(e,t,n){var r=Gt(),i=ea.suspense,a=jt(e,i);i={eventTime:r,lane:a,suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var o=t.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),t.pending=i,o=e.alternate,e===ya||null!==o&&o===ya)wa=xa=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=o(s,n);if(i.eagerReducer=o,i.eagerState=u,qi(u,s))return}catch(l){}Ut(e,a,r)}}function Qe(e,t,n,r){t.child=null===e?aa(t,null,n,r):ia(t,e.child,n,r)}function Ze(e,t,n,r,i){n=n.render;var a=t.ref;return V(t,i),r=Ee(e,t,n,r,a,i),null===e||Ca?(t.effectTag|=1,Qe(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.lanes&=~i,dt(e,t,i))}function Ke(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||_n(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=wn(n.type,null,r,null,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Je(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:N)(i,r)&&e.ref===t.ref)?dt(e,t,a):(t.effectTag|=1,(e=xn(o,r)).ref=t.ref,e.return=t,t.child=e)}function Je(e,t,n,r,i,a){if(null!==e&&N(e.memoizedProps,r)&&e.ref===t.ref){if(Ca=!1,0===(a&i))return t.lanes=e.lanes,dt(e,t,a);0!==(16384&e.effectTag)&&(Ca=!0)}return tt(e,t,n,r,a)}function $e(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},Qt(0,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Qt(0,e),null;t.memoizedState={baseLanes:0},Qt(0,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Qt(0,r);return Qe(e,t,i,n),t.child}function et(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function tt(e,t,n,r,i){var a=m(n)?_i:yi.current;return a=p(t,a),V(t,i),n=Ee(e,t,n,r,a,i),null===e||Ca?(t.effectTag|=1,Qe(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.lanes&=~i,dt(e,t,i))}function nt(e,t,n,r,i){if(m(n)){var a=!0;_(t)}else a=!1;if(V(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),ee(t,n,r),ne(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,l=n.contextType;l="object"===typeof l&&null!==l?H(l):p(t,l=m(n)?_i:yi.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==l)&&te(t,o,r,l),$i=!1;var h=t.memoizedState;o.state=h,Z(t,r,o,i),u=t.memoizedState,s!==r||h!==u||bi.current||$i?("function"===typeof c&&(J(t,n,c,r),u=t.memoizedState),(s=$i||$(t,n,s,r,h,u,l))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.effectTag|=4)):("function"===typeof o.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=s):("function"===typeof o.componentDidMount&&(t.effectTag|=4),r=!1)}else{o=t.stateNode,X(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:G(t.type,s),o.props=l,d=t.pendingProps,h=o.context,u="object"===typeof(u=n.contextType)&&null!==u?H(u):p(t,u=m(n)?_i:yi.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||h!==u)&&te(t,o,r,u),$i=!1,h=t.memoizedState,o.state=h,Z(t,r,o,i);var v=t.memoizedState;s!==d||h!==v||bi.current||$i?("function"===typeof f&&(J(t,n,f,r),v=t.memoizedState),(l=$i||$(t,n,l,r,h,v,u))?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,v,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,v,u)),"function"===typeof o.componentDidUpdate&&(t.effectTag|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=v),o.props=r,o.state=v,o.context=u,r=l):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.effectTag|=256),r=!1)}return rt(e,t,n,r,a,i)}function rt(e,t,n,r,i,a){et(e,t);var o=0!==(64&t.effectTag);if(!r&&!o)return i&&x(t,n,!1),dt(e,t,a);r=t.stateNode,Ta.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&o?(t.child=ia(t,e.child,null,a),t.child=ia(t,null,s,a)):Qe(e,t,s,a),t.memoizedState=r.state,i&&x(t,n,!0),t.child}function it(e){var t=e.stateNode;t.pendingContext?g(0,t.pendingContext,t.pendingContext!==t.context):t.context&&g(0,t.context,!1),ce(e,t.containerInfo)}function at(e,t,n){var r,i=t.pendingProps,a=ca.current,o=!1;return(r=0!==(64&t.effectTag))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),f(ca,1&a),null===e?(void 0!==i.fallback&&ge(t),o?(e=i.fallback,a=t.mode,o=t.child,i={mode:"hidden",children:i.children},0===(2&a)&&null!==o?(o.childLanes=0,o.pendingProps=i):o=En(i,a,0,null),e=Mn(e,a,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState={baseLanes:n},t.memoizedState=Da,e):((n=En({mode:"visible",children:i.children},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=st(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Da,i):(n=ot(e,t,i.children,n),t.memoizedState=null,n))}function ot(e,t,n,r){var i=e.child;return e=i.sibling,n=xn(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.effectTag=8,t.firstEffect=t.lastEffect=e),t.child=n}function st(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var s={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=s,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=xn(o,s),null!==e?r=xn(e,r):(r=Mn(r,a,i,null)).effectTag|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ut(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),z(e.return,t)}function lt(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailExpiration=0,o.tailMode=i,o.lastEffect=a)}function ct(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Qe(e,t,r.children,n),0!==(2&(r=ca.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!==(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ut(e,n);else if(19===e.tag)ut(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(f(ca,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===pe(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),lt(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===pe(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}lt(t,!0,n,null,a,t.lastEffect);break;case"together":lt(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function dt(e,n,r){if(null!==e&&(n.dependencies=e.dependencies),io|=n.lanes,0!==(r&n.childLanes)){if(null!==e&&n.child!==e.child)throw Error(t(153));if(null!==n.child){for(r=xn(e=n.child,e.pendingProps),n.child=r,r.return=n;null!==e.sibling;)e=e.sibling,(r=r.sibling=xn(e,e.pendingProps)).return=n;r.sibling=null}return n.child}return null}function ht(e,t){if(!fa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ft(e,n,r){var i=n.pendingProps;switch(n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return m(n.type)&&v(),null;case 3:return de(),h(bi),h(yi),xe(),(i=n.stateNode).pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==e&&null!==e.child||(be(n)?n.effectTag|=4:i.hydrate||(n.effectTag|=256)),Ia(n),null;case 5:fe(n);var a=ue(la.current);if(r=n.type,null!==e&&null!=n.stateNode)ka(e,n,r,i,a),e.ref!==n.ref&&(n.effectTag|=128);else{if(!i){if(null===n.stateNode)throw Error(t(166));return null}if(e=ue(sa.current),be(n)){if(!_r)throw Error(t(175));e=li(n.stateNode,n.type,n.memoizedProps,a,e,n),n.updateQueue=e,null!==e&&(n.effectTag|=4)}else{var o=ur(r,i,a,e,n);Ra(o,n,!1,!1),n.stateNode=o,cr(o,r,i,a,e)&&(n.effectTag|=4)}null!==n.ref&&(n.effectTag|=128)}return null;case 6:if(e&&null!=n.stateNode)Oa(e,n,e.memoizedProps,i);else{if("string"!==typeof i&&null===n.stateNode)throw Error(t(166));if(e=ue(la.current),a=ue(sa.current),be(n)){if(!_r)throw Error(t(176));ci(n.stateNode,n.memoizedProps,n)&&(n.effectTag|=4)}else n.stateNode=fr(i,e,a,n)}return null;case 13:return h(ca),i=n.memoizedState,0!==(64&n.effectTag)?(n.lanes=r,n):(i=null!==i,a=!1,null===e?void 0!==n.memoizedProps.fallback&&be(n):a=null!==e.memoizedState,i&&!a&&0!==(2&n.mode)&&(null===e&&!0!==n.memoizedProps.unstable_avoidThisFallback||0!==(1&ca.current)?0===$a&&($a=3):(0!==$a&&3!==$a||($a=4),null===Ya||0===(134217727&io)&&0===(134217727&ao)||Wt(Ya,Za))),br&&i&&(n.effectTag|=4),yr&&(i||a)&&(n.effectTag|=4),null);case 4:return de(),Ia(n),null===e&&Sr(n.stateNode.containerInfo),null;case 10:return U(n),null;case 17:return m(n.type)&&v(),null;case 19:if(h(ca),null===(i=n.memoizedState))return null;if(a=0!==(64&n.effectTag),null===(o=i.rendering)){if(a)ht(i,!1);else if(0!==$a||null!==e&&0!==(64&e.effectTag))for(e=n.child;null!==e;){if(null!==(o=pe(e))){for(n.effectTag|=64,ht(i,!1),null!==(e=o.updateQueue)&&(n.updateQueue=e,n.effectTag|=4),null===i.lastEffect&&(n.firstEffect=null),n.lastEffect=i.lastEffect,e=r,i=n.child;null!==i;)r=e,(a=i).effectTag&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(o=a.alternate)?(a.childLanes=0,a.lanes=r,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,r=o.dependencies,a.dependencies=null===r?null:{lanes:r.lanes,firstContext:r.firstContext}),i=i.sibling;return f(ca,1&ca.current|2),n.child}e=e.sibling}}else{if(!a)if(null!==(e=pe(o))){if(n.effectTag|=64,a=!0,null!==(e=e.updateQueue)&&(n.updateQueue=e,n.effectTag|=4),ht(i,!0),null===i.tail&&"hidden"===i.tailMode&&!o.alternate&&!fa)return null!==(n=n.lastEffect=i.lastEffect)&&(n.nextEffect=null),null}else 2*Xi()-i.renderingStartTime>i.tailExpiration&&1073741824!==r&&(n.effectTag|=64,a=!0,ht(i,!1),n.lanes=r);i.isBackwards?(o.sibling=n.child,n.child=o):(null!==(e=i.last)?e.sibling=o:n.child=o,i.last=o)}return null!==i.tail?(0===i.tailExpiration&&(i.tailExpiration=Xi()+500),e=i.tail,i.rendering=e,i.tail=e.sibling,i.lastEffect=n.lastEffect,i.renderingStartTime=Xi(),e.sibling=null,n=ca.current,f(ca,a?1&n|2:1&n),e):null;case 23:case 24:return Zt(),null!==e&&null!==e.memoizedState!==(null!==n.memoizedState)&&"unstable-defer-without-hiding"!==i.mode&&(n.effectTag|=4),null}throw Error(t(156,n.tag))}function pt(e){switch(e.tag){case 1:m(e.type)&&v();var n=e.effectTag;return 4096&n?(e.effectTag=-4097&n|64,e):null;case 3:if(de(),h(bi),h(yi),xe(),0!==(64&(n=e.effectTag)))throw Error(t(285));return e.effectTag=-4097&n|64,e;case 5:return fe(e),null;case 13:return h(ca),4096&(n=e.effectTag)?(e.effectTag=-4097&n|64,e):null;case 19:return h(ca),null;case 4:return de(),null;case 10:return U(e),null;case 23:case 24:return Zt(),null;default:return null}}function mt(e,t){try{var n="",r=t;do{n+=F(r),r=r.return}while(r)}catch(i){n="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:n}}function vt(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}function gt(e,t,n){(n=q(-1,n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){co||(co=!0,ho=r),vt(0,t)},n}function yt(e,t,n){(n=q(-1,n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return vt(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===fo?fo=new Set([this]):fo.add(this),vt(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function bt(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){fn(e,n)}else t.current=null}function _t(e,n){switch(n.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&n.effectTag&&null!==e){var r=e.memoizedProps,i=e.memoizedState;n=(e=n.stateNode).getSnapshotBeforeUpdate(n.elementType===n.type?r:G(n.type,r),i),e.__reactInternalSnapshotBeforeUpdate=n}return;case 3:return void(yr&&256&n.effectTag&&Qr(n.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(t(163))}function xt(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function wt(e,n,r){switch(r.tag){case 0:case 11:case 15:case 22:if(null!==(n=null!==(n=r.updateQueue)?n.lastEffect:null)){e=n=n.next;do{if(3===(3&e.tag)){var i=e.create;e.destroy=i()}e=e.next}while(e!==n)}if(null!==(n=null!==(n=r.updateQueue)?n.lastEffect:null)){e=n=n.next;do{var a=e;i=a.next,0!==(4&(a=a.tag))&&0!==(1&a)&&(cn(r,e),ln(r,e)),e=i}while(e!==n)}return;case 1:return e=r.stateNode,4&r.effectTag&&(null===n?e.componentDidMount():(i=r.elementType===r.type?n.memoizedProps:G(r.type,n.memoizedProps),e.componentDidUpdate(i,n.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(n=r.updateQueue)&&K(r,n,e));case 3:if(null!==(n=r.updateQueue)){if(e=null,null!==r.child)switch(r.child.tag){case 5:e=rr(r.child.stateNode);break;case 1:e=r.child.stateNode}K(r,n,e)}return;case 5:return e=r.stateNode,void(null===n&&4&r.effectTag&&Nr(e,r.type,r.memoizedProps,r));case 6:case 4:case 12:return;case 13:return void(_r&&null===r.memoizedState&&(r=r.alternate,null!==r&&(r=r.memoizedState,null!==r&&(r=r.dehydrated,null!==r&&fi(r)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(t(163))}function Mt(e,t){if(yr)for(var n=e;;){if(5===n.tag){var r=n.stateNode;t?Wr(r):qr(n.stateNode,n.memoizedProps)}else if(6===n.tag)r=n.stateNode,t?Xr(r):Yr(r,n.memoizedProps);else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function Et(e,t){if(wi&&"function"===typeof wi.onCommitFiberUnmount)try{wi.onCommitFiberUnmount(xi,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))cn(t,n);else{r=t;try{i()}catch(a){fn(r,a)}}n=n.next}while(n!==e)}break;case 1:if(bt(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){fn(t,a)}break;case 5:bt(t);break;case 4:yr?Dt(e,t):br&&br&&(t=t.stateNode.containerInfo,e=Kr(t),ei(t,e))}}function At(e,t){for(var n=t;;)if(Et(e,n),null===n.child||yr&&4===n.tag){if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}else n.child.return=n,n=n.child}function St(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function Tt(e){return 5===e.tag||3===e.tag||4===e.tag}function Ct(e){if(yr){e:{for(var n=e.return;null!==n;){if(Tt(n))break e;n=n.return}throw Error(t(160))}var r=n;switch(n=r.stateNode,r.tag){case 5:var i=!1;break;case 3:case 4:n=n.containerInfo,i=!0;break;default:throw Error(t(161))}16&r.effectTag&&(Hr(n),r.effectTag&=-17),r=e;e:t:for(;;){for(;null===r.sibling;){if(null===r.return||Tt(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;5!==r.tag&&6!==r.tag&&18!==r.tag;){if(2&r.effectTag)continue t;if(null===r.child||4===r.tag)continue t;r.child.return=r,r=r.child}if(!(2&r.effectTag)){r=r.stateNode;break e}}i?function e(t,n,r){var i=t.tag,a=5===i||6===i;if(a)t=a?t.stateNode:t.stateNode.instance,n?Ur(r,t,n):Br(r,t);else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,r,n):function e(t,n,r){var i=t.tag,a=5===i||6===i;if(a)t=a?t.stateNode:t.stateNode.instance,n?jr(r,t,n):Pr(r,t);else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,r,n)}}function Dt(e,n){for(var r,i,a=n,o=!1;;){if(!o){o=a.return;e:for(;;){if(null===o)throw Error(t(160));switch(r=o.stateNode,o.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}o=o.return}o=!0}if(5===a.tag||6===a.tag)At(e,a),i?Vr(r,a.stateNode):zr(r,a.stateNode);else if(4===a.tag){if(null!==a.child){r=a.stateNode.containerInfo,i=!0,a.child.return=a,a=a.child;continue}}else if(Et(e,a),null!==a.child){a.child.return=a,a=a.child;continue}if(a===n)break;for(;null===a.sibling;){if(null===a.return||a.return===n)return;4===(a=a.return).tag&&(o=!1)}a.sibling.return=a.return,a=a.sibling}}function Rt(e,n){if(yr){switch(n.tag){case 0:case 11:case 14:case 15:case 22:return void xt(3,n);case 1:return;case 5:var r=n.stateNode;if(null!=r){var i=n.memoizedProps;e=null!==e?e.memoizedProps:i;var a=n.type,o=n.updateQueue;n.updateQueue=null,null!==o&&Gr(r,o,a,e,i,n)}return;case 6:if(null===n.stateNode)throw Error(t(162));return r=n.memoizedProps,void Fr(n.stateNode,null!==e?e.memoizedProps:r,r);case 3:return void(_r&&(n=n.stateNode,n.hydrate&&(n.hydrate=!1,hi(n.containerInfo))));case 12:return;case 13:return It(n),void kt(n);case 19:return void kt(n);case 17:return;case 23:case 24:return void Mt(n,null!==n.memoizedState)}throw Error(t(163))}switch(n.tag){case 0:case 11:case 14:case 15:case 22:return void xt(3,n);case 12:return;case 13:return It(n),void kt(n);case 19:return void kt(n);case 3:_r&&(r=n.stateNode).hydrate&&(r.hydrate=!1,hi(r.containerInfo));break;case 23:case 24:return}e:if(br){switch(n.tag){case 1:case 5:case 6:case 20:break e;case 3:case 4:n=n.stateNode,ei(n.containerInfo,n.pendingChildren);break e}throw Error(t(163))}}function It(e){null!==e.memoizedState&&(uo=Xi(),yr&&Mt(e.child,!0))}function kt(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Pa),t.forEach((function(t){var r=mn.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Ot(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&null!==(t=t.memoizedState)&&null===t.dehydrated}function Lt(e){var n=xr(e);if(null!=n){if("string"!==typeof n.memoizedProps["data-testname"])throw Error(t(364));return n}if(null===(e=Cr(e)))throw Error(t(362));return e.stateNode.current}function Pt(e,n){switch(n.$$typeof){case Ba:if(e.type===n.value)return!0;break;case Fa:e:{n=n.value,e=[e,0];for(var r=0;r<e.length;){var i=e[r++],a=e[r++],o=n[a];if(5!==i.tag||!Ir(i)){for(;null!=o&&Pt(i,o);)o=n[++a];if(a===n.length){n=!0;break e}for(i=i.child;null!==i;)e.push(i,a),i=i.sibling}}n=!1}return n;case Na:if(5===e.tag&&kr(e.stateNode,n.value))return!0;break;case ja:if((5===e.tag||6===e.tag)&&null!==(e=Rr(e))&&0<=e.indexOf(n.value))return!0;break;case Ga:if(5===e.tag&&"string"===typeof(e=e.memoizedProps["data-testname"])&&e.toLowerCase()===n.value.toLowerCase())return!0;break;default:throw Error(t(365,n))}return!1}function Bt(e){switch(e.$$typeof){case Ba:return"<"+(r(e.value)||"Unknown")+">";case Fa:return":has("+(Bt(e)||"")+")";case Na:return'[role="'+e.value+'"]';case ja:return'"'+e.value+'"';case Ga:return'[data-testname="'+e.value+'"]';default:throw Error(t(365,e))}}function Ft(e,t){var n=[];e=[e,0];for(var r=0;r<e.length;){var i=e[r++],a=e[r++],o=t[a];if(5!==i.tag||!Ir(i)){for(;null!=o&&Pt(i,o);)o=t[++a];if(a===t.length)n.push(i);else for(i=i.child;null!==i;)e.push(i,a),i=i.sibling}}return n}function Nt(e,n){if(!Tr)throw Error(t(363));e=Ft(e=Lt(e),n),n=[],e=Array.from(e);for(var r=0;r<e.length;){var i=e[r++];if(5===i.tag)Ir(i)||n.push(i.stateNode);else for(i=i.child;null!==i;)e.push(i),i=i.sibling}return n}function Gt(){return 0!==(48&qa)?Xi():-1!==wo?wo:wo=Xi()}function jt(e,n){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===I()?1:2;if(0===Mo&&(Mo=ro),null!==n){e=void 0===(n=n.timeoutMs)||1e4>(0|n)?8:6,0!==Eo&&(Eo=null!==so?so.pendingLanes:0),n=Mo;var r=Eo;if(8===e)0===(e=D(122880&~r))&&0===(e=D(122880&~n))&&(e=8192),n=e;else{if(6!==e)throw Error(t(359,e));0===(e=D(3932160&~r))&&0===(e=D(3932160&~n))&&(e=262144),n=e}return n}return n=I(),n=T(0!==(4&qa)&&98===n?14:n=function(e){switch(e){case 99:return 17;case 98:return 12;case 97:case 96:return 10;case 95:return 2;default:return 0}}(n),Mo)}function Ut(e,n,r){if(50<_o)throw _o=0,xo=null,Error(t(185));if(null===(e=zt(e,n)))return null;R(e,n,r),e===Ya&&(ao|=n,4===$a&&Wt(e,Za));var i=I();1===n?0!==(8&qa)&&0===(48&qa)?Xt(e):(Vt(e,r),0===qa&&P()):(0===(4&qa)||98!==i&&99!==i||(null===bo?bo=new Set([e]):bo.add(e)),Vt(e,r)),so=e}function zt(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Vt(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-Ai(o),u=1<<s,l=a[s];if(-1===l){if(0===(u&r)||0!==(u&i)){l=t,w(u);var c=Ei;a[s]=12<=c?l+1e3:6<=c?l+5e3:-1}}else l<=t&&(e.expiredLanes|=u);o&=~u}if(r=E(e,e===Ya?Za:0),t=Ei,0===r)null!==n&&(n!==ji&&Ri(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==ji&&Ri(n)}17===t?(n=Xt.bind(null,e),null===zi?(zi=[n],Vi=Di(Pi,B)):zi.push(n),n=ji):n=16===t?L(99,Xt.bind(null,e)):L(n=M(t),Ht.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function Ht(e,n){if(wo=-1,Eo=Mo=0,0!==(48&qa))throw Error(t(327));var r=e.callbackNode;if(un()&&e.callbackNode!==r)return null;var i=E(e,e===Ya?Za:0);if(0===i)return null;if(n)return e.expiredLanes|=i&e.pendingLanes,Vt(e,Xi()),null;n=i;var a=qa;qa|=16;var o=$t();for(Ya===e&&Za===n||Kt(e,n);;)try{for(;null!==Qa&&!Ii();)nn(Qa);break}catch(s){Jt(e,s)}if(Ji=Ki=Zi=null,Ha.current=o,qa=a,null!==Qa?n=0:(Ya=null,Za=0,n=$a),0!==(ro&ao))Kt(e,0);else if(0!==n){if(2===n&&(qa|=64,e.hydrate&&(e.hydrate=!1,Qr(e.containerInfo)),0!==(i=S(e))&&(n=tn(e,i))),1===n)throw r=eo,Kt(e,0),Wt(e,i),Vt(e,Xi()),r;switch(e.finishedWork=e.current.alternate,e.finishedLanes=i,n){case 0:case 1:throw Error(t(345));case 2:an(e);break;case 3:if(Wt(e,i),(62914560&i)===i&&10<(n=uo+500-Xi())){if(0!==E(e,0))break;if(((a=e.suspendedLanes)&i)!==i){Gt(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=pr(an.bind(null,e),n);break}an(e);break;case 4:if(Wt(e,i),0!==E(e,0))break;if(((n=e.suspendedLanes)&i)!==i){Gt(),e.pingedLanes|=e.suspendedLanes&n;break}if(i=A(e,i),10<(i=-1!==to?to-Xi():-1===i?0:(120>(i=Xi()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Va(i/1960))-i)){e.timeoutHandle=pr(an.bind(null,e),i);break}an(e);break;case 5:if(-1!==(o=A(e,i))&&null!==no&&(0>=(n=0|no.busyMinDurationMs)?n=0:(a=0|no.busyDelayMs,n=(o=Xi()-o)<=a?0:a+n-o),10<n)){Wt(e,i),e.timeoutHandle=pr(an.bind(null,e),n);break}an(e);break;default:throw Error(t(329))}}return Vt(e,Xi()),e.callbackNode===r?Ht.bind(null,e):null}function Wt(e,t){for(t&=~oo,t&=~ao,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ai(t),r=1<<n;e[n]=-1,t&=~r}}function Xt(e){if(0!==(48&qa))throw Error(t(327));if(un(),e===Ya&&0!==(e.expiredLanes&Za)){var n=Za,r=tn(e,n);0!==(ro&ao)&&(r=tn(e,n=E(e,n)))}else r=tn(e,n=E(e,0));if(0!==e.tag&&2===r&&(qa|=64,e.hydrate&&(e.hydrate=!1,Qr(e.containerInfo)),0!==(n=S(e))&&(r=tn(e,n))),1===r)throw r=eo,Kt(e,0),Wt(e,n),Vt(e,Xi()),r;return e.finishedWork=e.current.alternate,e.finishedLanes=n,an(e),Vt(e,Xi()),null}function qt(e,t){var n=qa;qa|=1;try{return e(t)}finally{0===(qa=n)&&P()}}function Yt(e,t){var n=qa;if(0!==(48&n))return e(t);qa|=1;try{if(e)return O(99,e.bind(null,t))}finally{qa=n,P()}}function Qt(e,t){f(Ja,Ka),Ka|=t,ro|=t}function Zt(){Ka=Ja.current,h(Ja)}function Kt(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==vr&&(e.timeoutHandle=vr,mr(n)),null!==Qa)for(n=Qa.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&v();break;case 3:de(),h(bi),h(yi),xe();break;case 5:fe(r);break;case 4:de();break;case 13:case 19:h(ca);break;case 10:U(r);break;case 23:case 24:Zt()}n=n.return}Ya=e,Qa=xn(e.current,null),Za=Ka=ro=t,$a=0,eo=null,to=-1,no=null,oo=ao=io=0}function Jt(e,t){for(;;){var n=Qa;try{if(Ji=Ki=Zi=null,ma.current=Ma,xa){for(var i=ya.memoizedState;null!==i;){var a=i.queue;null!==a&&(a.pending=null),i=i.next}xa=!1}if(ga=0,_a=ba=ya=null,wa=!1,Wa.current=null,null===n||null===n.return){$a=1,eo=t,Qa=null;break}e:{var o=e,s=n.return,u=n,l=t;if(t=Za,u.effectTag|=2048,u.firstEffect=u.lastEffect=null,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l;if(0===(2&u.mode)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=0!==(1&ca.current),f=s;do{var p;if(p=13===f.tag){var m=f.memoizedState;if(null!==m)p=null!==m.dehydrated;else{var v=f.memoizedProps;p=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!h)}}if(p){var g=f.updateQueue;if(null===g){var y=new Set;y.add(c),f.updateQueue=y}else g.add(c);if(0===(2&f.mode)){if(f.effectTag|=64,u.effectTag|=16384,u.effectTag&=-2981,1===u.tag)if(null===u.alternate)u.tag=17;else{var b=q(-1,1,null);b.tag=2,Y(u,b)}u.lanes|=1;break e}l=void 0,u=t;var _=o.pingCache;if(null===_?(_=o.pingCache=new La,l=new Set,_.set(c,l)):void 0===(l=_.get(c))&&(l=new Set,_.set(c,l)),!l.has(u)){l.add(u);var x=pn.bind(null,o,c,u);c.then(x,x)}f.effectTag|=4096,f.lanes=t;break e}f=f.return}while(null!==f);l=Error((r(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==$a&&($a=2),l=mt(l,u),f=s;do{switch(f.tag){case 3:o=l,f.effectTag|=4096,t&=-t,f.lanes|=t,Q(f,gt(0,o,t));break e;case 1:o=l;var w=f.type,M=f.stateNode;if(0===(64&f.effectTag)&&("function"===typeof w.getDerivedStateFromError||null!==M&&"function"===typeof M.componentDidCatch&&(null===fo||!fo.has(M)))){f.effectTag|=4096,t&=-t,f.lanes|=t,Q(f,yt(f,o,t));break e}}f=f.return}while(null!==f)}rn(n)}catch(E){t=E,Qa===n&&null!==n&&(Qa=n.return);continue}break}}function $t(){var e=Ha.current;return Ha.current=Ma,null===e?Ma:e}function en(e,t){null!==t&&(e+=0|t.timeoutMs||5e3)>to&&(to=e,no=t)}function tn(e,n){var r=qa;qa|=16;var i=$t();for(Ya===e&&Za===n||Kt(e,n);;)try{for(;null!==Qa;)nn(Qa);break}catch(a){Jt(e,a)}if(Ji=Ki=Zi=null,qa=r,Ha.current=i,null!==Qa)throw Error(t(261));return Ya=null,Za=0,$a}function nn(e){var t=To(e.alternate,e,Ka);e.memoizedProps=e.pendingProps,null===t?rn(e):Qa=t,Wa.current=null}function rn(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.effectTag)){if(null!==(n=ft(n,t,Ka)))return void(Qa=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ka)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=pt(t)))return n.effectTag&=2047,void(Qa=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=t.sibling))return void(Qa=t);Qa=t=e}while(null!==t);0===$a&&($a=5)}function an(e){var t=I();return O(99,on.bind(null,e,t)),null}function on(e,n){do{un()}while(null!==mo);if(0!==(48&qa))throw Error(t(327));var r=e.finishedWork;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(t(177));e.callbackNode=null;var i=r.lanes|r.childLanes,a=i,o=e.pendingLanes&~a;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=a,e.mutableReadLanes&=a,e.entangledLanes&=a,a=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<o;){var l=31-Ai(o),c=1<<l;a[l]=0,s[l]=-1,u[l]=-1,o&=~c}if(null!==bo&&0===(24&i)&&bo.has(e)&&bo.delete(e),e===Ya&&(Qa=Ya=null,Za=0),1<r.effectTag?null!==r.lastEffect?(r.lastEffect.nextEffect=r,i=r.firstEffect):i=r:i=r.firstEffect,null!==i){a=qa,qa|=32,Wa.current=null,Ao=or(e.containerInfo),So=!1,lo=i;do{try{sn()}catch(y){if(null===lo)throw Error(t(330));fn(lo,y),lo=lo.nextEffect}}while(null!==lo);Ao=null,lo=i;do{try{for(s=e;null!==lo;){var d=lo.effectTag;if(16&d&&yr&&Hr(lo.stateNode),128&d){var h=lo.alternate;if(null!==h){var f=h.ref;null!==f&&("function"===typeof f?f(null):f.current=null)}}switch(1038&d){case 2:Ct(lo),lo.effectTag&=-3;break;case 6:Ct(lo),lo.effectTag&=-3,Rt(lo.alternate,lo);break;case 1024:lo.effectTag&=-1025;break;case 1028:lo.effectTag&=-1025,Rt(lo.alternate,lo);break;case 4:Rt(lo.alternate,lo);break;case 8:u=s,o=lo,yr?Dt(u,o):At(u,o);var p=o.alternate;St(o),null!==p&&St(p)}lo=lo.nextEffect}}catch(y){if(null===lo)throw Error(t(330));fn(lo,y),lo=lo.nextEffect}}while(null!==lo);So&&Ar(),sr(e.containerInfo),e.current=r,lo=i;do{try{for(d=e;null!==lo;){var m=lo.effectTag;if(36&m&&wt(d,lo.alternate,lo),128&m){h=void 0;var v=lo.ref;if(null!==v){var g=lo.stateNode;switch(lo.tag){case 5:h=rr(g);break;default:h=g}"function"===typeof v?v(h):v.current=h}}lo=lo.nextEffect}}catch(y){if(null===lo)throw Error(t(330));fn(lo,y),lo=lo.nextEffect}}while(null!==lo);lo=null,Ui(),qa=a}else e.current=r;if(po)po=!1,mo=e,vo=n;else for(lo=i;null!==lo;)n=lo.nextEffect,lo.nextEffect=null,8&lo.effectTag&&((m=lo).sibling=null,m.stateNode=null),lo=n;if(0===(i=e.pendingLanes)&&(fo=null),1===i?e===xo?_o++:(_o=0,xo=e):_o=0,r=r.stateNode,wi&&"function"===typeof wi.onCommitFiberRoot)try{wi.onCommitFiberRoot(xi,r,void 0,64===(64&r.current.effectTag))}catch(y){}if(Vt(e,Xi()),co)throw co=!1,e=ho,ho=null,e;return 0!==(8&qa)||P(),null}function sn(){for(;null!==lo;){var e=lo.alternate;So||null===Ao||(0!==(8&lo.effectTag)?u(lo,Ao)&&(So=!0,Er()):13===lo.tag&&Ot(e,lo)&&u(lo,Ao)&&(So=!0,Er()));var t=lo.effectTag;0!==(256&t)&&_t(e,lo),0===(512&t)||po||(po=!0,L(97,(function(){return un(),null}))),lo=lo.nextEffect}}function un(){if(90!==vo){var e=97<vo?97:vo;return vo=90,O(e,dn)}return!1}function ln(e,t){go.push(t,e),po||(po=!0,L(97,(function(){return un(),null})))}function cn(e,t){yo.push(t,e),po||(po=!0,L(97,(function(){return un(),null})))}function dn(){if(null===mo)return!1;var e=mo;if(mo=null,0!==(48&qa))throw Error(t(331));var n=qa;qa|=32;var r=yo;yo=[];for(var i=0;i<r.length;i+=2){var a=r[i],o=r[i+1],s=a.destroy;if(a.destroy=void 0,"function"===typeof s)try{s()}catch(l){if(null===o)throw Error(t(330));fn(o,l)}}for(r=go,go=[],i=0;i<r.length;i+=2){a=r[i],o=r[i+1];try{var u=a.create;a.destroy=u()}catch(l){if(null===o)throw Error(t(330));fn(o,l)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.effectTag&&(u.sibling=null,u.stateNode=null),u=e;return qa=n,P(),!0}function hn(e,t,n){Y(e,t=gt(0,t=mt(n,t),1)),t=Gt(),null!==(e=zt(e,1))&&(R(e,1,t),Vt(e,t))}function fn(e,t){if(3===e.tag)hn(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){hn(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===fo||!fo.has(r))){Y(n,e=yt(n,e=mt(t,e),1)),e=Gt(),null!==(n=zt(n,1))&&(R(n,1,e),Vt(n,e));break}}n=n.return}}function pn(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Gt(),e.pingedLanes|=e.suspendedLanes&n,Ya===e&&(Za&n)===n&&(4===$a||3===$a&&(62914560&Za)===Za&&500>Xi()-uo?Kt(e,0):oo|=n),Vt(e,t)}function mn(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===I()?1:2:(0===Mo&&(Mo=ro),0===(t=C(62914560&~Mo))&&(t=4194304))),n=Gt(),null!==(e=zt(e,t))&&(R(e,t,n),Vt(e,n))}function vn(){if(void 0!==Do)return Do();for(var e=!1;un();)e=!0;return e}function gn(e){try{vn(),function(e){if(null===za)try{var t=("require"+Math.random()).slice(0,7);za=(y&&y[t]).call(y,"timers").setImmediate}catch(n){za=function(e){var t=new MessageChannel;t.port1.onmessage=e,t.port2.postMessage(void 0)}}za(e)}((function(){vn()?gn(e):e()}))}catch(t){e(t)}}function yn(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(e,t,n,r){return new yn(e,t,n,r)}function _n(e){return!(!(e=e.prototype)||!e.isReactComponent)}function xn(e,t){var n=e.alternate;return null===n?((n=bn(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function wn(e,n,r,i,a,o){var s=2;if(i=e,"function"===typeof e)_n(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case jn:return Mn(r.children,a,o,n);case Kn:s=8,a|=16;break;case Un:s=8,a|=1;break;case zn:return(e=bn(12,r,n,8|a)).elementType=zn,e.type=zn,e.lanes=o,e;case Xn:return(e=bn(13,r,n,a)).type=Xn,e.elementType=Xn,e.lanes=o,e;case qn:return(e=bn(19,r,n,a)).elementType=qn,e.lanes=o,e;case Jn:return En(r,a,o,n);case $n:return(e=bn(24,r,n,a)).elementType=$n,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case Vn:s=10;break e;case Hn:s=9;break e;case Wn:s=11;break e;case Yn:s=14;break e;case Qn:s=16,i=null;break e;case Zn:s=22;break e}throw Error(t(130,null==e?e:typeof e,""))}return(n=bn(s,r,n,a)).elementType=e,n.type=i,n.lanes=o,n}function Mn(e,t,n,r){return(e=bn(7,e,r,t)).lanes=n,e}function En(e,t,n,r){return(e=bn(23,e,r,t)).elementType=Jn,e.lanes=n,e}function An(e,t,n){return(e=bn(6,e,null,t)).lanes=n,e}function Sn(e,t,n){return(t=bn(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Tn(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=vr,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Array(31).fill(0),this.expirationTimes=Array(31).fill(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Array(31).fill(0),_r&&(this.mutableSourceEagerHydrationData=null)}function Cn(e){var n=e._reactInternals;if(void 0===n){if("function"===typeof e.render)throw Error(t(188));throw Error(t(268,Object.keys(e)))}return null===(e=s(n))?null:e.stateNode}function Dn(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Rn(e,t){Dn(e,t),(e=e.alternate)&&Dn(e,t)}function In(e){return null===(e=s(e))?null:e.stateNode}function kn(){return null}var On={},Ln=se.a,Pn=le.a,Bn=ae.a,Fn=Pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Nn=60103,Gn=60106,jn=60107,Un=60108,zn=60114,Vn=60109,Hn=60110,Wn=60112,Xn=60113,qn=60120,Yn=60115,Qn=60116,Zn=60121,Kn=60129,Jn=60130,$n=60131;if("function"===typeof Symbol&&Symbol.for){var er=Symbol.for;Nn=er("react.element"),Gn=er("react.portal"),jn=er("react.fragment"),Un=er("react.strict_mode"),zn=er("react.profiler"),Vn=er("react.provider"),Hn=er("react.context"),Wn=er("react.forward_ref"),Xn=er("react.suspense"),qn=er("react.suspense_list"),Yn=er("react.memo"),Qn=er("react.lazy"),Zn=er("react.block"),er("react.scope"),Kn=er("react.debug_trace_mode"),Jn=er("react.offscreen"),$n=er("react.legacy_hidden")}var tr,nr="function"===typeof Symbol&&Symbol.iterator,rr=e.getPublicInstance,ir=e.getRootHostContext,ar=e.getChildHostContext,or=e.prepareForCommit,sr=e.resetAfterCommit,ur=e.createInstance,lr=e.appendInitialChild,cr=e.finalizeInitialChildren,dr=e.prepareUpdate,hr=e.shouldSetTextContent,fr=e.createTextInstance,pr=e.scheduleTimeout,mr=e.cancelTimeout,vr=e.noTimeout,gr=e.isPrimaryRenderer,yr=e.supportsMutation,br=e.supportsPersistence,_r=e.supportsHydration,xr=e.getInstanceFromNode,wr=e.makeOpaqueHydratingObject,Mr=e.makeClientId,Er=e.beforeActiveInstanceBlur,Ar=e.afterActiveInstanceBlur,Sr=e.preparePortalMount,Tr=e.supportsTestSelectors,Cr=e.findFiberRoot,Dr=e.getBoundingRect,Rr=e.getTextContent,Ir=e.isHiddenSubtree,kr=e.matchAccessibilityRole,Or=e.setFocusIfFocusable,Lr=e.setupIntersectionObserver,Pr=e.appendChild,Br=e.appendChildToContainer,Fr=e.commitTextUpdate,Nr=e.commitMount,Gr=e.commitUpdate,jr=e.insertBefore,Ur=e.insertInContainerBefore,zr=e.removeChild,Vr=e.removeChildFromContainer,Hr=e.resetTextContent,Wr=e.hideInstance,Xr=e.hideTextInstance,qr=e.unhideInstance,Yr=e.unhideTextInstance,Qr=e.clearContainer,Zr=e.cloneInstance,Kr=e.createContainerChildSet,Jr=e.appendChildToContainerChildSet,$r=e.finalizeContainerChildren,ei=e.replaceContainerChildren,ti=e.cloneHiddenInstance,ni=e.cloneHiddenTextInstance,ri=e.canHydrateInstance,ii=e.canHydrateTextInstance,ai=e.isSuspenseInstancePending,oi=e.isSuspenseInstanceFallback,si=e.getNextHydratableSibling,ui=e.getFirstHydratableChild,li=e.hydrateInstance,ci=e.hydrateTextInstance,di=e.getNextHydratableInstanceAfterSuspenseInstance,hi=e.commitHydratedContainer,fi=e.commitHydratedSuspenseInstance,pi=!1,mi=[],vi=-1,gi={},yi=d(gi),bi=d(!1),_i=gi,xi=null,wi=null;(0,Bn.unstable_now)();var Mi=0,Ei=10,Ai=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Si(e)/Ti|0)|0},Si=Math.log,Ti=Math.LN2,Ci=Bn.unstable_runWithPriority,Di=Bn.unstable_scheduleCallback,Ri=Bn.unstable_cancelCallback,Ii=Bn.unstable_shouldYield,ki=Bn.unstable_requestPaint,Oi=Bn.unstable_now,Li=Bn.unstable_getCurrentPriorityLevel,Pi=Bn.unstable_ImmediatePriority,Bi=Bn.unstable_UserBlockingPriority,Fi=Bn.unstable_NormalPriority,Ni=Bn.unstable_LowPriority,Gi=Bn.unstable_IdlePriority,ji={},Ui=void 0!==ki?ki:function(){},zi=null,Vi=null,Hi=!1,Wi=Oi(),Xi=1e4>Wi?Oi:function(){return Oi()-Wi},qi="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Yi=Object.prototype.hasOwnProperty,Qi=d(null),Zi=null,Ki=null,Ji=null,$i=!1,ea=Fn.ReactCurrentBatchConfig,ta=(new Pn.Component).refs,na={isMounted:function(e){return!!(e=e._reactInternals)&&i(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Gt(),i=ea.suspense,a=jt(e,i);(i=q(r,a,i)).payload=t,void 0!==n&&null!==n&&(i.callback=n),Y(e,i),Ut(e,a,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Gt(),i=ea.suspense,a=jt(e,i);(i=q(r,a,i)).tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),Y(e,i),Ut(e,a,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Gt(),r=ea.suspense,i=jt(e,r);(r=q(n,i,r)).tag=2,void 0!==t&&null!==t&&(r.callback=t),Y(e,r),Ut(e,i,n)}},ra=Array.isArray,ia=oe(!0),aa=oe(!1),oa={},sa=d(oa),ua=d(oa),la=d(oa),ca=d(0),da=null,ha=null,fa=!1,pa=[],ma=Fn.ReactCurrentDispatcher,va=Fn.ReactCurrentBatchConfig,ga=0,ya=null,ba=null,_a=null,xa=!1,wa=!1,Ma={readContext:H,useCallback:we,useContext:we,useEffect:we,useImperativeHandle:we,useLayoutEffect:we,useMemo:we,useReducer:we,useRef:we,useState:we,useDebugValue:we,useDeferredValue:we,useTransition:we,useMutableSource:we,useOpaqueIdentifier:we,unstable_isNewReconciler:!1},Ea={readContext:H,useCallback:He,useContext:H,useEffect:Ne,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Be(4,2,Ue.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Be(4,2,e,t)},useMemo:function(e,t){var n=Ae();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ae();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ye.bind(null,ya,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ae().memoizedState=e},useState:Oe,useDebugValue:Ve,useDeferredValue:function(e,t){var n=Oe(e),r=n[0],i=n[1];return Ne((function(){var n=va.suspense;va.suspense=void 0===t?null:t;try{i(e)}finally{va.suspense=n}}),[e,t]),r},useTransition:function(e){var t=Oe(!1),n=t[0];return t=t[1],[He(qe.bind(null,t,e),[t,e]),n]},useMutableSource:function(e,t,n){var r=Ae();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},Ie(r,e,t,n)},useOpaqueIdentifier:function(){if(fa){var e=!1,n=wr((function(){throw e||(e=!0,r(Mr())),Error(t(355))})),r=Oe(n)[1];return 0===(2&ya.mode)&&(ya.effectTag|=516,Le(5,(function(){r(Mr())}),void 0,null)),n}return Oe(n=Mr()),n},unstable_isNewReconciler:!1},Aa={readContext:H,useCallback:We,useContext:H,useEffect:Ge,useImperativeHandle:ze,useLayoutEffect:je,useMemo:Xe,useReducer:Ce,useRef:Pe,useState:function(){return Ce(Te)},useDebugValue:Ve,useDeferredValue:function(e,t){var n=Ce(Te),r=n[0],i=n[1];return Ge((function(){var n=va.suspense;va.suspense=void 0===t?null:t;try{i(e)}finally{va.suspense=n}}),[e,t]),r},useTransition:function(e){var t=Ce(Te),n=t[0];return t=t[1],[We(qe.bind(null,t,e),[t,e]),n]},useMutableSource:ke,useOpaqueIdentifier:function(){return Ce(Te)[0]},unstable_isNewReconciler:!1},Sa={readContext:H,useCallback:We,useContext:H,useEffect:Ge,useImperativeHandle:ze,useLayoutEffect:je,useMemo:Xe,useReducer:De,useRef:Pe,useState:function(){return De(Te)},useDebugValue:Ve,useDeferredValue:function(e,t){var n=De(Te),r=n[0],i=n[1];return Ge((function(){var n=va.suspense;va.suspense=void 0===t?null:t;try{i(e)}finally{va.suspense=n}}),[e,t]),r},useTransition:function(e){var t=De(Te),n=t[0];return t=t[1],[We(qe.bind(null,t,e),[t,e]),n]},useMutableSource:ke,useOpaqueIdentifier:function(){return De(Te)[0]},unstable_isNewReconciler:!1},Ta=Fn.ReactCurrentOwner,Ca=!1,Da={dehydrated:null,retryLane:0};if(yr)var Ra=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)lr(e,n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ia=function(){},ka=function(e,t,n,r,i){if((e=e.memoizedProps)!==r){var a=t.stateNode,o=ue(sa.current);n=dr(a,n,e,r,i,o),(t.updateQueue=n)&&(t.effectTag|=4)}},Oa=function(e,t,n,r){n!==r&&(t.effectTag|=4)};else br?(Ra=function(e,t,n,r){for(var i=t.child;null!==i;){if(5===i.tag){var a=i.stateNode;n&&r&&(a=ti(a,i.type,i.memoizedProps,i)),lr(e,a)}else if(6===i.tag)a=i.stateNode,n&&r&&(a=ni(a,i.memoizedProps,i)),lr(e,a);else if(4!==i.tag){if(13===i.tag&&0!==(4&i.effectTag)&&(a=null!==i.memoizedState)){var o=i.child;if(null!==o&&(null!==o.child&&(o.child.return=o,Ra(e,o,!0,a)),null!==(a=o.sibling))){a.return=i,i=a;continue}}if(null!==i.child){i.child.return=i,i=i.child;continue}}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Ia=function(e){var t=e.stateNode;if(null!==e.firstEffect){var n=t.containerInfo,r=Kr(n);!function e(t,n,r,i){for(var a=n.child;null!==a;){if(5===a.tag){var o=a.stateNode;r&&i&&(o=ti(o,a.type,a.memoizedProps,a)),Jr(t,o)}else if(6===a.tag)o=a.stateNode,r&&i&&(o=ni(o,a.memoizedProps,a)),Jr(t,o);else if(4!==a.tag){if(13===a.tag&&0!==(4&a.effectTag)&&(o=null!==a.memoizedState)){var s=a.child;if(null!==s&&(null!==s.child&&(s.child.return=s,e(t,s,!0,o)),null!==(o=s.sibling))){o.return=a,a=o;continue}}if(null!==a.child){a.child.return=a,a=a.child;continue}}if(a===n)break;for(;null===a.sibling;){if(null===a.return||a.return===n)return;a=a.return}a.sibling.return=a.return,a=a.sibling}}(r,e,!1,!1),t.pendingChildren=r,e.effectTag|=4,$r(n,r)}},ka=function(e,t,n,r,i){var a=e.stateNode,o=e.memoizedProps;if((e=null===t.firstEffect)&&o===r)t.stateNode=a;else{var s=t.stateNode,u=ue(sa.current),l=null;o!==r&&(l=dr(s,n,o,r,i,u)),e&&null===l?t.stateNode=a:(a=Zr(a,l,n,o,r,t,e,s),cr(a,n,r,i,u)&&(t.effectTag|=4),t.stateNode=a,e?t.effectTag|=4:Ra(a,t,!1,!1))}},Oa=function(e,t,n,r){n!==r?(e=ue(la.current),n=ue(sa.current),t.stateNode=fr(r,e,n,t),t.effectTag|=4):t.stateNode=e.stateNode}):(Ia=function(){},ka=function(){},Oa=function(){});var La="function"===typeof WeakMap?WeakMap:Map,Pa="function"===typeof WeakSet?WeakSet:Set,Ba=0,Fa=1,Na=2,Ga=3,ja=4;if("function"===typeof Symbol&&Symbol.for){var Ua=Symbol.for;Ba=Ua("selector.component"),Fa=Ua("selector.has_pseudo_class"),Na=Ua("selector.role"),Ga=Ua("selector.test_id"),ja=Ua("selector.text")}var za=null,Va=Math.ceil,Ha=Fn.ReactCurrentDispatcher,Wa=Fn.ReactCurrentOwner,Xa=Fn.IsSomeRendererActing,qa=0,Ya=null,Qa=null,Za=0,Ka=0,Ja=d(0),$a=0,eo=null,to=-1,no=null,ro=0,io=0,ao=0,oo=0,so=null,uo=0,lo=null,co=!1,ho=null,fo=null,po=!1,mo=null,vo=90,go=[],yo=[],bo=null,_o=0,xo=null,wo=-1,Mo=0,Eo=0,Ao=null,So=!1,To=function(e,n,r){var i=n.lanes;if(null!==e)if(e.memoizedProps!==n.pendingProps||bi.current)Ca=!0;else{if(0===(r&i)){switch(Ca=!1,n.tag){case 3:it(n),_e();break;case 5:he(n);break;case 1:m(n.type)&&_(n);break;case 4:ce(n,n.stateNode.containerInfo);break;case 10:j(n,n.memoizedProps.value);break;case 13:if(null!==n.memoizedState)return 0!==(r&n.child.childLanes)?at(e,n,r):(f(ca,1&ca.current),null!==(n=dt(e,n,r))?n.sibling:null);f(ca,1&ca.current);break;case 19:if(i=0!==(r&n.childLanes),0!==(64&e.effectTag)){if(i)return ct(e,n,r);n.effectTag|=64}var a=n.memoizedState;if(null!==a&&(a.rendering=null,a.tail=null,a.lastEffect=null),f(ca,ca.current),i)break;return null;case 23:case 24:return n.lanes=0,$e(e,n,r)}return dt(e,n,r)}Ca=0!==(16384&e.effectTag)}else Ca=!1;switch(n.lanes=0,n.tag){case 2:if(i=n.type,null!==e&&(e.alternate=null,n.alternate=null,n.effectTag|=2),e=n.pendingProps,a=p(n,yi.current),V(n,r),a=Ee(null,n,i,e,a,r),n.effectTag|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof){if(n.tag=1,n.memoizedState=null,n.updateQueue=null,m(i)){var o=!0;_(n)}else o=!1;n.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,W(n);var s=i.getDerivedStateFromProps;"function"===typeof s&&J(n,i,s,e),a.updater=na,n.stateNode=a,a._reactInternals=n,ne(n,i,e,r),n=rt(null,n,i,!0,o,r)}else n.tag=0,Qe(null,n,a,r),n=n.child;return n;case 16:a=n.elementType;e:{switch(null!==e&&(e.alternate=null,n.alternate=null,n.effectTag|=2),e=n.pendingProps,a=(o=a._init)(a._payload),n.type=a,o=n.tag=function(e){if("function"===typeof e)return _n(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===Wn)return 11;if(e===Yn)return 14}return 2}(a),e=G(a,e),o){case 0:n=tt(null,n,a,e,r);break e;case 1:n=nt(null,n,a,e,r);break e;case 11:n=Ze(null,n,a,e,r);break e;case 14:n=Ke(null,n,a,G(a.type,e),i,r);break e}throw Error(t(306,a,""))}return n;case 0:return i=n.type,a=n.pendingProps,tt(e,n,i,a=n.elementType===i?a:G(i,a),r);case 1:return i=n.type,a=n.pendingProps,nt(e,n,i,a=n.elementType===i?a:G(i,a),r);case 3:if(it(n),i=n.updateQueue,null===e||null===i)throw Error(t(282));if(i=n.pendingProps,a=null!==(a=n.memoizedState)?a.element:null,X(e,n),Z(n,i,null,r),(i=n.memoizedState.element)===a)_e(),n=dt(e,n,r);else{if((o=(a=n.stateNode).hydrate)&&(_r?(ha=ui(n.stateNode.containerInfo),da=n,o=fa=!0):o=!1),o){if(_r&&null!=(e=a.mutableSourceEagerHydrationData))for(a=0;a<e.length;a+=2)o=e[a],s=e[a+1],gr?o._workInProgressVersionPrimary=s:o._workInProgressVersionSecondary=s,pa.push(o);for(r=aa(n,null,i,r),n.child=r;r;)r.effectTag=-3&r.effectTag|1024,r=r.sibling}else Qe(e,n,i,r),_e();n=n.child}return n;case 5:return he(n),null===e&&ge(n),i=n.type,a=n.pendingProps,o=null!==e?e.memoizedProps:null,s=a.children,hr(i,a)?s=null:null!==o&&hr(i,o)&&(n.effectTag|=16),et(e,n),Qe(e,n,s,r),n.child;case 6:return null===e&&ge(n),null;case 13:return at(e,n,r);case 4:return ce(n,n.stateNode.containerInfo),i=n.pendingProps,null===e?n.child=ia(n,null,i,r):Qe(e,n,i,r),n.child;case 11:return i=n.type,a=n.pendingProps,Ze(e,n,i,a=n.elementType===i?a:G(i,a),r);case 7:return Qe(e,n,n.pendingProps,r),n.child;case 8:case 12:return Qe(e,n,n.pendingProps.children,r),n.child;case 10:e:{if(i=n.type._context,a=n.pendingProps,s=n.memoizedProps,j(n,o=a.value),null!==s){var u=s.value;if(0===(o=qi(u,o)?0:0|("function"===typeof i._calculateChangedBits?i._calculateChangedBits(u,o):1073741823))){if(s.children===a.children&&!bi.current){n=dt(e,n,r);break e}}else for(null!==(u=n.child)&&(u.return=n);null!==u;){var l=u.dependencies;if(null!==l){s=u.child;for(var c=l.firstContext;null!==c;){if(c.context===i&&0!==(c.observedBits&o)){1===u.tag&&((c=q(-1,r&-r,null)).tag=2,Y(u,c)),u.lanes|=r,null!==(c=u.alternate)&&(c.lanes|=r),z(u.return,r),l.lanes|=r;break}c=c.next}}else s=10===u.tag&&u.type===n.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===n){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}}Qe(e,n,a.children,r),n=n.child}return n;case 9:return a=n.type,i=(o=n.pendingProps).children,V(n,r),i=i(a=H(a,o.unstable_observedBits)),n.effectTag|=1,Qe(e,n,i,r),n.child;case 14:return o=G(a=n.type,n.pendingProps),Ke(e,n,a,o=G(a.type,o),i,r);case 15:return Je(e,n,n.type,n.pendingProps,i,r);case 17:return i=n.type,a=n.pendingProps,a=n.elementType===i?a:G(i,a),null!==e&&(e.alternate=null,n.alternate=null,n.effectTag|=2),n.tag=1,m(i)?(e=!0,_(n)):e=!1,V(n,r),ee(n,i,a),ne(n,i,a,r),rt(null,n,i,!0,e,r);case 19:return ct(e,n,r);case 23:case 24:return $e(e,n,r)}throw Error(t(156,n.tag))},Co={current:!1},Do=Bn.unstable_flushAllWithoutAsserting,Ro="function"===typeof Do,Io=0,ko=!1;return On.IsThisRendererActing=Co,On.act=function(e){function t(){Io--,Xa.current=n,Co.current=r}!1===ko&&(ko=!0,console.error("act(...) is not supported in production builds of React, and might not behave as expected.")),Io++;var n=Xa.current,r=Co.current;Xa.current=!0,Co.current=!0;try{var i=qt(e)}catch(a){throw t(),a}if(null!==i&&"object"===typeof i&&"function"===typeof i.then)return{then:function(e,r){i.then((function(){1<Io||!0===Ro&&!0===n?(t(),e()):gn((function(n){t(),n?r(n):e()}))}),(function(e){t(),r(e)}))}};try{1!==Io||!1!==Ro&&!1!==n||vn(),t()}catch(a){throw t(),a}return{then:function(e){e()}}},On.attemptContinuousHydration=function(e){13===e.tag&&(Ut(e,67108864,Gt()),Rn(e,67108864))},On.attemptHydrationAtCurrentPriority=function(e){if(13===e.tag){var t=Gt(),n=jt(e,null);Ut(e,n,t),Rn(e,n)}},On.attemptSynchronousHydration=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.hydrate){var n=w(t.pendingLanes);t.expiredLanes|=n&t.pendingLanes,Vt(t,Xi()),0===(48&qa)&&P()}break;case 13:var r=Gt();Yt((function(){return Ut(e,1,r)})),Rn(e,4)}},On.attemptUserBlockingHydration=function(e){13===e.tag&&(Ut(e,4,Gt()),Rn(e,4))},On.batchedEventUpdates=function(e,t){var n=qa;qa|=2;try{return e(t)}finally{0===(qa=n)&&P()}},On.batchedUpdates=qt,On.createComponentSelector=function(e){return{$$typeof:Ba,value:e}},On.createContainer=function(e,t,n){return e=new Tn(e,t,n),t=bn(3,null,null,2===t?7:1===t?3:0),e.current=t,t.stateNode=e,W(t),e},On.createHasPsuedoClassSelector=function(e){return{$$typeof:Fa,value:e}},On.createPortal=function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Gn,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}},On.createRoleSelector=function(e){return{$$typeof:Na,value:e}},On.createTestNameSelector=function(e){return{$$typeof:Ga,value:e}},On.createTextSelector=function(e){return{$$typeof:ja,value:e}},On.deferredUpdates=function(e){return O(97,e)},On.discreteUpdates=function(e,t,n,r,i){var a=qa;qa|=4;try{return O(98,e.bind(null,t,n,r,i))}finally{0===(qa=a)&&P()}},On.findAllNodes=Nt,On.findBoundingRects=function(e,n){if(!Tr)throw Error(t(363));n=Nt(e,n),e=[];for(var r=0;r<n.length;r++)e.push(Dr(n[r]));for(n=e.length-1;0<n;n--)for(var i=(r=e[n]).x,a=i+r.width,o=r.y,s=o+r.height,u=n-1;0<=u;u--)if(n!==u){var l=e[u],c=l.x,d=c+l.width,h=l.y,f=h+l.height;if(i>=c&&o>=h&&a<=d&&s<=f){e.splice(n,1);break}if(!(i!==c||r.width!==l.width||f<o||h>s)){h>o&&(l.height+=h-o,l.y=o),f<s&&(l.height=s-h),e.splice(n,1);break}if(!(o!==h||r.height!==l.height||d<i||c>a)){c>i&&(l.width+=c-i,l.x=i),d<a&&(l.width=a-c),e.splice(n,1);break}}return e},On.findHostInstance=Cn,On.findHostInstanceWithNoPortals=function(e){return null===(e=function(e){if(!(e=o(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child&&4!==t.tag)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}(e))?null:20===e.tag?e.stateNode.instance:e.stateNode},On.findHostInstanceWithWarning=function(e){return Cn(e)},On.flushControlled=function(e){var t=qa;qa|=1;try{O(99,e)}finally{0===(qa=t)&&P()}},On.flushDiscreteUpdates=function(){0===(49&qa)&&(function(){if(null!==bo){var e=bo;bo=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,Vt(e,Xi())}))}P()}(),un())},On.flushPassiveEffects=un,On.flushSync=Yt,On.focusWithin=function(e,n){if(!Tr)throw Error(t(363));for(n=Ft(e=Lt(e),n),n=Array.from(n),e=0;e<n.length;){var r=n[e++];if(!Ir(r)){if(5===r.tag&&Or(r.stateNode))return!0;for(r=r.child;null!==r;)n.push(r),r=r.sibling}}return!1},On.getCurrentUpdateLanePriority=function(){return Mi},On.getFindAllNodesFailureDescription=function(e,n){if(!Tr)throw Error(t(363));var r=0,i=[];e=[Lt(e),0];for(var a=0;a<e.length;){var o=e[a++],s=e[a++],u=n[s];if((5!==o.tag||!Ir(o))&&(Pt(o,u)&&(i.push(Bt(u)),++s>r&&(r=s)),s<n.length))for(o=o.child;null!==o;)e.push(o,s),o=o.sibling}if(r<n.length){for(e=[];r<n.length;r++)e.push(Bt(n[r]));return"findAllNodes was able to match part of the selector:\n  "+i.join(" > ")+"\n\nNo matching component was found for:\n  "+e.join(" > ")}return null},On.getPublicRootInstance=function(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:return rr(e.child.stateNode);default:return e.child.stateNode}},On.injectIntoDevTools=function(e){if(e={bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fn.ReactCurrentDispatcher,findHostInstanceByFiber:In,findFiberByHostInstance:e.findFiberByHostInstance||kn,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null},"undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!t.isDisabled&&t.supportsFiber)try{xi=t.inject(e),wi=t}catch(n){}e=!0}return e},On.observeVisibleRects=function(e,n,r,i){if(!Tr)throw Error(t(363));e=Nt(e,n);var a=Lr(e,r,i).disconnect;return{disconnect:function(){a()}}},On.registerMutableSourceForHydration=function(e,t){var n=t._getVersion;n=n(t._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[t,n]:e.mutableSourceEagerHydrationData.push(t,n)},On.runWithPriority=function(e,t){var n=Mi;try{return Mi=e,t()}finally{Mi=n}},On.shouldSuspend=function(){return!1},On.unbatchedUpdates=function(e,t){var n=qa;qa&=-2,qa|=8;try{return e(t)}finally{0===(qa=n)&&P()}},On.updateContainer=function(e,n,r,a){var o=n.current,s=Gt(),u=ea.suspense,l=jt(o,u);e:if(r){t:{if(i(r=r._reactInternals)!==r||1!==r.tag)throw Error(t(170));var c=r;do{switch(c.tag){case 3:c=c.stateNode.context;break t;case 1:if(m(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break t}}c=c.return}while(null!==c);throw Error(t(171))}if(1===r.tag){var d=r.type;if(m(d)){r=b(r,d,c);break e}}r=c}else r=gi;return null===n.context?n.context=r:n.pendingContext=r,(n=q(s,l,u)).payload={element:e},null!==(a=void 0===a?null:a)&&(n.callback=a),Y(o,n),Ut(o,l,s),l},On}),b.exports),fe=new Map,pe={},me={obj:function(e){return e===Object(e)&&!me.arr(e)},fun:function(e){return"function"===typeof e},str:function(e){return"string"===typeof e},num:function(e){return"number"===typeof e},und:function(e){return void 0===e},arr:function(e){return Array.isArray(e)},equ:function(e,t){if(typeof e!==typeof t||!!e!==!!t)return!1;if(me.str(e)||me.num(e)||me.obj(e))return e===t;if(me.arr(e)&&e==t)return!0;var n;for(n in e)if(!(n in t))return!1;for(n in t)if(e[n]!==t[n])return!1;return!me.und(n)||e===t}};function ve(e,t){var n=t.length;return t.push(e),function(){t.splice(n,1)}}var ge=[],ye=[],be=[];function _e(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(i)for(n=0;n<ge.length;n++)ge[n](t),r++;var a=e.current.clock.getDelta();for(n=0;n<e.current.subscribers.length;n++)e.current.subscribers[n].ref.current(e.current,a);if(e.current.frames=Math.max(0,e.current.frames-1),r+=e.current.invalidateFrameloop?e.current.frames:1,e.current.manual||e.current.gl.render(e.current.scene,e.current.camera),i)for(n=0;n<ye.length;n++)ye[n](t);return r}var xe=!1;function we(e){xe=!0;var t,n=0;for(t=0;t<ge.length;t++)ge[t](e),n++;for(fe.forEach((function(t){(t=t.containerInfo.__state).current.active&&t.current.ready&&(!t.current.invalidateFrameloop||0<t.current.frames)&&(n=_e(t,e,n))})),t=0;t<ye.length;t++)ye[t](e);if(0!==n)return requestAnimationFrame(we);for(t=0;t<be.length;t++)be[t](e);xe=!1}function Me(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(!0===e)fe.forEach((function(e){return e.containerInfo.__state.current.frames=t}));else if(e&&e.current){if(e.current.vr)return;e.current.frames=t}xe||(xe=!0,requestAnimationFrame(we))}var Ee={};function Ae(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e.__container,o=[],s=[],u=Object.keys(t);for(n=0;n<u.length;n++)me.equ(t[u[n]],r[u[n]])&&o.push(u[n]),me.fun(t[u[n]])&&u[n].startsWith("on")&&(u[n].includes("Pointer")||u[n].includes("Click")||u[n].includes("ContextMenu")||u[n].includes("Wheel"))&&s.push(u[n]);var c=[];if(u=Object.keys(r),i)for(n=0;n<u.length;n++)void 0===t[u[n]]&&c.push(u[n]);for(r=[].concat(Object(h.a)(o),["children","key","ref"]),e.__instance&&r.push("object"),o=Object(de.a)({},t),u=Object.keys(o),n=0;n<u.length;n++)-1<r.indexOf(u[n])&&delete o[u[n]];for(u=Object.keys(c),n=0;n<u.length;n++)"children"!==u[n]&&(o[u[n]]=void 0);0<(n=Object.entries(o)).length&&(n.forEach((function(t){var n=Object(d.a)(t,2),r=n[0],i=n[1];if(!s.includes(r)){var a,o,u=e,c=u[r];if(r.includes("-")){var p=r.split("-");if(!(c=p.reduce((function(e,t){return e[t]}),e))||!c.set){var m=l(p.reverse()),v=m[0];u=m.slice(1).reverse().reduce((function(e,t){return e[t]}),e),r=v}}p=null==(o=e.__container)?void 0:o.__state.current.colorManagement,c&&c.set&&(c.copy||c instanceof f.Layers)?Array.isArray(i)?(a=c).set.apply(a,Object(h.a)(i)):c.copy&&i&&i.constructor&&c.constructor.name===i.constructor.name?c.copy(i):void 0!==i&&(c.set(i),p&&c instanceof f.Color&&c.convertSRGBToLinear()):(u[r]=i,p&&u[r]instanceof f.Texture&&(u[r].encoding=f.sRGBEncoding)),Se(e)}})),i&&a&&e.raycast&&e.__handlers&&(e.__handlers=void 0,-1<(i=a.__interaction.indexOf(e))&&a.__interaction.splice(i,1)),s.length&&(a&&e.raycast&&a.__interaction.push(e),e.__handlers=s.reduce((function(e,n){return e[n.charAt(2).toLowerCase()+n.substr(3)]=t[n],e}),{})),e.parent&&Te(e))}function Se(e){e.__container&&e.__container.__state&&Me(e.__container.__state)}function Te(e){e.onUpdate&&e.onUpdate(e)}function Ce(e,t,n,r,a){var o=t.args;r=void 0===o?[]:o,t=Object(ce.a)(t,["args"]);var s=""+e[0].toUpperCase()+e.slice(1);if("primitive"===e)(e=(t=Object(de.a)({dispose:null},t)).object).__instance=!0,e.__dispose=e.dispose;else if("new"===e)e=new t.object(r);else{if(!(e=Ee[s]||f[s]))throw'"'+s+'" is not part of the THREE namespace! Did you forget to extend it? See: https://github.com/react-spring/react-three-fiber/blob/master/api.md#putting-already-existing-objects-into-the-scene-graph';e=me.arr(r)?Object(i.a)(e,Object(h.a)(r)):new e(r)}for(;n.__container;)n=n.__container;if(!fe.has(n)){n=function e(t){return t.return?e(t.return):t.stateNode&&t.stateNode.containerInfo}(a)}return e.__objects=[],e.__container=n,s.endsWith("Geometry")?t=Object(de.a)({attach:"geometry"},t):s.endsWith("Material")&&(t=Object(de.a)({attach:"material"},t)),Ae(e,t,{}),e}function De(e,t){t&&(t.isObject3D?e.add(t):(e.__objects.push(t),t.parent=e,t.attachArray?(me.arr(e[t.attachArray])||(e[t.attachArray]=[]),e[t.attachArray].push(t)):t.attachObject?(me.obj(e[t.attachObject[0]])||(e[t.attachObject[0]]={}),e[t.attachObject[0]][t.attachObject[1]]=t):t.attach&&(e[t.attach]=t)),Te(t),Se(t))}function Re(e,t,n){if(t){if(t.isObject3D){t.parent=e,t.dispatchEvent({type:"added"});var r=e.children.filter((function(e){return e!==t}));n=r.indexOf(n),e.children=[].concat(Object(h.a)(r.slice(0,n)),[t],Object(h.a)(r.slice(n))),Te(t)}else De(e,t);Se(t)}}function Ie(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e&&(n?Object(h.a)(e):e).forEach((function(e){return ke(t,e)}))}function ke(e,t){t&&(t.isObject3D?e.remove(t):(t.parent=null,e.__objects&&(e.__objects=e.__objects.filter((function(e){return e!==t}))),t.attachArray?e[t.attachArray]=e[t.attachArray].filter((function(e){return e!==t})):t.attachObject?delete e[t.attachObject[0]][t.attachObject[1]]:t.attach&&(e[t.attach]=null)),Se(t),null!==t.dispose&&Object(ie.unstable_runWithPriority)(ie.unstable_IdlePriority,(function(){t.__container&&(t.__container.__interaction=t.__container.__interaction.filter((function(e){return e!==t}))),Ie(t.__objects,t),Ie(t.children,t,!0),t.dispose?t.dispose():t.__dispose&&t.__dispose(),delete t.__container,delete t.__objects})))}function Oe(e,t,n,r){var i=e.parent,a=Ce(t,n,e.__container,null,r);ke(i,e),De(i,a),[r,r.alternate].forEach((function(e){null!==e&&(e.stateNode=a,e.ref&&(me.fun(e.ref)?e.ref(a):e.ref.current=a))}))}var Le=he({now:ie.unstable_now,createInstance:Ce,removeChild:ke,appendChild:De,insertBefore:Re,warnsIfNotActing:!0,supportsMutation:!0,isPrimaryRenderer:!1,scheduleTimeout:me.fun(setTimeout)?setTimeout:void 0,cancelTimeout:me.fun(clearTimeout)?clearTimeout:void 0,setTimeout:me.fun(setTimeout)?setTimeout:void 0,clearTimeout:me.fun(clearTimeout)?clearTimeout:void 0,noTimeout:-1,appendInitialChild:De,appendChildToContainer:De,removeChildFromContainer:ke,insertInContainerBefore:Re,commitUpdate:function(e,t,n,r,i,a){if(e.__instance&&i.object&&i.object!==e)Oe(e,n,i,a);else{var o=i.args;t=void 0===o?[]:o;var s=Object(ce.a)(i,["args"]),u=r.args,l=void 0===u?[]:u;r=Object(ce.a)(r,["args"]),t.some((function(e,t){return me.obj(e)?Object.entries(e).some((function(e){var n=Object(d.a)(e,2),r=n[0];return n[1]!==l[t][r]})):e!==l[t]}))?Oe(e,n,i,a):Ae(e,s,r,!0)}},hideInstance:function(e){e.isObject3D&&(e.visible=!1,Se(e))},unhideInstance:function(e,t){(e.isObject3D&&null==t.visible||t.visible)&&(e.visible=!0,Se(e))},hideTextInstance:function(){throw Error("Text is not allowed in the react-three-fibre tree. You may have extraneous whitespace between components.")},getPublicInstance:function(e){return e},getRootHostContext:function(){return pe},getChildHostContext:function(){return pe},createTextInstance:function(){},finalizeInitialChildren:function(){return!1},prepareUpdate:function(){return pe},shouldDeprioritizeSubtree:function(){return!1},prepareForCommit:function(){return null},preparePortalMount:function(){return null},resetAfterCommit:function(){},shouldSetTextContent:function(){return!1},clearContainer:function(){return!1}});me.fun(Symbol)&&Symbol.for&&Symbol.for("react.portal");function Pe(e){return(e.eventObject||e.object).uuid+"/"+e.index}Le.injectIntoDevTools({bundleType:0,findHostInstanceByFiber:function(){return null},version:le.a.version,rendererPackageName:"react-three-fiber"});var Be=Object(ue.createContext)({}),Fe=function(e){var t=e,n=t.children,i=t.gl,a=t.camera,o=t.orthographic,s=t.raycaster,u=t.size,l=t.pixelRatio,c=t.vr,h=void 0!==c&&c,p=t.concurrent,m=void 0!==p&&p,v=t.shadowMap,g=void 0!==v&&v,y=t.colorManagement,b=void 0===y||y,_=t.invalidateFrameloop,x=void 0!==_&&_,w=t.updateDefaultCamera,M=void 0===w||w,E=t.noEvents,A=void 0!==E&&E,S=t.onCreated,T=t.onPointerMissed,C=t.forceResize,D=Object(ue.useState)(!1),R=Object(d.a)(D,2),I=R[0],k=R[1],O=Object(ue.useState)((function(){return new f.Vector2})),L=Object(d.a)(O,1)[0],P=Object(ue.useState)((function(){var e=new f.Raycaster;s&&Ae(e,Object(ce.a)(s,["filter"]),{});return e})),B=Object(d.a)(P,1)[0],F=Object(ue.useState)((function(){var e=new f.Scene;return e.__interaction=[],e.__objects=[],e})),N=Object(d.a)(F,1)[0],G=Object(ue.useState)((function(){var e=o?new f.OrthographicCamera(0,0,0,0,.1,1e3):new f.PerspectiveCamera(75,0,.1,1e3);return e.position.z=5,a&&Ae(e,a,{}),e.lookAt(0,0,0),e})),j=Object(d.a)(G,2),U=j[0],z=j[1],V=Object(ue.useState)((function(){return new f.Clock}));e=Object(d.a)(V,1)[0];var H=Object(ue.useRef)({ready:!1,active:!0,manual:0,colorManagement:b,vr:h,concurrent:m,noEvents:A,invalidateFrameloop:!1,frames:0,aspect:0,subscribers:[],camera:U,scene:N,raycaster:B,mouse:L,clock:e,gl:i,size:u,viewport:null,initialClick:[0,0],initialHits:[],pointer:new re.TinyEmitter,captured:void 0,events:void 0,subscribe:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t&&H.current.manual++,H.current.subscribers.push({ref:e,priority:t}),H.current.subscribers=H.current.subscribers.sort((function(e,t){return e.priority-t.priority})),function(){var n;null!=(n=H.current)&&n.subscribers&&(t&&H.current.manual--,H.current.subscribers=H.current.subscribers.filter((function(t){return t.ref!==e})))}},setDefaultCamera:function(e){return z(e)},invalidate:function(){return Me(H)},intersect:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return $(e,t)},forceResize:C}),W=Object(ue.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H.current.camera,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new f.Vector3(0,0,0),n=H.current.size,r=n.width,i=n.height;if(t=e.position.distanceTo(t),e.isOrthographicCamera)return{width:r/e.zoom,height:i/e.zoom,factor:1,distance:t};var a=r/i*(e=2*Math.tan(e.fov*Math.PI/180/2)*t);return{width:a,height:e,factor:r/a,distance:t}}),[]);Object(ue.useMemo)((function(){H.current.ready=I,H.current.size=u,H.current.camera=U,H.current.invalidateFrameloop=x,H.current.vr=h,H.current.gl=i,H.current.concurrent=m,H.current.noEvents=A,H.current.viewport=W}),[x,h,m,A,I,u,U,i]),Object(ue.useMemo)((function(){H.current.aspect=u.width/u.height,Object.assign(H.current.viewport,W()),M&&(U.isOrthographicCamera?(U.left=u.width/-2,U.right=u.width/2,U.top=u.height/2,U.bottom=u.height/-2):U.aspect=H.current.aspect,U.updateProjectionMatrix(),U.updateMatrixWorld()),i.setSize(u.width,u.height),I&&Me(H)}),[U,i,u,M]);var X=Object(ue.useCallback)((function(e){var t=e.clientX,n=e.clientY;if(void 0!==t){var r=H.current.size,i=r.left,a=r.right,o=r.top,s=r.bottom;L.set((t-i)/(a-i)*2-1,-(n-o)/(s-o)*2+1),B.setFromCamera(L,H.current.camera)}}),[]),q=Object(ue.useCallback)((function(e,t){if(H.current.noEvents)return[];var n=new Set;e=[],t=t?t(H.current.scene.__interaction):H.current.scene.__interaction,t=B.intersectObjects(t,!0).filter((function(e){return e=Pe(e),!n.has(e)&&(n.add(e),!0)})),s&&s.filter&&te.current&&(t=s.filter(t,te.current));var i,a=Object(r.a)(t);try{for(a.s();!(i=a.n()).done;){var o=i.value;for(t=o.object;t;)t.__handlers&&e.push(Object(de.a)({},o,{eventObject:t})),t=t.parent}}catch(u){a.e(u)}finally{a.f()}return e}),[]),Y=Object(ue.useCallback)((function(e){var t=e.clientX-H.current.initialClick[0];return e=e.clientY-H.current.initialClick[1],Math.round(Math.sqrt(t*t+e*e))}),[]),Q=Object(ue.useMemo)((function(){return new Map}),[]),Z=Object(ue.useCallback)((function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];H.current.pointer.emit("pointerCancel",e),n&&X(e),Array.from(Q.values()).forEach((function(e){if(t&&(!t.length||!t.find((function(t){return t.eventObject===e.eventObject})))){var n=e.eventObject.__handlers;n&&(n.pointerOut&&n.pointerOut(Object(de.a)({},e,{type:"pointerout"})),n.pointerLeave&&n.pointerLeave(Object(de.a)({},e,{type:"pointerleave"}))),Q.delete(Pe(e))}}))}),[]),K=new f.Vector3,J=Object(ue.useCallback)((function(e,t,n){var i=q(e,n);if(H.current.captured&&"click"!==e.type&&"wheel"!==e.type&&H.current.captured.forEach((function(e){i.find((function(t){return t.eventObject===e.eventObject}))||i.push(e)})),i.length){n=K.set(L.x,L.y,0).unproject(H.current.camera);var a,o="click"===e.type?Y(e):0,s=function(t){return e.target.releasePointerCapture(t)},u=!1,l=!1,c=Object(r.a)(i);try{var d=function(){var r=a.value,c=function(t){l||(l=!0,H.current.captured=[]),H.current.captured&&H.current.captured.push(r),e.target.setPointerCapture(t)},d=Object(de.a)({},e,r,{intersections:i,stopped:u,delta:o,unprojectedPoint:n,ray:B.ray,camera:H.current.camera,stopPropagation:function(){var e=H.current.captured;e&&!e.find((function(e){return e.eventObject.id===r.eventObject.id}))||(d.stopped=u=!0)},target:Object(de.a)({},e.target,{setPointerCapture:c,releasePointerCapture:s}),currentTarget:Object(de.a)({},e.currentTarget,{setPointerCapture:c,releasePointerCapture:s}),sourceEvent:e});if(t(d),!0===u)return Q.size&&Array.from(Q.values()).find((function(e){return e.object===r.object}))&&Z(d,[r]),"break"};for(c.s();!(a=c.n()).done;){if("break"===d())break}}catch(h){c.e(h)}finally{c.f()}}return i}),[]),$=Object(ue.useCallback)((function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];H.current.pointer.emit("pointerMove",e),t&&X(e);var n=J(e,(function(e){var t=e.eventObject.__handlers;if(t&&(t.pointerMove&&t.pointerMove(e),t.pointerOver||t.pointerEnter||t.pointerOut||t.pointerLeave)){var n=Pe(e),r=Q.get(n);r?r.stopped&&e.stopPropagation():(Q.set(n,e),t.pointerOver&&t.pointerOver(Object(de.a)({},e,{type:"pointerover"})),t.pointerEnter&&t.pointerEnter(Object(de.a)({},e,{type:"pointerenter"})))}}),(function(e){return e.filter((function(e){return["Move","Over","Enter","Out","Leave"].some((function(t){return e.__handlers["pointer"+t]}))}))}));return Z(e,n,t),n}),[]),ee=Object(ue.useCallback)((function(e){return function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];H.current.pointer.emit(e,t),n&&X(t),n=J(t,(function(t){var n=t.eventObject,r=n.__handlers;r&&r[e]&&("click"!==e&&"contextMenu"!==e&&"doubleClick"!==e||H.current.initialHits.includes(n))&&r[e](t)})),"pointerDown"===e&&(H.current.initialClick=[t.clientX,t.clientY],H.current.initialHits=n.map((function(e){return e.eventObject}))),"click"!==e&&"contextMenu"!==e&&"doubleClick"!==e||n.length||!T||2>=Y(t)&&T()}}),[T]);Object(ue.useMemo)((function(){H.current.events={onClick:ee("click"),onContextMenu:ee("contextMenu"),onDoubleClick:ee("doubleClick"),onWheel:ee("wheel"),onPointerDown:ee("pointerDown"),onPointerUp:ee("pointerUp"),onPointerLeave:function(e){return Z(e,[])},onPointerMove:$,onGotPointerCaptureLegacy:function(e){return H.current.captured=q(e)},onLostPointerCapture:function(e){return H.current.captured=void 0,Z(e)}}}),[T]);var te=Object(ue.useRef)();Object(ue.useMemo)((function(){var e=Object(ce.a)(H.current,"ready manual vr noEvents invalidateFrameloop frames subscribers captured initialClick initialHits".split(" "));te.current=e}),[u,U]),Object(ue.useLayoutEffect)((function(){l&&i.setPixelRatio(l)}),[i,l]),Object(ue.useLayoutEffect)((function(){g&&(i.shadowMap.enabled=!0,"object"===typeof g?Object.assign(i.shadowMap,g):i.shadowMap.type=f.PCFSoftShadowMap),b&&(i.toneMapping=f.ACESFilmicToneMapping,i.outputEncoding=f.sRGBEncoding)}),[g,b]);var ne=Object(ue.useCallback)((function(e){var t=function(){return k(!0)};return Object(ue.useEffect)((function(){var e=S&&S(H.current);e&&e.then?e.then(t):k(!0)}),[]),e.children}),[]);return Object(ue.useLayoutEffect)((function(){!function(e,t,n){var r=fe.get(t);r||(t.__state=n,n=r=Le.createContainer(t,void 0!==n&&n.current.concurrent?2:0,!1,null),fe.set(t,n)),Le.updateContainer(e,r,null,(function(){})),Le.getPublicRootInstance(r)}(le.a.createElement(ne,null,le.a.createElement(Be.Provider,{value:te.current},"function"===typeof n?n(H.current):n)),N,H)}),[I,n,te.current]),Object(ue.useLayoutEffect)((function(){I&&(H.current.vr?(i.xr||i.vr)&&i.setAnimationLoop?((i.xr||i.vr).enabled=!0,i.setAnimationLoop((function(e){return _e(H,e,0,!0)}))):console.warn("the gl instance does not support VR!"):Me(H))}),[I,x]),Object(ue.useEffect)((function(){return function(){H.current.gl&&(H.current.gl.renderLists.dispose(),H.current.gl.forceContextLoss&&H.current.gl.forceContextLoss(),Ne(H.current.gl)),function(e,t){var n=fe.get(e);n&&Le.updateContainer(null,n,null,(function(){fe.delete(e),t&&t(e)}))}(H.current.scene,(function(){Ne(H.current.scene),Ne(H.current.raycaster),Ne(H.current.camera),Ne(H.current)}))}}),[]),H.current.events};function Ne(e){for(var t in e.dispose&&e.dispose(),e)"object"===typeof t&&t.dispose&&t.dispose(),delete e[t]}function Ge(e){return(e=Object(ue.useContext)(e))||console.warn("hooks can only be used within the canvas! https://github.com/react-spring/react-three-fiber#hooks"),e}var je={position:"relative",width:"100%",height:"100%",overflow:"hidden"};function Ue(e){var t=e,n=t.children,r=t.setEvents,i=t.container,a=t.renderer,o=t.effects;e=Object(ce.a)(e,["children","setEvents","container","renderer","effects"]);var s=Object(ue.useState)(a),u=Object(d.a)(s,1)[0];u||console.warn("No renderer created!"),Object(ue.useEffect)((function(){o&&o(u,i)}),[i,o,u]);var l=Fe(Object(de.a)({},e,{children:n,gl:u}));return Object(ue.useEffect)((function(){r(l)}),[l,r]),null}var ze=le.a.memo((function(e){var t=e.preRender,n=e.resize,r=e.style,i=Object(ce.a)(e,"renderer effects children vr webgl1 concurrent shadowMap colorManagement orthographic invalidateFrameloop updateDefaultCamera noEvents gl camera raycaster pixelRatio onCreated onPointerMissed preRender resize style".split(" ")),a=Object(ue.useRef)(),o=Object(ue.useState)({}),s=Object(d.a)(o,2),u=s[0],l=s[1],c=Object(ce.a)(u,["onGotPointerCaptureLegacy"]),h=Object(ee.a)(n||{scroll:!0,debounce:{scroll:50,resize:0},polyfill:"undefined"!==typeof window&&window.ResizeObserver?void 0:$}),f=Object(d.a)(h,3),m=f[0],v=f[1],g=f[2],y=Object(ue.useRef)(!1),b=Object(ue.useMemo)((function(){return y.current=y.current||!!v.width&&!!v.height}),[v]),_=Object(ue.useMemo)((function(){return{size:v,forceResize:g,setEvents:l,container:a.current}}),[g,v]);return"undefined"===typeof window?le.a.createElement("div",Object(de.a)({style:Object(de.a)({},je,r)},i),t):le.a.createElement("div",Object(de.a)({ref:Object(p.a)([m,a]),style:Object(de.a)({},je,r)},c,i),t,b&&le.a.createElement(Ue,Object(de.a)({},e,_)))})),Ve=le.a.memo((function(e){var t=e.children,n=Object(ce.a)(e,["children"]),r=Object(ue.useRef)(),i=n.webgl1?f.WebGL1Renderer:f.WebGLRenderer;return le.a.createElement(ze,Object(de.a)({},n,{renderer:function(){if(r.current){var e=Object(de.a)({antialias:!0,alpha:!0},n.gl);return new i(Object(de.a)({powerPreference:"high-performance",canvas:r.current},e))}},preRender:le.a.createElement("canvas",{ref:r,style:{display:"block"}})}),t)})),He=function(e){return ve(e,ye)},We=function(e){return ve(e,ge)};function Xe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Ge(Be),r=n.subscribe,i=Object(ue.useRef)(e);return Object(ue.useLayoutEffect)((function(){i.current=e}),[e]),Object(ue.useEffect)((function(){var e=r(i,t);return function(){return e()}}),[t,r]),null}function qe(e,t,n,r){var i=Object(ue.useMemo)((function(){var t=new e;return n&&n(t),t}),[e,n]),a=ne()((function(e,t){return e=Array.isArray(t)?t:[t],Promise.all(e.map((function(e){return new Promise((function(t,n){return i.load(e,(function(e){e.scene&&(e.nodes={},e.materials={},e.scene.traverse((function(t){t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}))),t(e)}),r,(function(e){return n(e.message)}))}))})))}),[e,t]);return Array.isArray(t)?a:a[0]}function Ye(e){var t=Object(ue.useState)(!1),n=Object(d.a)(t,2)[1],r=Object(ue.useRef)(void 0);return e=e||r,Object(ue.useLayoutEffect)((function(){n((function(e){return!e}))}),[]),e}function Qe(){return Ge(Be)}function Ze(e,t,n){var r=Ge(Be).invalidate,i=Object(ue.useRef)(),a=n||i,o=Object(ue.useRef)(t);return Object(ue.useEffect)((function(){o.current=t})),Object(ue.useLayoutEffect)((function(){a.current&&o.current!==t&&(e(a.current),r())}),[e,t,r,a]),a}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(44);var i=n(28),a=n(45);function o(e,t){return Object(r.a)(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(u){i=!0,a=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}(e,t)||Object(i.a)(e,t)||Object(a.a)()}},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.r(t),n.d(t,"createStringInterpolator",(function(){return r})),n.d(t,"frameLoop",(function(){return s})),n.d(t,"to",(function(){return i})),n.d(t,"now",(function(){return u})),n.d(t,"colorNames",(function(){return l})),n.d(t,"skipAnimation",(function(){return c})),n.d(t,"requestAnimationFrame",(function(){return d})),n.d(t,"batchedUpdates",(function(){return h})),n.d(t,"willAdvance",(function(){return f})),n.d(t,"assign",(function(){return p}));var r,i,a=n(38),o=n(2),s=new a.a,u=function(){return performance.now()},l=null,c=!1,d="undefined"!==typeof window?window.requestAnimationFrame:function(){return-1},h=function(e){return e()},f=o.g,p=function(e){var t;return t=Object.assign({to:i,now:u,frameLoop:s,colorNames:l,skipAnimation:c,createStringInterpolator:r,requestAnimationFrame:d,batchedUpdates:h,willAdvance:f},function(e){var t={};for(var n in e)void 0!==e[n]&&(t[n]=e[n]);return t}(e)),i=t.to,u=t.now,s=t.frameLoop,l=t.colorNames,c=t.skipAnimation,r=t.createStringInterpolator,d=t.requestAnimationFrame,h=t.batchedUpdates,f=t.willAdvance,t}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var r=Symbol.for("FluidValue:config");function i(e){var t=a(e);return t?t.get():e}function a(e){if(e)return e[r]}var o=function(){var e,t;e=this,t=this,Object.defineProperty(e,r,{value:t,configurable:!0})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return T})),n.d(t,"b",(function(){return S})),n.d(t,"c",(function(){return E})),n.d(t,"d",(function(){return M})),n.d(t,"e",(function(){return I})),n.d(t,"f",(function(){return b})),n.d(t,"g",(function(){return x})),n.d(t,"h",(function(){return _}));var r=n(18),i=n(16),a=n(13),o=n(5),s=n(6),u=n(4),l=n(7),c=n(2),d=n(29),h=n(14),f=n(31),p=n(3),m=n(11),v=n(1),g=n(27),y=Symbol.for("Animated:node"),b=function(e){return e&&e[y]},_=function(e,t){return Object(c.a)(e,y,t)},x=function(e){return e&&e[y]&&e[y].getPayload()},w=function(){function e(){Object(u.a)(this,e),this.payload=void 0,_(this,this)}return Object(l.a)(e,[{key:"getPayload",value:function(){return this.payload||[]}}]),e}(),M=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this))._value=e,r.done=!0,r.elapsedTime=void 0,r.lastPosition=void 0,r.lastVelocity=void 0,r.v0=void 0,c.d.num(r._value)&&(r.lastPosition=r._value),r}return Object(l.a)(n,[{key:"getPayload",value:function(){return[this]}},{key:"getValue",value:function(){return this._value}},{key:"setValue",value:function(e,t){return c.d.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value!==e&&(this._value=e,!0)}},{key:"reset",value:function(){var e=this.done;this.done=!1,c.d.num(this._value)&&(this.elapsedTime=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}}],[{key:"create",value:function(e,t){return new n(e)}}]),n}(w),E=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e,r){var i;return Object(u.a)(this,n),(i=t.call(this,0))._value=void 0,i._string=null,i._toString=void 0,i._toString=Object(d.a)({output:[e,r]}),i}return Object(l.a)(n,[{key:"getValue",value:function(){var e=this._string;return null==e?this._string=this._toString(this._value):e}},{key:"setValue",value:function(e){if(c.d.num(e)){if(!Object(i.a)(Object(a.a)(n.prototype),"setValue",this).call(this,e))return!1;this._string=null}else this._string=e,this._value=1;return!0}},{key:"reset",value:function(e){e&&(this._toString=Object(d.a)({output:[this.getValue(),e]})),this._value=0,Object(i.a)(Object(a.a)(n.prototype),"reset",this).call(this)}}],[{key:"create",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;if(c.d.str(e)&&c.d.str(t))return new n(e,t);throw TypeError('Expected "from" and "to" to be strings')}}]),n}(M),A={current:null},S=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Object(u.a)(this,n),(e=t.call(this)).source=void 0,e.setValue(r),e}return Object(l.a)(n,[{key:"getValue",value:function(e){if(!this.source)return null;var t={};return Object(c.b)(this.source,(function(n,r){if((a=n)&&a[y]===a)t[r]=n.getValue(e);else{var i=Object(h.b)(n);i?t[r]=i.get():e||(t[r]=n)}var a})),t}},{key:"setValue",value:function(e){this.source=e,this.payload=this._makePayload(e)}},{key:"reset",value:function(){this.payload&&Object(c.b)(this.payload,(function(e){return e.reset()}))}},{key:"_makePayload",value:function(e){if(e){var t=new Set;return Object(c.b)(e,this._addToPayload,t),Array.from(t)}}},{key:"_addToPayload",value:function(e){var t=this;Object(h.b)(e)&&A.current&&A.current.dependencies.add(e);var n=x(e);n&&Object(c.b)(n,(function(e){return t.add(e)}))}}]),n}(w),T=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e,o){var s,l;return Object(u.a)(this,n),(l=t.call(this,null)).source=void 0,Object(i.a)((s=Object(r.a)(l),Object(a.a)(n.prototype)),"setValue",s).call(s,l._makeAnimated(e,o)),l}return Object(l.a)(n,[{key:"getValue",value:function(){return this.source.map((function(e){return e.getValue()}))}},{key:"setValue",value:function(e){var t=this.getPayload();e&&e.length==t.length?Object(c.b)(t,(function(t,n){return t.setValue(e[n])})):(this.source=this._makeAnimated(e),this.payload=this._makePayload(this.source))}},{key:"_makeAnimated",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return e?e.map((function(e,n){return(Object(c.e)(e)?E:M).create(e,t[n])})):[]}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(S),C=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,null)).update=e,r.dirty=!1,r}return Object(l.a)(n,[{key:"setValue",value:function(e,t){if(e){if(t&&(A.current=t,e.style)){var r=t.host.createAnimatedStyle;e=Object(p.a)(Object(p.a)({},e),{},{style:r(e.style)})}Object(i.a)(Object(a.a)(n.prototype),"setValue",this).call(this,e),A.current=null}}},{key:"onParentChange",value:function(e){var t=this,n=e.type;this.dirty||"change"!==n||(this.dirty=!0,m.frameLoop.onFrame((function(){t.dirty=!1,t.update()})))}}]),n}(S),D=function(e,t){return Object(v.forwardRef)((function(n,r){var i=Object(v.useRef)(null),a=!c.d.fun(e)||e.prototype&&e.prototype.isReactComponent,o=Object(f.a)(),s=new C((function(){var e=i.current;a&&!e||!1===(!!e&&t.applyAnimatedValues(e,s.getValue(!0)))&&o()})),u=new Set;return s.setValue(n,{dependencies:u,host:t}),Object(g.a)((function(){return Object(c.b)(u,(function(e){return e.addChild(s)})),function(){return Object(c.b)(u,(function(e){return e.removeChild(s)}))}})),Object(v.createElement)(e,Object(p.a)({},t.getComponentProps(s.getValue()),{ref:a&&function(e){i.current=function(e,t){e&&(c.d.fun(e)?e(t):e.current=t);return t}(r,e)}}))}))};var R=Symbol.for("AnimatedComponent"),I=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.applyAnimatedValues,r=void 0===n?function(){return!1}:n,i=t.createAnimatedStyle,a=void 0===i?function(e){return new S(e)}:i,o=t.getComponentProps,s=void 0===o?function(e){return e}:o,u={applyAnimatedValues:r,createAnimatedStyle:a,getComponentProps:s},l=function(e){var t=k(e)||"Anonymous";return(e=c.d.str(e)?D(e,u):e[R]||(e[R]=D(e,u))).displayName="Animated("+t+")",e};return Object(c.b)(e,(function(e,t){c.d.str(t)||(t=k(e)),l[t]=l(e)})),{animated:l}},k=function(e){return c.d.str(e)?e:e&&c.d.str(e.displayName)?e.displayName:c.d.fun(e)&&e.name||null}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(13);function i(e,t,n){return(i="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Object(r.a)(e)););return e}(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(n):a.value}})(e,t,n||e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return A})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return y}));var r=n(24),i=n(1),a=n.n(i),o=(n(39),n(25)),s=n(56),u=n(23),l=n(3),c=n(57),d=n.n(c),h=(n(58),n(10)),f=(n(69),function(e){var t=Object(s.a)();return t.displayName=e,t}("Router-History")),p=function(e){var t=Object(s.a)();return t.displayName=e,t}("Router"),m=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}Object(r.a)(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return a.a.createElement(p.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},a.a.createElement(f.Provider,{children:this.props.children||null,value:this.props.history}))},t}(a.a.Component);a.a.Component;a.a.Component;var v={},g=0;function y(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,a=void 0!==i&&i,o=n.strict,s=void 0!==o&&o,u=n.sensitive,l=void 0!==u&&u;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=v[n]||(v[n]={});if(r[e])return r[e];var i=[],a={regexp:d()(e,i,t),keys:i};return g<1e4&&(r[e]=a,g++),a}(n,{end:a,strict:s,sensitive:l}),i=r.regexp,o=r.keys,u=i.exec(e);if(!u)return null;var c=u[0],h=u.slice(1),f=e===c;return a&&!f?null:{path:n,url:"/"===n&&""===c?"/":c,isExact:f,params:o.reduce((function(e,t,n){return e[t.name]=h[n],e}),{})}}),null)}var b=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this;return a.a.createElement(p.Consumer,null,(function(t){t||Object(u.a)(!1);var n=e.props.location||t.location,r=e.props.computedMatch?e.props.computedMatch:e.props.path?y(n.pathname,e.props):t.match,i=Object(l.a)({},t,{location:n,match:r}),o=e.props,s=o.children,c=o.component,d=o.render;return Array.isArray(s)&&0===s.length&&(s=null),a.a.createElement(p.Provider,{value:i},i.match?s?"function"===typeof s?s(i):s:c?a.a.createElement(c,i):d?d(i):null:"function"===typeof s?s(i):null)}))},t}(a.a.Component);function _(e){return"/"===e.charAt(0)?e:"/"+e}function x(e,t){if(!e)return t;var n=_(e);return 0!==t.pathname.indexOf(n)?t:Object(l.a)({},t,{pathname:t.pathname.substr(n.length)})}function w(e){return"string"===typeof e?e:Object(o.e)(e)}function M(e){return function(){Object(u.a)(!1)}}function E(){}a.a.Component;var A=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this;return a.a.createElement(p.Consumer,null,(function(t){t||Object(u.a)(!1);var n,r,i=e.props.location||t.location;return a.a.Children.forEach(e.props.children,(function(e){if(null==r&&a.a.isValidElement(e)){n=e;var o=e.props.path||e.props.from;r=o?y(i.pathname,Object(l.a)({},e.props,{path:o})):t.match}})),r?a.a.cloneElement(n,{location:i,computedMatch:r}):null}))},t}(a.a.Component);a.a.useContext},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(40);var i=n(47),a=n(28);function o(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||Object(i.a)(e)||Object(a.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return ke})),n.d(t,"b",(function(){return Ve})),n.d(t,"c",(function(){return Le})),n.d(t,"d",(function(){return Oe})),n.d(t,"e",(function(){return Pe})),n.d(t,"f",(function(){return Be})),n.d(t,"g",(function(){return Ye})),n.d(t,"h",(function(){return Fe}));n(12);var r=n(4),i=n(7),a=n(18),o=n(5),s=n(6),u=(n(35),n(19)),l=n(9),c=n(3),d=n(10),h=n(1),f=n.n(h),p=n(8),m=(n(30),n(0)),v=function(){m.InstancedBufferGeometry.call(this),this.type="LineSegmentsGeometry";this.setIndex([0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5]),this.setAttribute("position",new m.Float32BufferAttribute([-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],3)),this.setAttribute("uv",new m.Float32BufferAttribute([-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],2))};v.prototype=Object.assign(Object.create(m.InstancedBufferGeometry.prototype),{constructor:v,isLineSegmentsGeometry:!0,applyMatrix4:function(e){var t=this.attributes.instanceStart,n=this.attributes.instanceEnd;return void 0!==t&&(t.applyMatrix4(e),n.applyMatrix4(e),t.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},setPositions:function(e){var t;e instanceof Float32Array?t=e:Array.isArray(e)&&(t=new Float32Array(e));var n=new m.InstancedInterleavedBuffer(t,6,1);return this.setAttribute("instanceStart",new m.InterleavedBufferAttribute(n,3,0)),this.setAttribute("instanceEnd",new m.InterleavedBufferAttribute(n,3,3)),this.computeBoundingBox(),this.computeBoundingSphere(),this},setColors:function(e){var t;e instanceof Float32Array?t=e:Array.isArray(e)&&(t=new Float32Array(e));var n=new m.InstancedInterleavedBuffer(t,6,1);return this.setAttribute("instanceColorStart",new m.InterleavedBufferAttribute(n,3,0)),this.setAttribute("instanceColorEnd",new m.InterleavedBufferAttribute(n,3,3)),this},fromWireframeGeometry:function(e){return this.setPositions(e.attributes.position.array),this},fromEdgesGeometry:function(e){return this.setPositions(e.attributes.position.array),this},fromMesh:function(e){return this.fromWireframeGeometry(new m.WireframeGeometry(e.geometry)),this},fromLineSegments:function(e){var t=e.geometry;return t.isGeometry?this.setPositions(t.vertices):t.isBufferGeometry&&this.setPositions(t.attributes.position.array),this},computeBoundingBox:function(){var e=new m.Box3;return function(){null===this.boundingBox&&(this.boundingBox=new m.Box3);var t=this.attributes.instanceStart,n=this.attributes.instanceEnd;void 0!==t&&void 0!==n&&(this.boundingBox.setFromBufferAttribute(t),e.setFromBufferAttribute(n),this.boundingBox.union(e))}}(),computeBoundingSphere:function(){var e=new m.Vector3;return function(){null===this.boundingSphere&&(this.boundingSphere=new m.Sphere),null===this.boundingBox&&this.computeBoundingBox();var t=this.attributes.instanceStart,n=this.attributes.instanceEnd;if(void 0!==t&&void 0!==n){var r=this.boundingSphere.center;this.boundingBox.getCenter(r);for(var i=0,a=0,o=t.count;a<o;a++)e.fromBufferAttribute(t,a),i=Math.max(i,r.distanceToSquared(e)),e.fromBufferAttribute(n,a),i=Math.max(i,r.distanceToSquared(e));this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}}}(),toJSON:function(){},applyMatrix:function(e){return console.warn("THREE.LineSegmentsGeometry: applyMatrix() has been renamed to applyMatrix4()."),this.applyMatrix4(e)}});var g=function(){v.call(this),this.type="LineGeometry"};g.prototype=Object.assign(Object.create(v.prototype),{constructor:g,isLineGeometry:!0,setPositions:function(e){for(var t=e.length-3,n=new Float32Array(2*t),r=0;r<t;r+=3)n[2*r]=e[r],n[2*r+1]=e[r+1],n[2*r+2]=e[r+2],n[2*r+3]=e[r+3],n[2*r+4]=e[r+4],n[2*r+5]=e[r+5];return v.prototype.setPositions.call(this,n),this},setColors:function(e){for(var t=e.length-3,n=new Float32Array(2*t),r=0;r<t;r+=3)n[2*r]=e[r],n[2*r+1]=e[r+1],n[2*r+2]=e[r+2],n[2*r+3]=e[r+3],n[2*r+4]=e[r+4],n[2*r+5]=e[r+5];return v.prototype.setColors.call(this,n),this},fromLine:function(e){var t=e.geometry;return t.isGeometry?this.setPositions(t.vertices):t.isBufferGeometry&&this.setPositions(t.attributes.position.array),this},copy:function(){return this}}),m.UniformsLib.line={linewidth:{value:1},resolution:{value:new m.Vector2(1,1)},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1},opacity:{value:1}},m.ShaderLib.line={uniforms:m.UniformsUtils.merge([m.UniformsLib.common,m.UniformsLib.fog,m.UniformsLib.line]),vertexShader:"\n\t\t#include <common>\n\t\t#include <color_pars_vertex>\n\t\t#include <fog_pars_vertex>\n\t\t#include <logdepthbuf_pars_vertex>\n\t\t#include <clipping_planes_pars_vertex>\n\n\t\tuniform float linewidth;\n\t\tuniform vec2 resolution;\n\n\t\tattribute vec3 instanceStart;\n\t\tattribute vec3 instanceEnd;\n\n\t\tattribute vec3 instanceColorStart;\n\t\tattribute vec3 instanceColorEnd;\n\n\t\tvarying vec2 vUv;\n\n\t\t#ifdef USE_DASH\n\n\t\t\tuniform float dashScale;\n\t\t\tattribute float instanceDistanceStart;\n\t\t\tattribute float instanceDistanceEnd;\n\t\t\tvarying float vLineDistance;\n\n\t\t#endif\n\n\t\tvoid trimSegment( const in vec4 start, inout vec4 end ) {\n\n\t\t\t// trim end segment so it terminates between the camera plane and the near plane\n\n\t\t\t// conservative estimate of the near plane\n\t\t\tfloat a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column\n\t\t\tfloat b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column\n\t\t\tfloat nearEstimate = - 0.5 * b / a;\n\n\t\t\tfloat alpha = ( nearEstimate - start.z ) / ( end.z - start.z );\n\n\t\t\tend.xyz = mix( start.xyz, end.xyz, alpha );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\t#ifdef USE_COLOR\n\n\t\t\t\tvColor.xyz = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;\n\n\t\t\t#endif\n\n\t\t\t#ifdef USE_DASH\n\n\t\t\t\tvLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;\n\n\t\t\t#endif\n\n\t\t\tfloat aspect = resolution.x / resolution.y;\n\n\t\t\tvUv = uv;\n\n\t\t\t// camera space\n\t\t\tvec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );\n\t\t\tvec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );\n\n\t\t\t// special case for perspective projection, and segments that terminate either in, or behind, the camera plane\n\t\t\t// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space\n\t\t\t// but we need to perform ndc-space calculations in the shader, so we must address this issue directly\n\t\t\t// perhaps there is a more elegant solution -- WestLangley\n\n\t\t\tbool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column\n\n\t\t\tif ( perspective ) {\n\n\t\t\t\tif ( start.z < 0.0 && end.z >= 0.0 ) {\n\n\t\t\t\t\ttrimSegment( start, end );\n\n\t\t\t\t} else if ( end.z < 0.0 && start.z >= 0.0 ) {\n\n\t\t\t\t\ttrimSegment( end, start );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// clip space\n\t\t\tvec4 clipStart = projectionMatrix * start;\n\t\t\tvec4 clipEnd = projectionMatrix * end;\n\n\t\t\t// ndc space\n\t\t\tvec2 ndcStart = clipStart.xy / clipStart.w;\n\t\t\tvec2 ndcEnd = clipEnd.xy / clipEnd.w;\n\n\t\t\t// direction\n\t\t\tvec2 dir = ndcEnd - ndcStart;\n\n\t\t\t// account for clip-space aspect ratio\n\t\t\tdir.x *= aspect;\n\t\t\tdir = normalize( dir );\n\n\t\t\t// perpendicular to dir\n\t\t\tvec2 offset = vec2( dir.y, - dir.x );\n\n\t\t\t// undo aspect ratio adjustment\n\t\t\tdir.x /= aspect;\n\t\t\toffset.x /= aspect;\n\n\t\t\t// sign flip\n\t\t\tif ( position.x < 0.0 ) offset *= - 1.0;\n\n\t\t\t// endcaps\n\t\t\tif ( position.y < 0.0 ) {\n\n\t\t\t\toffset += - dir;\n\n\t\t\t} else if ( position.y > 1.0 ) {\n\n\t\t\t\toffset += dir;\n\n\t\t\t}\n\n\t\t\t// adjust for linewidth\n\t\t\toffset *= linewidth;\n\n\t\t\t// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...\n\t\t\toffset /= resolution.y;\n\n\t\t\t// select end\n\t\t\tvec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;\n\n\t\t\t// back to clip space\n\t\t\toffset *= clip.w;\n\n\t\t\tclip.xy += offset;\n\n\t\t\tgl_Position = clip;\n\n\t\t\tvec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation\n\n\t\t\t#include <logdepthbuf_vertex>\n\t\t\t#include <clipping_planes_vertex>\n\t\t\t#include <fog_vertex>\n\n\t\t}\n\t\t",fragmentShader:"\n\t\tuniform vec3 diffuse;\n\t\tuniform float opacity;\n\n\t\t#ifdef USE_DASH\n\n\t\t\tuniform float dashSize;\n\t\t\tuniform float gapSize;\n\n\t\t#endif\n\n\t\tvarying float vLineDistance;\n\n\t\t#include <common>\n\t\t#include <color_pars_fragment>\n\t\t#include <fog_pars_fragment>\n\t\t#include <logdepthbuf_pars_fragment>\n\t\t#include <clipping_planes_pars_fragment>\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\t#include <clipping_planes_fragment>\n\n\t\t\t#ifdef USE_DASH\n\n\t\t\t\tif ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps\n\n\t\t\t\tif ( mod( vLineDistance, dashSize + gapSize ) > dashSize ) discard; // todo - FIX\n\n\t\t\t#endif\n\n\t\t\tif ( abs( vUv.y ) > 1.0 ) {\n\n\t\t\t\tfloat a = vUv.x;\n\t\t\t\tfloat b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;\n\t\t\t\tfloat len2 = a * a + b * b;\n\n\t\t\t\tif ( len2 > 1.0 ) discard;\n\n\t\t\t}\n\n\t\t\tvec4 diffuseColor = vec4( diffuse, opacity );\n\n\t\t\t#include <logdepthbuf_fragment>\n\t\t\t#include <color_fragment>\n\n\t\t\tgl_FragColor = vec4( diffuseColor.rgb, diffuseColor.a );\n\n\t\t\t#include <tonemapping_fragment>\n\t\t\t#include <encodings_fragment>\n\t\t\t#include <fog_fragment>\n\t\t\t#include <premultiplied_alpha_fragment>\n\n\t\t}\n\t\t"};var y=function(e){m.ShaderMaterial.call(this,{type:"LineMaterial",uniforms:m.UniformsUtils.clone(m.ShaderLib.line.uniforms),vertexShader:m.ShaderLib.line.vertexShader,fragmentShader:m.ShaderLib.line.fragmentShader,clipping:!0}),this.dashed=!1,Object.defineProperties(this,{color:{enumerable:!0,get:function(){return this.uniforms.diffuse.value},set:function(e){this.uniforms.diffuse.value=e}},linewidth:{enumerable:!0,get:function(){return this.uniforms.linewidth.value},set:function(e){this.uniforms.linewidth.value=e}},dashScale:{enumerable:!0,get:function(){return this.uniforms.dashScale.value},set:function(e){this.uniforms.dashScale.value=e}},dashSize:{enumerable:!0,get:function(){return this.uniforms.dashSize.value},set:function(e){this.uniforms.dashSize.value=e}},gapSize:{enumerable:!0,get:function(){return this.uniforms.gapSize.value},set:function(e){this.uniforms.gapSize.value=e}},opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(e){this.uniforms.opacity.value=e}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(e){this.uniforms.resolution.value.copy(e)}}}),this.setValues(e)};(y.prototype=Object.create(m.ShaderMaterial.prototype)).constructor=y,y.prototype.isLineMaterial=!0;var b=function(e,t){m.Mesh.call(this),this.type="LineSegments2",this.geometry=void 0!==e?e:new v,this.material=void 0!==t?t:new y({color:16777215*Math.random()})};b.prototype=Object.assign(Object.create(m.Mesh.prototype),{constructor:b,isLineSegments2:!0,computeLineDistances:function(){var e=new m.Vector3,t=new m.Vector3;return function(){for(var n=this.geometry,r=n.attributes.instanceStart,i=n.attributes.instanceEnd,a=new Float32Array(2*r.data.count),o=0,s=0,u=r.data.count;o<u;o++,s+=2)e.fromBufferAttribute(r,o),t.fromBufferAttribute(i,o),a[s]=0===s?0:a[s-1],a[s+1]=a[s]+e.distanceTo(t);var l=new m.InstancedInterleavedBuffer(a,2,1);return n.setAttribute("instanceDistanceStart",new m.InterleavedBufferAttribute(l,1,0)),n.setAttribute("instanceDistanceEnd",new m.InterleavedBufferAttribute(l,1,1)),this}}(),raycast:function(){var e=new m.Vector4,t=new m.Vector4,n=new m.Vector4,r=new m.Vector3,i=new m.Matrix4,a=new m.Line3,o=new m.Vector3;return function(s,u){null===s.camera&&console.error('LineSegments2: "Raycaster.camera" needs to be set in order to raycast against LineSegments2.');var l=s.ray,c=s.camera,d=c.projectionMatrix,h=this.geometry,f=this.material,p=f.resolution,v=f.linewidth,g=h.attributes.instanceStart,y=h.attributes.instanceEnd;l.at(1,n),n.w=1,n.applyMatrix4(c.matrixWorldInverse),n.applyMatrix4(d),n.multiplyScalar(1/n.w),n.x*=p.x/2,n.y*=p.y/2,n.z=0,r.copy(n);var b=this.matrixWorld;i.multiplyMatrices(c.matrixWorldInverse,b);for(var _=0,x=g.count;_<x;_++){e.fromBufferAttribute(g,_),t.fromBufferAttribute(y,_),e.w=1,t.w=1,e.applyMatrix4(i),t.applyMatrix4(i),e.applyMatrix4(d),t.applyMatrix4(d),e.multiplyScalar(1/e.w),t.multiplyScalar(1/t.w);var w=e.z<-1&&t.z<-1,M=e.z>1&&t.z>1;if(!w&&!M){e.x*=p.x/2,e.y*=p.y/2,t.x*=p.x/2,t.y*=p.y/2,a.start.copy(e),a.start.z=0,a.end.copy(t),a.end.z=0;var E=a.closestPointToPointParameter(r,!0);a.at(E,o);var A=m.MathUtils.lerp(e.z,t.z,E),S=A>=-1&&A<=1,T=r.distanceTo(o)<.5*v;if(S&&T){a.start.fromBufferAttribute(g,_),a.end.fromBufferAttribute(y,_),a.start.applyMatrix4(b),a.end.applyMatrix4(b);var C=new m.Vector3,D=new m.Vector3;l.distanceSqToSegment(a.start,a.end,D,C),u.push({point:D,pointOnLine:C,distance:l.origin.distanceTo(D),object:this,face:null,faceIndex:_,uv:null,uv2:null})}}}}}()});var _=function(e,t){b.call(this),this.type="Line2",this.geometry=void 0!==e?e:new g,this.material=void 0!==t?t:new y({color:16777215*Math.random()})};_.prototype=Object.assign(Object.create(b.prototype),{constructor:_,isLine2:!0});var x=n(62),w=function(e){var t=this,n={type:"change"};this.object=e,this.object.rotation.reorder("YXZ"),this.enabled=!0,this.deviceOrientation={},this.screenOrientation=0,this.alphaOffset=0;var r=function(e){t.deviceOrientation=e},i=function(){t.screenOrientation=window.orientation||0},a=function(){var e=new m.Vector3(0,0,1),t=new m.Euler,n=new m.Quaternion,r=new m.Quaternion(-Math.sqrt(.5),0,0,Math.sqrt(.5));return function(i,a,o,s,u){t.set(o,a,-s,"YXZ"),i.setFromEuler(t),i.multiply(r),i.multiply(n.setFromAxisAngle(e,-u))}}();this.connect=function(){i(),void 0!==window.DeviceOrientationEvent&&"function"===typeof window.DeviceOrientationEvent.requestPermission?window.DeviceOrientationEvent.requestPermission().then((function(e){"granted"==e&&(window.addEventListener("orientationchange",i,!1),window.addEventListener("deviceorientation",r,!1))})).catch((function(e){console.error("THREE.DeviceOrientationControls: Unable to use DeviceOrientation API:",e)})):(window.addEventListener("orientationchange",i,!1),window.addEventListener("deviceorientation",r,!1)),t.enabled=!0},this.disconnect=function(){window.removeEventListener("orientationchange",i,!1),window.removeEventListener("deviceorientation",r,!1),t.enabled=!1},this.update=function(){var e=new m.Quaternion;return function(){if(!1!==t.enabled){var r=t.deviceOrientation;if(r){var i=r.alpha?m.MathUtils.degToRad(r.alpha)+t.alphaOffset:0,o=r.beta?m.MathUtils.degToRad(r.beta):0,s=r.gamma?m.MathUtils.degToRad(r.gamma):0,u=t.screenOrientation?m.MathUtils.degToRad(t.screenOrientation):0;a(t.object.quaternion,i,o,s,u),8*(1-e.dot(t.object.quaternion))>1e-6&&(e.copy(t.object.quaternion),t.dispatchEvent(n))}}}}(),this.dispose=function(){t.disconnect()},this.connect()};(w.prototype=Object.create(m.EventDispatcher.prototype)).constructor=w;var M=function(e,t){void 0===t&&(console.warn('THREE.FlyControls: The second parameter "domElement" is now mandatory.'),t=document),this.object=e,this.domElement=t,t&&this.domElement.setAttribute("tabindex",-1),this.movementSpeed=1,this.rollSpeed=.005,this.dragToLook=!1,this.autoForward=!1;var n=this,r={type:"change"};function i(e,t){return function(){t.apply(e,arguments)}}function a(e){e.preventDefault()}this.tmpQuaternion=new m.Quaternion,this.mouseStatus=0,this.moveState={up:0,down:0,left:0,right:0,forward:0,back:0,pitchUp:0,pitchDown:0,yawLeft:0,yawRight:0,rollLeft:0,rollRight:0},this.moveVector=new m.Vector3(0,0,0),this.rotationVector=new m.Vector3(0,0,0),this.keydown=function(e){if(!e.altKey){switch(e.keyCode){case 16:this.movementSpeedMultiplier=.1;break;case 87:this.moveState.forward=1;break;case 83:this.moveState.back=1;break;case 65:this.moveState.left=1;break;case 68:this.moveState.right=1;break;case 82:this.moveState.up=1;break;case 70:this.moveState.down=1;break;case 38:this.moveState.pitchUp=1;break;case 40:this.moveState.pitchDown=1;break;case 37:this.moveState.yawLeft=1;break;case 39:this.moveState.yawRight=1;break;case 81:this.moveState.rollLeft=1;break;case 69:this.moveState.rollRight=1}this.updateMovementVector(),this.updateRotationVector()}},this.keyup=function(e){switch(e.keyCode){case 16:this.movementSpeedMultiplier=1;break;case 87:this.moveState.forward=0;break;case 83:this.moveState.back=0;break;case 65:this.moveState.left=0;break;case 68:this.moveState.right=0;break;case 82:this.moveState.up=0;break;case 70:this.moveState.down=0;break;case 38:this.moveState.pitchUp=0;break;case 40:this.moveState.pitchDown=0;break;case 37:this.moveState.yawLeft=0;break;case 39:this.moveState.yawRight=0;break;case 81:this.moveState.rollLeft=0;break;case 69:this.moveState.rollRight=0}this.updateMovementVector(),this.updateRotationVector()},this.mousedown=function(e){if(this.domElement!==document&&this.domElement.focus(),e.preventDefault(),e.stopPropagation(),this.dragToLook)this.mouseStatus++;else{switch(e.button){case 0:this.moveState.forward=1;break;case 2:this.moveState.back=1}this.updateMovementVector()}},this.mousemove=function(e){if(!this.dragToLook||this.mouseStatus>0){var t=this.getContainerDimensions(),n=t.size[0]/2,r=t.size[1]/2;this.moveState.yawLeft=-(e.pageX-t.offset[0]-n)/n,this.moveState.pitchDown=(e.pageY-t.offset[1]-r)/r,this.updateRotationVector()}},this.mouseup=function(e){if(e.preventDefault(),e.stopPropagation(),this.dragToLook)this.mouseStatus--,this.moveState.yawLeft=this.moveState.pitchDown=0;else{switch(e.button){case 0:this.moveState.forward=0;break;case 2:this.moveState.back=0}this.updateMovementVector()}this.updateRotationVector()},this.update=function(){var e=new m.Quaternion,t=new m.Vector3;return function(i){var a=i*n.movementSpeed,o=i*n.rollSpeed;n.object.translateX(n.moveVector.x*a),n.object.translateY(n.moveVector.y*a),n.object.translateZ(n.moveVector.z*a),n.tmpQuaternion.set(n.rotationVector.x*o,n.rotationVector.y*o,n.rotationVector.z*o,1).normalize(),n.object.quaternion.multiply(n.tmpQuaternion),(t.distanceToSquared(n.object.position)>1e-6||8*(1-e.dot(n.object.quaternion))>1e-6)&&(n.dispatchEvent(r),e.copy(n.object.quaternion),t.copy(n.object.position))}}(),this.updateMovementVector=function(){var e=this.moveState.forward||this.autoForward&&!this.moveState.back?1:0;this.moveVector.x=-this.moveState.left+this.moveState.right,this.moveVector.y=-this.moveState.down+this.moveState.up,this.moveVector.z=-e+this.moveState.back},this.updateRotationVector=function(){this.rotationVector.x=-this.moveState.pitchDown+this.moveState.pitchUp,this.rotationVector.y=-this.moveState.yawRight+this.moveState.yawLeft,this.rotationVector.z=-this.moveState.rollRight+this.moveState.rollLeft},this.getContainerDimensions=function(){return this.domElement!=document?{size:[this.domElement.offsetWidth,this.domElement.offsetHeight],offset:[this.domElement.offsetLeft,this.domElement.offsetTop]}:{size:[window.innerWidth,window.innerHeight],offset:[0,0]}},this.dispose=function(){this.domElement.removeEventListener("contextmenu",a,!1),this.domElement.removeEventListener("mousedown",s,!1),this.domElement.removeEventListener("mousemove",o,!1),this.domElement.removeEventListener("mouseup",u,!1),window.removeEventListener("keydown",l,!1),window.removeEventListener("keyup",c,!1)};var o=i(this,this.mousemove),s=i(this,this.mousedown),u=i(this,this.mouseup),l=i(this,this.keydown),c=i(this,this.keyup);this.domElement.addEventListener("contextmenu",a,!1),this.domElement.addEventListener("mousemove",o,!1),this.domElement.addEventListener("mousedown",s,!1),this.domElement.addEventListener("mouseup",u,!1),window.addEventListener("keydown",l,!1),window.addEventListener("keyup",c,!1),this.updateMovementVector(),this.updateRotationVector()};(M.prototype=Object.create(m.EventDispatcher.prototype)).constructor=M;var E=function(e,t){void 0===t&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),t===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=e,this.domElement=t,this.enabled=!0,this.target=new m.Vector3,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={LEFT:m.MOUSE.ROTATE,MIDDLE:m.MOUSE.DOLLY,RIGHT:m.MOUSE.PAN},this.touches={ONE:m.TOUCH.ROTATE,TWO:m.TOUCH.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return l.phi},this.getAzimuthalAngle=function(){return l.theta},this.saveState=function(){n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=function(){n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(r),n.update(),s=o.NONE},this.update=function(){var t=new m.Vector3,i=(new m.Quaternion).setFromUnitVectors(e.up,new m.Vector3(0,1,0)),a=i.clone().inverse(),p=new m.Vector3,v=new m.Quaternion,g=2*Math.PI;return function(){var e=n.object.position;t.copy(e).sub(n.target),t.applyQuaternion(i),l.setFromVector3(t),n.autoRotate&&s===o.NONE&&A(2*Math.PI/60/60*n.autoRotateSpeed),n.enableDamping?(l.theta+=c.theta*n.dampingFactor,l.phi+=c.phi*n.dampingFactor):(l.theta+=c.theta,l.phi+=c.phi);var m=n.minAzimuthAngle,y=n.maxAzimuthAngle;return isFinite(m)&&isFinite(y)&&(m<-Math.PI?m+=g:m>Math.PI&&(m-=g),y<-Math.PI?y+=g:y>Math.PI&&(y-=g),l.theta=m<y?Math.max(m,Math.min(y,l.theta)):l.theta>(m+y)/2?Math.max(m,l.theta):Math.min(y,l.theta)),l.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,l.phi)),l.makeSafe(),l.radius*=d,l.radius=Math.max(n.minDistance,Math.min(n.maxDistance,l.radius)),!0===n.enableDamping?n.target.addScaledVector(h,n.dampingFactor):n.target.add(h),t.setFromSpherical(l),t.applyQuaternion(a),e.copy(n.target).add(t),n.object.lookAt(n.target),!0===n.enableDamping?(c.theta*=1-n.dampingFactor,c.phi*=1-n.dampingFactor,h.multiplyScalar(1-n.dampingFactor)):(c.set(0,0,0),h.set(0,0,0)),d=1,!!(f||p.distanceToSquared(n.object.position)>u||8*(1-v.dot(n.object.quaternion))>u)&&(n.dispatchEvent(r),p.copy(n.object.position),v.copy(n.object.quaternion),f=!1,!0)}}(),this.dispose=function(){n.domElement.removeEventListener("contextmenu",Y,!1),n.domElement.removeEventListener("pointerdown",j,!1),n.domElement.removeEventListener("wheel",V,!1),n.domElement.removeEventListener("touchstart",W,!1),n.domElement.removeEventListener("touchend",q,!1),n.domElement.removeEventListener("touchmove",X,!1),n.domElement.ownerDocument.removeEventListener("pointermove",U,!1),n.domElement.ownerDocument.removeEventListener("pointerup",z,!1),n.domElement.removeEventListener("keydown",H,!1)};var n=this,r={type:"change"},i={type:"start"},a={type:"end"},o={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},s=o.NONE,u=1e-6,l=new m.Spherical,c=new m.Spherical,d=1,h=new m.Vector3,f=!1,p=new m.Vector2,v=new m.Vector2,g=new m.Vector2,y=new m.Vector2,b=new m.Vector2,_=new m.Vector2,x=new m.Vector2,w=new m.Vector2,M=new m.Vector2;function E(){return Math.pow(.95,n.zoomSpeed)}function A(e){c.theta-=e}function S(e){c.phi-=e}var T=function(){var e=new m.Vector3;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),h.add(e)}}(),C=function(){var e=new m.Vector3;return function(t,r){!0===n.screenSpacePanning?e.setFromMatrixColumn(r,1):(e.setFromMatrixColumn(r,0),e.crossVectors(n.object.up,e)),e.multiplyScalar(t),h.add(e)}}(),D=function(){var e=new m.Vector3;return function(t,r){var i=n.domElement;if(n.object.isPerspectiveCamera){var a=n.object.position;e.copy(a).sub(n.target);var o=e.length();o*=Math.tan(n.object.fov/2*Math.PI/180),T(2*t*o/i.clientHeight,n.object.matrix),C(2*r*o/i.clientHeight,n.object.matrix)}else n.object.isOrthographicCamera?(T(t*(n.object.right-n.object.left)/n.object.zoom/i.clientWidth,n.object.matrix),C(r*(n.object.top-n.object.bottom)/n.object.zoom/i.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}}();function R(e){n.object.isPerspectiveCamera?d/=e:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom*e)),n.object.updateProjectionMatrix(),f=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function I(e){n.object.isPerspectiveCamera?d*=e:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/e)),n.object.updateProjectionMatrix(),f=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function k(e){p.set(e.clientX,e.clientY)}function O(e){y.set(e.clientX,e.clientY)}function L(e){if(1==e.touches.length)p.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);p.set(t,n)}}function P(e){if(1==e.touches.length)y.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);y.set(t,n)}}function B(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,r=Math.sqrt(t*t+n*n);x.set(0,r)}function F(e){if(1==e.touches.length)v.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),r=.5*(e.touches[0].pageY+e.touches[1].pageY);v.set(t,r)}g.subVectors(v,p).multiplyScalar(n.rotateSpeed);var i=n.domElement;A(2*Math.PI*g.x/i.clientHeight),S(2*Math.PI*g.y/i.clientHeight),p.copy(v)}function N(e){if(1==e.touches.length)b.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),r=.5*(e.touches[0].pageY+e.touches[1].pageY);b.set(t,r)}_.subVectors(b,y).multiplyScalar(n.panSpeed),D(_.x,_.y),y.copy(b)}function G(e){var t=e.touches[0].pageX-e.touches[1].pageX,r=e.touches[0].pageY-e.touches[1].pageY,i=Math.sqrt(t*t+r*r);w.set(0,i),M.set(0,Math.pow(w.y/x.y,n.zoomSpeed)),R(M.y),x.copy(w)}function j(e){if(!1!==n.enabled)switch(e.pointerType){case"mouse":!function(e){var t;switch(e.preventDefault(),n.domElement.focus?n.domElement.focus():window.focus(),e.button){case 0:t=n.mouseButtons.LEFT;break;case 1:t=n.mouseButtons.MIDDLE;break;case 2:t=n.mouseButtons.RIGHT;break;default:t=-1}switch(t){case m.MOUSE.DOLLY:if(!1===n.enableZoom)return;!function(e){x.set(e.clientX,e.clientY)}(e),s=o.DOLLY;break;case m.MOUSE.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enablePan)return;O(e),s=o.PAN}else{if(!1===n.enableRotate)return;k(e),s=o.ROTATE}break;case m.MOUSE.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enableRotate)return;k(e),s=o.ROTATE}else{if(!1===n.enablePan)return;O(e),s=o.PAN}break;default:s=o.NONE}s!==o.NONE&&(n.domElement.ownerDocument.addEventListener("pointermove",U,!1),n.domElement.ownerDocument.addEventListener("pointerup",z,!1),n.dispatchEvent(i))}(e)}}function U(e){if(!1!==n.enabled)switch(e.pointerType){case"mouse":!function(e){if(!1===n.enabled)return;switch(e.preventDefault(),s){case o.ROTATE:if(!1===n.enableRotate)return;!function(e){v.set(e.clientX,e.clientY),g.subVectors(v,p).multiplyScalar(n.rotateSpeed);var t=n.domElement;A(2*Math.PI*g.x/t.clientHeight),S(2*Math.PI*g.y/t.clientHeight),p.copy(v),n.update()}(e);break;case o.DOLLY:if(!1===n.enableZoom)return;!function(e){w.set(e.clientX,e.clientY),M.subVectors(w,x),M.y>0?R(E()):M.y<0&&I(E()),x.copy(w),n.update()}(e);break;case o.PAN:if(!1===n.enablePan)return;!function(e){b.set(e.clientX,e.clientY),_.subVectors(b,y).multiplyScalar(n.panSpeed),D(_.x,_.y),y.copy(b),n.update()}(e)}}(e)}}function z(e){if(!1!==n.enabled)switch(e.pointerType){case"mouse":!function(e){if(!1===n.enabled)return;n.domElement.ownerDocument.removeEventListener("pointermove",U,!1),n.domElement.ownerDocument.removeEventListener("pointerup",z,!1),n.dispatchEvent(a),s=o.NONE}()}}function V(e){!1===n.enabled||!1===n.enableZoom||s!==o.NONE&&s!==o.ROTATE||(e.preventDefault(),e.stopPropagation(),n.dispatchEvent(i),function(e){e.deltaY<0?I(E()):e.deltaY>0&&R(E()),n.update()}(e),n.dispatchEvent(a))}function H(e){!1!==n.enabled&&!1!==n.enableKeys&&!1!==n.enablePan&&function(e){var t=!1;switch(e.keyCode){case n.keys.UP:D(0,n.keyPanSpeed),t=!0;break;case n.keys.BOTTOM:D(0,-n.keyPanSpeed),t=!0;break;case n.keys.LEFT:D(n.keyPanSpeed,0),t=!0;break;case n.keys.RIGHT:D(-n.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),n.update())}(e)}function W(e){if(!1!==n.enabled){switch(e.preventDefault(),e.touches.length){case 1:switch(n.touches.ONE){case m.TOUCH.ROTATE:if(!1===n.enableRotate)return;L(e),s=o.TOUCH_ROTATE;break;case m.TOUCH.PAN:if(!1===n.enablePan)return;P(e),s=o.TOUCH_PAN;break;default:s=o.NONE}break;case 2:switch(n.touches.TWO){case m.TOUCH.DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;!function(e){n.enableZoom&&B(e),n.enablePan&&P(e)}(e),s=o.TOUCH_DOLLY_PAN;break;case m.TOUCH.DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;!function(e){n.enableZoom&&B(e),n.enableRotate&&L(e)}(e),s=o.TOUCH_DOLLY_ROTATE;break;default:s=o.NONE}break;default:s=o.NONE}s!==o.NONE&&n.dispatchEvent(i)}}function X(e){if(!1!==n.enabled)switch(e.preventDefault(),e.stopPropagation(),s){case o.TOUCH_ROTATE:if(!1===n.enableRotate)return;F(e),n.update();break;case o.TOUCH_PAN:if(!1===n.enablePan)return;N(e),n.update();break;case o.TOUCH_DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;!function(e){n.enableZoom&&G(e),n.enablePan&&N(e)}(e),n.update();break;case o.TOUCH_DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;!function(e){n.enableZoom&&G(e),n.enableRotate&&F(e)}(e),n.update();break;default:s=o.NONE}}function q(e){!1!==n.enabled&&(n.dispatchEvent(a),s=o.NONE)}function Y(e){!1!==n.enabled&&e.preventDefault()}n.domElement.addEventListener("contextmenu",Y,!1),n.domElement.addEventListener("pointerdown",j,!1),n.domElement.addEventListener("wheel",V,!1),n.domElement.addEventListener("touchstart",W,!1),n.domElement.addEventListener("touchend",q,!1),n.domElement.addEventListener("touchmove",X,!1),n.domElement.addEventListener("keydown",H,!1),-1===n.domElement.tabIndex&&(n.domElement.tabIndex=0),this.update()};(E.prototype=Object.create(m.EventDispatcher.prototype)).constructor=E;var A=function(e,t){E.call(this,e,t),this.screenSpacePanning=!1,this.mouseButtons.LEFT=m.MOUSE.PAN,this.mouseButtons.RIGHT=m.MOUSE.ROTATE,this.touches.ONE=m.TOUCH.PAN,this.touches.TWO=m.TOUCH.DOLLY_ROTATE};(A.prototype=Object.create(m.EventDispatcher.prototype)).constructor=A;var S=function(e,t){void 0===t&&console.warn('THREE.TrackballControls: The second parameter "domElement" is now mandatory.'),t===document&&console.error('THREE.TrackballControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.');var n=this,r=-1,i=0,a=1,o=2,s=3,u=4;this.object=e,this.domElement=t,this.enabled=!0,this.screen={left:0,top:0,width:0,height:0},this.rotateSpeed=1,this.zoomSpeed=1.2,this.panSpeed=.3,this.noRotate=!1,this.noZoom=!1,this.noPan=!1,this.staticMoving=!1,this.dynamicDampingFactor=.2,this.minDistance=0,this.maxDistance=1/0,this.keys=[65,83,68],this.mouseButtons={LEFT:m.MOUSE.ROTATE,MIDDLE:m.MOUSE.ZOOM,RIGHT:m.MOUSE.PAN},this.target=new m.Vector3;var l=new m.Vector3,c=1,d=r,h=r,f=new m.Vector3,p=new m.Vector2,v=new m.Vector2,g=new m.Vector3,y=0,b=new m.Vector2,_=new m.Vector2,x=0,w=0,M=new m.Vector2,E=new m.Vector2;this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.up0=this.object.up.clone(),this.zoom0=this.object.zoom;var A={type:"change"},S={type:"start"},T={type:"end"};this.handleResize=function(){var e=n.domElement.getBoundingClientRect(),t=n.domElement.ownerDocument.documentElement;n.screen.left=e.left+window.pageXOffset-t.clientLeft,n.screen.top=e.top+window.pageYOffset-t.clientTop,n.screen.width=e.width,n.screen.height=e.height};var C=function(){var e=new m.Vector2;return function(t,r){return e.set((t-n.screen.left)/n.screen.width,(r-n.screen.top)/n.screen.height),e}}(),D=function(){var e=new m.Vector2;return function(t,r){return e.set((t-.5*n.screen.width-n.screen.left)/(.5*n.screen.width),(n.screen.height+2*(n.screen.top-r))/n.screen.width),e}}();function R(e){if(!1!==n.enabled)switch(e.pointerType){case"mouse":!function(e){if(e.preventDefault(),e.stopPropagation(),d===r)switch(e.button){case n.mouseButtons.LEFT:d=i;break;case n.mouseButtons.MIDDLE:d=a;break;case n.mouseButtons.RIGHT:d=o;break;default:d=r}var t=h!==r?h:d;t!==i||n.noRotate?t!==a||n.noZoom?t!==o||n.noPan||(M.copy(C(e.pageX,e.pageY)),E.copy(M)):(b.copy(C(e.pageX,e.pageY)),_.copy(b)):(v.copy(D(e.pageX,e.pageY)),p.copy(v));n.domElement.ownerDocument.addEventListener("pointermove",I,!1),n.domElement.ownerDocument.addEventListener("pointerup",k,!1),n.dispatchEvent(S)}(e)}}function I(e){if(!1!==n.enabled)switch(e.pointerType){case"mouse":!function(e){if(!1===n.enabled)return;e.preventDefault(),e.stopPropagation();var t=h!==r?h:d;t!==i||n.noRotate?t!==a||n.noZoom?t!==o||n.noPan||E.copy(C(e.pageX,e.pageY)):_.copy(C(e.pageX,e.pageY)):(p.copy(v),v.copy(D(e.pageX,e.pageY)))}(e)}}function k(e){if(!1!==n.enabled)switch(e.pointerType){case"mouse":!function(e){if(!1===n.enabled)return;e.preventDefault(),e.stopPropagation(),d=r,n.domElement.ownerDocument.removeEventListener("pointermove",I),n.domElement.ownerDocument.removeEventListener("pointerup",k),n.dispatchEvent(T)}(e)}}function O(e){!1!==n.enabled&&(window.removeEventListener("keydown",O),h===r&&(e.keyCode!==n.keys[i]||n.noRotate?e.keyCode!==n.keys[a]||n.noZoom?e.keyCode!==n.keys[o]||n.noPan||(h=o):h=a:h=i))}function L(){!1!==n.enabled&&(h=r,window.addEventListener("keydown",O,!1))}function P(e){if(!1!==n.enabled&&!0!==n.noZoom){switch(e.preventDefault(),e.stopPropagation(),e.deltaMode){case 2:b.y-=.025*e.deltaY;break;case 1:b.y-=.01*e.deltaY;break;default:b.y-=25e-5*e.deltaY}n.dispatchEvent(S),n.dispatchEvent(T)}}function B(e){if(!1!==n.enabled){switch(e.preventDefault(),e.touches.length){case 1:d=s,v.copy(D(e.touches[0].pageX,e.touches[0].pageY)),p.copy(v);break;default:d=u;var t=e.touches[0].pageX-e.touches[1].pageX,r=e.touches[0].pageY-e.touches[1].pageY;w=x=Math.sqrt(t*t+r*r);var i=(e.touches[0].pageX+e.touches[1].pageX)/2,a=(e.touches[0].pageY+e.touches[1].pageY)/2;M.copy(C(i,a)),E.copy(M)}n.dispatchEvent(S)}}function F(e){if(!1!==n.enabled)switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:p.copy(v),v.copy(D(e.touches[0].pageX,e.touches[0].pageY));break;default:var t=e.touches[0].pageX-e.touches[1].pageX,r=e.touches[0].pageY-e.touches[1].pageY;w=Math.sqrt(t*t+r*r);var i=(e.touches[0].pageX+e.touches[1].pageX)/2,a=(e.touches[0].pageY+e.touches[1].pageY)/2;E.copy(C(i,a))}}function N(e){if(!1!==n.enabled){switch(e.touches.length){case 0:d=r;break;case 1:d=s,v.copy(D(e.touches[0].pageX,e.touches[0].pageY)),p.copy(v)}n.dispatchEvent(T)}}function G(e){!1!==n.enabled&&e.preventDefault()}this.rotateCamera=function(){var e,t=new m.Vector3,r=new m.Quaternion,i=new m.Vector3,a=new m.Vector3,o=new m.Vector3,s=new m.Vector3;return function(){s.set(v.x-p.x,v.y-p.y,0),(e=s.length())?(f.copy(n.object.position).sub(n.target),i.copy(f).normalize(),a.copy(n.object.up).normalize(),o.crossVectors(a,i).normalize(),a.setLength(v.y-p.y),o.setLength(v.x-p.x),s.copy(a.add(o)),t.crossVectors(s,f).normalize(),e*=n.rotateSpeed,r.setFromAxisAngle(t,e),f.applyQuaternion(r),n.object.up.applyQuaternion(r),g.copy(t),y=e):!n.staticMoving&&y&&(y*=Math.sqrt(1-n.dynamicDampingFactor),f.copy(n.object.position).sub(n.target),r.setFromAxisAngle(g,y),f.applyQuaternion(r),n.object.up.applyQuaternion(r)),p.copy(v)}}(),this.zoomCamera=function(){var e;d===u?(e=x/w,x=w,n.object.isPerspectiveCamera?f.multiplyScalar(e):n.object.isOrthographicCamera?(n.object.zoom*=e,n.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")):(1!==(e=1+(_.y-b.y)*n.zoomSpeed)&&e>0&&(n.object.isPerspectiveCamera?f.multiplyScalar(e):n.object.isOrthographicCamera?(n.object.zoom/=e,n.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")),n.staticMoving?b.copy(_):b.y+=(_.y-b.y)*this.dynamicDampingFactor)},this.panCamera=function(){var e=new m.Vector2,t=new m.Vector3,r=new m.Vector3;return function(){if(e.copy(E).sub(M),e.lengthSq()){if(n.object.isOrthographicCamera){var i=(n.object.right-n.object.left)/n.object.zoom/n.domElement.clientWidth,a=(n.object.top-n.object.bottom)/n.object.zoom/n.domElement.clientWidth;e.x*=i,e.y*=a}e.multiplyScalar(f.length()*n.panSpeed),r.copy(f).cross(n.object.up).setLength(e.x),r.add(t.copy(n.object.up).setLength(e.y)),n.object.position.add(r),n.target.add(r),n.staticMoving?M.copy(E):M.add(e.subVectors(E,M).multiplyScalar(n.dynamicDampingFactor))}}}(),this.checkDistances=function(){n.noZoom&&n.noPan||(f.lengthSq()>n.maxDistance*n.maxDistance&&(n.object.position.addVectors(n.target,f.setLength(n.maxDistance)),b.copy(_)),f.lengthSq()<n.minDistance*n.minDistance&&(n.object.position.addVectors(n.target,f.setLength(n.minDistance)),b.copy(_)))},this.update=function(){f.subVectors(n.object.position,n.target),n.noRotate||n.rotateCamera(),n.noZoom||n.zoomCamera(),n.noPan||n.panCamera(),n.object.position.addVectors(n.target,f),n.object.isPerspectiveCamera?(n.checkDistances(),n.object.lookAt(n.target),l.distanceToSquared(n.object.position)>1e-6&&(n.dispatchEvent(A),l.copy(n.object.position))):n.object.isOrthographicCamera?(n.object.lookAt(n.target),(l.distanceToSquared(n.object.position)>1e-6||c!==n.object.zoom)&&(n.dispatchEvent(A),l.copy(n.object.position),c=n.object.zoom)):console.warn("THREE.TrackballControls: Unsupported camera type")},this.reset=function(){d=r,h=r,n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.up.copy(n.up0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),f.subVectors(n.object.position,n.target),n.object.lookAt(n.target),n.dispatchEvent(A),l.copy(n.object.position),c=n.object.zoom},this.dispose=function(){n.domElement.removeEventListener("contextmenu",G,!1),n.domElement.removeEventListener("pointerdown",R,!1),n.domElement.removeEventListener("wheel",P,!1),n.domElement.removeEventListener("touchstart",B,!1),n.domElement.removeEventListener("touchend",N,!1),n.domElement.removeEventListener("touchmove",F,!1),n.domElement.ownerDocument.removeEventListener("pointermove",I,!1),n.domElement.ownerDocument.removeEventListener("pointerup",k,!1),window.removeEventListener("keydown",O,!1),window.removeEventListener("keyup",L,!1)},this.domElement.addEventListener("contextmenu",G,!1),this.domElement.addEventListener("pointerdown",R,!1),this.domElement.addEventListener("wheel",P,!1),this.domElement.addEventListener("touchstart",B,!1),this.domElement.addEventListener("touchend",N,!1),this.domElement.addEventListener("touchmove",F,!1),this.domElement.ownerDocument.addEventListener("pointermove",I,!1),this.domElement.ownerDocument.addEventListener("pointerup",k,!1),window.addEventListener("keydown",O,!1),window.addEventListener("keyup",L,!1),this.handleResize(),this.update()};(S.prototype=Object.create(m.EventDispatcher.prototype)).constructor=S;var T=function(e,t){void 0===t&&(console.warn('THREE.TransformControls: The second parameter "domElement" is now mandatory.'),t=document),m.Object3D.call(this),this.visible=!1,this.domElement=t;var n=new C;this.add(n);var r=new D;this.add(r);var i=this;V("camera",e),V("object",void 0),V("enabled",!0),V("axis",null),V("mode","translate"),V("translationSnap",null),V("rotationSnap",null),V("scaleSnap",null),V("space","world"),V("size",1),V("dragging",!1),V("showX",!0),V("showY",!0),V("showZ",!0);var a={type:"change"},o={type:"mouseDown"},s={type:"mouseUp",mode:i.mode},u={type:"objectChange"},l=new m.Raycaster;function c(e,t,n){for(var r=t.intersectObject(e,!0),i=0;i<r.length;i++)if(r[i].object.visible||n)return r[i];return!1}var d=new m.Vector3,h=new m.Vector3,f=new m.Quaternion,p={X:new m.Vector3(1,0,0),Y:new m.Vector3(0,1,0),Z:new m.Vector3(0,0,1)},v=new m.Vector3,g=new m.Vector3,y=new m.Vector3,b=new m.Vector3,_=new m.Vector3,x=new m.Vector3,w=0,M=new m.Vector3,E=new m.Quaternion,A=new m.Vector3,S=new m.Vector3,T=new m.Quaternion,R=new m.Quaternion,I=new m.Vector3,k=new m.Vector3,O=new m.Quaternion,L=new m.Vector3,P=new m.Vector3,B=new m.Quaternion,F=new m.Quaternion,N=new m.Vector3,G=new m.Vector3,j=new m.Vector3,U=new m.Quaternion,z=new m.Vector3;function V(e,t){var o=t;Object.defineProperty(i,e,{get:function(){return void 0!==o?o:t},set:function(t){o!==t&&(o=t,r[e]=t,n[e]=t,i.dispatchEvent({type:e+"-changed",value:t}),i.dispatchEvent(a))}}),i[e]=t,r[e]=t,n[e]=t}function H(e){if(i.domElement.ownerDocument.pointerLockElement)return{x:0,y:0,button:e.button};var n=e.changedTouches?e.changedTouches[0]:e,r=t.getBoundingClientRect();return{x:(n.clientX-r.left)/r.width*2-1,y:-(n.clientY-r.top)/r.height*2+1,button:e.button}}function W(e){if(i.enabled)switch(e.pointerType){case"mouse":i.pointerHover(H(e))}}function X(e){i.enabled&&(i.domElement.ownerDocument.addEventListener("pointermove",q,!1),i.pointerHover(H(e)),i.pointerDown(H(e)))}function q(e){i.enabled&&i.pointerMove(H(e))}function Y(e){i.enabled&&(i.domElement.ownerDocument.removeEventListener("pointermove",q,!1),i.pointerUp(H(e)))}function Q(e){!1!==i.enabled&&e.preventDefault()}V("worldPosition",P),V("worldPositionStart",k),V("worldQuaternion",B),V("worldQuaternionStart",O),V("cameraPosition",M),V("cameraQuaternion",E),V("pointStart",v),V("pointEnd",g),V("rotationAxis",b),V("rotationAngle",w),V("eye",G),t.addEventListener("touchstart",Q,!1),t.addEventListener("pointerdown",X,!1),t.addEventListener("pointermove",W,!1),i.domElement.ownerDocument.addEventListener("pointerup",Y,!1),this.dispose=function(){t.removeEventListener("touchstart",Q),t.removeEventListener("pointerdown",X),t.removeEventListener("pointermove",W),i.domElement.ownerDocument.removeEventListener("pointermove",q),i.domElement.ownerDocument.removeEventListener("pointerup",Y),this.traverse((function(e){e.geometry&&e.geometry.dispose(),e.material&&e.material.dispose()}))},this.attach=function(e){return this.object=e,this.visible=!0,this},this.detach=function(){return this.object=void 0,this.visible=!1,this.axis=null,this},this.updateMatrixWorld=function(){void 0!==this.object&&(this.object.updateMatrixWorld(),null===this.object.parent?console.error("TransformControls: The attached 3D object must be a part of the scene graph."):this.object.parent.matrixWorld.decompose(S,T,I),this.object.matrixWorld.decompose(P,B,N),R.copy(T).inverse(),F.copy(B).inverse()),this.camera.updateMatrixWorld(),this.camera.matrixWorld.decompose(M,E,A),G.copy(M).sub(P).normalize(),m.Object3D.prototype.updateMatrixWorld.call(this)},this.pointerHover=function(e){if(void 0!==this.object&&!0!==this.dragging){l.setFromCamera(e,this.camera);var t=c(n.picker[this.mode],l);this.axis=t?t.object.name:null}},this.pointerDown=function(e){if(void 0!==this.object&&!0!==this.dragging&&0===e.button&&null!==this.axis){l.setFromCamera(e,this.camera);var t=c(r,l,!0);if(t){var n=this.space;if("scale"===this.mode?n="local":"E"!==this.axis&&"XYZE"!==this.axis&&"XYZ"!==this.axis||(n="world"),"local"===n&&"rotate"===this.mode){var i=this.rotationSnap;"X"===this.axis&&i&&(this.object.rotation.x=Math.round(this.object.rotation.x/i)*i),"Y"===this.axis&&i&&(this.object.rotation.y=Math.round(this.object.rotation.y/i)*i),"Z"===this.axis&&i&&(this.object.rotation.z=Math.round(this.object.rotation.z/i)*i)}this.object.updateMatrixWorld(),this.object.parent.updateMatrixWorld(),j.copy(this.object.position),U.copy(this.object.quaternion),z.copy(this.object.scale),this.object.matrixWorld.decompose(k,O,L),v.copy(t.point).sub(k)}this.dragging=!0,o.mode=this.mode,this.dispatchEvent(o)}},this.pointerMove=function(e){var t=this.axis,n=this.mode,i=this.object,o=this.space;if("scale"===n?o="local":"E"!==t&&"XYZE"!==t&&"XYZ"!==t||(o="world"),void 0!==i&&null!==t&&!1!==this.dragging&&-1===e.button){l.setFromCamera(e,this.camera);var s=c(r,l,!0);if(s){if(g.copy(s.point).sub(k),"translate"===n)y.copy(g).sub(v),"local"===o&&"XYZ"!==t&&y.applyQuaternion(F),-1===t.indexOf("X")&&(y.x=0),-1===t.indexOf("Y")&&(y.y=0),-1===t.indexOf("Z")&&(y.z=0),"local"===o&&"XYZ"!==t?y.applyQuaternion(U).divide(I):y.applyQuaternion(R).divide(I),i.position.copy(y).add(j),this.translationSnap&&("local"===o&&(i.position.applyQuaternion(f.copy(U).inverse()),-1!==t.search("X")&&(i.position.x=Math.round(i.position.x/this.translationSnap)*this.translationSnap),-1!==t.search("Y")&&(i.position.y=Math.round(i.position.y/this.translationSnap)*this.translationSnap),-1!==t.search("Z")&&(i.position.z=Math.round(i.position.z/this.translationSnap)*this.translationSnap),i.position.applyQuaternion(U)),"world"===o&&(i.parent&&i.position.add(d.setFromMatrixPosition(i.parent.matrixWorld)),-1!==t.search("X")&&(i.position.x=Math.round(i.position.x/this.translationSnap)*this.translationSnap),-1!==t.search("Y")&&(i.position.y=Math.round(i.position.y/this.translationSnap)*this.translationSnap),-1!==t.search("Z")&&(i.position.z=Math.round(i.position.z/this.translationSnap)*this.translationSnap),i.parent&&i.position.sub(d.setFromMatrixPosition(i.parent.matrixWorld))));else if("scale"===n){if(-1!==t.search("XYZ")){var m=g.length()/v.length();g.dot(v)<0&&(m*=-1),h.set(m,m,m)}else d.copy(v),h.copy(g),d.applyQuaternion(F),h.applyQuaternion(F),h.divide(d),-1===t.search("X")&&(h.x=1),-1===t.search("Y")&&(h.y=1),-1===t.search("Z")&&(h.z=1);i.scale.copy(z).multiply(h),this.scaleSnap&&(-1!==t.search("X")&&(i.scale.x=Math.round(i.scale.x/this.scaleSnap)*this.scaleSnap||this.scaleSnap),-1!==t.search("Y")&&(i.scale.y=Math.round(i.scale.y/this.scaleSnap)*this.scaleSnap||this.scaleSnap),-1!==t.search("Z")&&(i.scale.z=Math.round(i.scale.z/this.scaleSnap)*this.scaleSnap||this.scaleSnap))}else if("rotate"===n){y.copy(g).sub(v);var M=20/P.distanceTo(d.setFromMatrixPosition(this.camera.matrixWorld));"E"===t?(b.copy(G),w=g.angleTo(v),_.copy(v).normalize(),x.copy(g).normalize(),w*=x.cross(_).dot(G)<0?1:-1):"XYZE"===t?(b.copy(y).cross(G).normalize(),w=y.dot(d.copy(b).cross(this.eye))*M):"X"!==t&&"Y"!==t&&"Z"!==t||(b.copy(p[t]),d.copy(p[t]),"local"===o&&d.applyQuaternion(B),w=y.dot(d.cross(G).normalize())*M),this.rotationSnap&&(w=Math.round(w/this.rotationSnap)*this.rotationSnap),this.rotationAngle=w,"local"===o&&"E"!==t&&"XYZE"!==t?(i.quaternion.copy(U),i.quaternion.multiply(f.setFromAxisAngle(b,w)).normalize()):(b.applyQuaternion(R),i.quaternion.copy(f.setFromAxisAngle(b,w)),i.quaternion.multiply(U).normalize())}this.dispatchEvent(a),this.dispatchEvent(u)}}},this.pointerUp=function(e){0===e.button&&(this.dragging&&null!==this.axis&&(s.mode=this.mode,this.dispatchEvent(s)),this.dragging=!1,this.axis=null)},this.getMode=function(){return i.mode},this.setMode=function(e){i.mode=e},this.setTranslationSnap=function(e){i.translationSnap=e},this.setRotationSnap=function(e){i.rotationSnap=e},this.setScaleSnap=function(e){i.scaleSnap=e},this.setSize=function(e){i.size=e},this.setSpace=function(e){i.space=e},this.update=function(){console.warn("THREE.TransformControls: update function has no more functionality and therefore has been deprecated.")}};T.prototype=Object.assign(Object.create(m.Object3D.prototype),{constructor:T,isTransformControls:!0});var C=function(){m.Object3D.call(this),this.type="TransformControlsGizmo";var e=new m.MeshBasicMaterial({depthTest:!1,depthWrite:!1,transparent:!0,side:m.DoubleSide,fog:!1,toneMapped:!1}),t=new m.LineBasicMaterial({depthTest:!1,depthWrite:!1,transparent:!0,linewidth:1,fog:!1,toneMapped:!1}),n=e.clone();n.opacity=.15;var r=e.clone();r.opacity=.33;var i=e.clone();i.color.set(16711680);var a=e.clone();a.color.set(65280);var o=e.clone();o.color.set(255);var s=e.clone();s.opacity=.25;var u=s.clone();u.color.set(16776960);var l=s.clone();l.color.set(65535);var c=s.clone();c.color.set(16711935),e.clone().color.set(16776960);var d=t.clone();d.color.set(16711680);var h=t.clone();h.color.set(65280);var f=t.clone();f.color.set(255);var p=t.clone();p.color.set(65535);var v=t.clone();v.color.set(16711935);var g=t.clone();g.color.set(16776960);var y=t.clone();y.color.set(7895160);var b=g.clone();b.opacity=.25;var _=new m.CylinderBufferGeometry(0,.05,.2,12,1,!1),x=new m.BoxBufferGeometry(.125,.125,.125),w=new m.BufferGeometry;w.setAttribute("position",new m.Float32BufferAttribute([0,0,0,1,0,0],3));var M=function(e,t){for(var n=new m.BufferGeometry,r=[],i=0;i<=64*t;++i)r.push(0,Math.cos(i/32*Math.PI)*e,Math.sin(i/32*Math.PI)*e);return n.setAttribute("position",new m.Float32BufferAttribute(r,3)),n},E={X:[[new m.Mesh(_,i),[1,0,0],[0,0,-Math.PI/2],null,"fwd"],[new m.Mesh(_,i),[1,0,0],[0,0,Math.PI/2],null,"bwd"],[new m.Line(w,d)]],Y:[[new m.Mesh(_,a),[0,1,0],null,null,"fwd"],[new m.Mesh(_,a),[0,1,0],[Math.PI,0,0],null,"bwd"],[new m.Line(w,h),null,[0,0,Math.PI/2]]],Z:[[new m.Mesh(_,o),[0,0,1],[Math.PI/2,0,0],null,"fwd"],[new m.Mesh(_,o),[0,0,1],[-Math.PI/2,0,0],null,"bwd"],[new m.Line(w,f),null,[0,-Math.PI/2,0]]],XYZ:[[new m.Mesh(new m.OctahedronBufferGeometry(.1,0),s.clone()),[0,0,0],[0,0,0]]],XY:[[new m.Mesh(new m.PlaneBufferGeometry(.295,.295),u.clone()),[.15,.15,0]],[new m.Line(w,g),[.18,.3,0],null,[.125,1,1]],[new m.Line(w,g),[.3,.18,0],[0,0,Math.PI/2],[.125,1,1]]],YZ:[[new m.Mesh(new m.PlaneBufferGeometry(.295,.295),l.clone()),[0,.15,.15],[0,Math.PI/2,0]],[new m.Line(w,p),[0,.18,.3],[0,0,Math.PI/2],[.125,1,1]],[new m.Line(w,p),[0,.3,.18],[0,-Math.PI/2,0],[.125,1,1]]],XZ:[[new m.Mesh(new m.PlaneBufferGeometry(.295,.295),c.clone()),[.15,0,.15],[-Math.PI/2,0,0]],[new m.Line(w,v),[.18,0,.3],null,[.125,1,1]],[new m.Line(w,v),[.3,0,.18],[0,-Math.PI/2,0],[.125,1,1]]]},A={X:[[new m.Mesh(new m.CylinderBufferGeometry(.2,0,1,4,1,!1),n),[.6,0,0],[0,0,-Math.PI/2]]],Y:[[new m.Mesh(new m.CylinderBufferGeometry(.2,0,1,4,1,!1),n),[0,.6,0]]],Z:[[new m.Mesh(new m.CylinderBufferGeometry(.2,0,1,4,1,!1),n),[0,0,.6],[Math.PI/2,0,0]]],XYZ:[[new m.Mesh(new m.OctahedronBufferGeometry(.2,0),n)]],XY:[[new m.Mesh(new m.PlaneBufferGeometry(.4,.4),n),[.2,.2,0]]],YZ:[[new m.Mesh(new m.PlaneBufferGeometry(.4,.4),n),[0,.2,.2],[0,Math.PI/2,0]]],XZ:[[new m.Mesh(new m.PlaneBufferGeometry(.4,.4),n),[.2,0,.2],[-Math.PI/2,0,0]]]},S={START:[[new m.Mesh(new m.OctahedronBufferGeometry(.01,2),r),null,null,null,"helper"]],END:[[new m.Mesh(new m.OctahedronBufferGeometry(.01,2),r),null,null,null,"helper"]],DELTA:[[new m.Line(function(){var e=new m.BufferGeometry;return e.setAttribute("position",new m.Float32BufferAttribute([0,0,0,1,1,1],3)),e}(),r),null,null,null,"helper"]],X:[[new m.Line(w,r.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new m.Line(w,r.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new m.Line(w,r.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},T={X:[[new m.Line(M(1,.5),d)],[new m.Mesh(new m.OctahedronBufferGeometry(.04,0),i),[0,0,.99],null,[1,3,1]]],Y:[[new m.Line(M(1,.5),h),null,[0,0,-Math.PI/2]],[new m.Mesh(new m.OctahedronBufferGeometry(.04,0),a),[0,0,.99],null,[3,1,1]]],Z:[[new m.Line(M(1,.5),f),null,[0,Math.PI/2,0]],[new m.Mesh(new m.OctahedronBufferGeometry(.04,0),o),[.99,0,0],null,[1,3,1]]],E:[[new m.Line(M(1.25,1),b),null,[0,Math.PI/2,0]],[new m.Mesh(new m.CylinderBufferGeometry(.03,0,.15,4,1,!1),b),[1.17,0,0],[0,0,-Math.PI/2],[1,1,.001]],[new m.Mesh(new m.CylinderBufferGeometry(.03,0,.15,4,1,!1),b),[-1.17,0,0],[0,0,Math.PI/2],[1,1,.001]],[new m.Mesh(new m.CylinderBufferGeometry(.03,0,.15,4,1,!1),b),[0,-1.17,0],[Math.PI,0,0],[1,1,.001]],[new m.Mesh(new m.CylinderBufferGeometry(.03,0,.15,4,1,!1),b),[0,1.17,0],[0,0,0],[1,1,.001]]],XYZE:[[new m.Line(M(1,1),y),null,[0,Math.PI/2,0]]]},C={AXIS:[[new m.Line(w,r.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]]},D={X:[[new m.Mesh(new m.TorusBufferGeometry(1,.1,4,24),n),[0,0,0],[0,-Math.PI/2,-Math.PI/2]]],Y:[[new m.Mesh(new m.TorusBufferGeometry(1,.1,4,24),n),[0,0,0],[Math.PI/2,0,0]]],Z:[[new m.Mesh(new m.TorusBufferGeometry(1,.1,4,24),n),[0,0,0],[0,0,-Math.PI/2]]],E:[[new m.Mesh(new m.TorusBufferGeometry(1.25,.1,2,24),n)]],XYZE:[[new m.Mesh(new m.SphereBufferGeometry(.7,10,8),n)]]},R={X:[[new m.Mesh(x,i),[.8,0,0],[0,0,-Math.PI/2]],[new m.Line(w,d),null,null,[.8,1,1]]],Y:[[new m.Mesh(x,a),[0,.8,0]],[new m.Line(w,h),null,[0,0,Math.PI/2],[.8,1,1]]],Z:[[new m.Mesh(x,o),[0,0,.8],[Math.PI/2,0,0]],[new m.Line(w,f),null,[0,-Math.PI/2,0],[.8,1,1]]],XY:[[new m.Mesh(x,u),[.85,.85,0],null,[2,2,.2]],[new m.Line(w,g),[.855,.98,0],null,[.125,1,1]],[new m.Line(w,g),[.98,.855,0],[0,0,Math.PI/2],[.125,1,1]]],YZ:[[new m.Mesh(x,l),[0,.85,.85],null,[.2,2,2]],[new m.Line(w,p),[0,.855,.98],[0,0,Math.PI/2],[.125,1,1]],[new m.Line(w,p),[0,.98,.855],[0,-Math.PI/2,0],[.125,1,1]]],XZ:[[new m.Mesh(x,c),[.85,0,.85],null,[2,.2,2]],[new m.Line(w,v),[.855,0,.98],null,[.125,1,1]],[new m.Line(w,v),[.98,0,.855],[0,-Math.PI/2,0],[.125,1,1]]],XYZX:[[new m.Mesh(new m.BoxBufferGeometry(.125,.125,.125),s.clone()),[1.1,0,0]]],XYZY:[[new m.Mesh(new m.BoxBufferGeometry(.125,.125,.125),s.clone()),[0,1.1,0]]],XYZZ:[[new m.Mesh(new m.BoxBufferGeometry(.125,.125,.125),s.clone()),[0,0,1.1]]]},I={X:[[new m.Mesh(new m.CylinderBufferGeometry(.2,0,.8,4,1,!1),n),[.5,0,0],[0,0,-Math.PI/2]]],Y:[[new m.Mesh(new m.CylinderBufferGeometry(.2,0,.8,4,1,!1),n),[0,.5,0]]],Z:[[new m.Mesh(new m.CylinderBufferGeometry(.2,0,.8,4,1,!1),n),[0,0,.5],[Math.PI/2,0,0]]],XY:[[new m.Mesh(x,n),[.85,.85,0],null,[3,3,.2]]],YZ:[[new m.Mesh(x,n),[0,.85,.85],null,[.2,3,3]]],XZ:[[new m.Mesh(x,n),[.85,0,.85],null,[3,.2,3]]],XYZX:[[new m.Mesh(new m.BoxBufferGeometry(.2,.2,.2),n),[1.1,0,0]]],XYZY:[[new m.Mesh(new m.BoxBufferGeometry(.2,.2,.2),n),[0,1.1,0]]],XYZZ:[[new m.Mesh(new m.BoxBufferGeometry(.2,.2,.2),n),[0,0,1.1]]]},k={X:[[new m.Line(w,r.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new m.Line(w,r.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new m.Line(w,r.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},O=function(e){var t=new m.Object3D;for(var n in e)for(var r=e[n].length;r--;){var i=e[n][r][0].clone(),a=e[n][r][1],o=e[n][r][2],s=e[n][r][3],u=e[n][r][4];i.name=n,i.tag=u,a&&i.position.set(a[0],a[1],a[2]),o&&i.rotation.set(o[0],o[1],o[2]),s&&i.scale.set(s[0],s[1],s[2]),i.updateMatrix();var l=i.geometry.clone();l.applyMatrix4(i.matrix),i.geometry=l,i.renderOrder=1/0,i.position.set(0,0,0),i.rotation.set(0,0,0),i.scale.set(1,1,1),t.add(i)}return t},L=new m.Vector3(0,0,0),P=new m.Euler,B=new m.Vector3(0,1,0),F=new m.Vector3(0,0,0),N=new m.Matrix4,G=new m.Quaternion,j=new m.Quaternion,U=new m.Quaternion,z=new m.Vector3(1,0,0),V=new m.Vector3(0,1,0),H=new m.Vector3(0,0,1);this.gizmo={},this.picker={},this.helper={},this.add(this.gizmo.translate=O(E)),this.add(this.gizmo.rotate=O(T)),this.add(this.gizmo.scale=O(R)),this.add(this.picker.translate=O(A)),this.add(this.picker.rotate=O(D)),this.add(this.picker.scale=O(I)),this.add(this.helper.translate=O(S)),this.add(this.helper.rotate=O(C)),this.add(this.helper.scale=O(k)),this.picker.translate.visible=!1,this.picker.rotate.visible=!1,this.picker.scale.visible=!1,this.updateMatrixWorld=function(){var e=this.space;"scale"===this.mode&&(e="local");var t="local"===e?this.worldQuaternion:U;this.gizmo.translate.visible="translate"===this.mode,this.gizmo.rotate.visible="rotate"===this.mode,this.gizmo.scale.visible="scale"===this.mode,this.helper.translate.visible="translate"===this.mode,this.helper.rotate.visible="rotate"===this.mode,this.helper.scale.visible="scale"===this.mode;var n=[];n=(n=(n=n.concat(this.picker[this.mode].children)).concat(this.gizmo[this.mode].children)).concat(this.helper[this.mode].children);for(var r=0;r<n.length;r++){var i,a=n[r];if(a.visible=!0,a.rotation.set(0,0,0),a.position.copy(this.worldPosition),i=this.camera.isOrthographicCamera?(this.camera.top-this.camera.bottom)/this.camera.zoom:this.worldPosition.distanceTo(this.cameraPosition)*Math.min(1.9*Math.tan(Math.PI*this.camera.fov/360)/this.camera.zoom,7),a.scale.set(1,1,1).multiplyScalar(i*this.size/7),"helper"!==a.tag){if(a.quaternion.copy(t),"translate"===this.mode||"scale"===this.mode){"X"!==a.name&&"XYZX"!==a.name||Math.abs(B.copy(z).applyQuaternion(t).dot(this.eye))>.99&&(a.scale.set(1e-10,1e-10,1e-10),a.visible=!1),"Y"!==a.name&&"XYZY"!==a.name||Math.abs(B.copy(V).applyQuaternion(t).dot(this.eye))>.99&&(a.scale.set(1e-10,1e-10,1e-10),a.visible=!1),"Z"!==a.name&&"XYZZ"!==a.name||Math.abs(B.copy(H).applyQuaternion(t).dot(this.eye))>.99&&(a.scale.set(1e-10,1e-10,1e-10),a.visible=!1),"XY"===a.name&&Math.abs(B.copy(H).applyQuaternion(t).dot(this.eye))<.2&&(a.scale.set(1e-10,1e-10,1e-10),a.visible=!1),"YZ"===a.name&&Math.abs(B.copy(z).applyQuaternion(t).dot(this.eye))<.2&&(a.scale.set(1e-10,1e-10,1e-10),a.visible=!1),"XZ"===a.name&&Math.abs(B.copy(V).applyQuaternion(t).dot(this.eye))<.2&&(a.scale.set(1e-10,1e-10,1e-10),a.visible=!1),-1!==a.name.search("X")&&(B.copy(z).applyQuaternion(t).dot(this.eye)<0?"fwd"===a.tag?a.visible=!1:a.scale.x*=-1:"bwd"===a.tag&&(a.visible=!1)),-1!==a.name.search("Y")&&(B.copy(V).applyQuaternion(t).dot(this.eye)<0?"fwd"===a.tag?a.visible=!1:a.scale.y*=-1:"bwd"===a.tag&&(a.visible=!1)),-1!==a.name.search("Z")&&(B.copy(H).applyQuaternion(t).dot(this.eye)<0?"fwd"===a.tag?a.visible=!1:a.scale.z*=-1:"bwd"===a.tag&&(a.visible=!1))}else"rotate"===this.mode&&(j.copy(t),B.copy(this.eye).applyQuaternion(G.copy(t).inverse()),-1!==a.name.search("E")&&a.quaternion.setFromRotationMatrix(N.lookAt(this.eye,F,V)),"X"===a.name&&(G.setFromAxisAngle(z,Math.atan2(-B.y,B.z)),G.multiplyQuaternions(j,G),a.quaternion.copy(G)),"Y"===a.name&&(G.setFromAxisAngle(V,Math.atan2(B.x,B.z)),G.multiplyQuaternions(j,G),a.quaternion.copy(G)),"Z"===a.name&&(G.setFromAxisAngle(H,Math.atan2(B.y,B.x)),G.multiplyQuaternions(j,G),a.quaternion.copy(G)));a.visible=a.visible&&(-1===a.name.indexOf("X")||this.showX),a.visible=a.visible&&(-1===a.name.indexOf("Y")||this.showY),a.visible=a.visible&&(-1===a.name.indexOf("Z")||this.showZ),a.visible=a.visible&&(-1===a.name.indexOf("E")||this.showX&&this.showY&&this.showZ),a.material._opacity=a.material._opacity||a.material.opacity,a.material._color=a.material._color||a.material.color.clone(),a.material.color.copy(a.material._color),a.material.opacity=a.material._opacity,this.enabled?this.axis&&(a.name===this.axis||this.axis.split("").some((function(e){return a.name===e}))?(a.material.opacity=1,a.material.color.lerp(new m.Color(1,1,1),.5)):(a.material.opacity*=.25,a.material.color.lerp(new m.Color(1,1,1),.5))):(a.material.opacity*=.5,a.material.color.lerp(new m.Color(1,1,1),.5))}else a.visible=!1,"AXIS"===a.name?(a.position.copy(this.worldPositionStart),a.visible=!!this.axis,"X"===this.axis&&(G.setFromEuler(P.set(0,0,0)),a.quaternion.copy(t).multiply(G),Math.abs(B.copy(z).applyQuaternion(t).dot(this.eye))>.9&&(a.visible=!1)),"Y"===this.axis&&(G.setFromEuler(P.set(0,0,Math.PI/2)),a.quaternion.copy(t).multiply(G),Math.abs(B.copy(V).applyQuaternion(t).dot(this.eye))>.9&&(a.visible=!1)),"Z"===this.axis&&(G.setFromEuler(P.set(0,Math.PI/2,0)),a.quaternion.copy(t).multiply(G),Math.abs(B.copy(H).applyQuaternion(t).dot(this.eye))>.9&&(a.visible=!1)),"XYZE"===this.axis&&(G.setFromEuler(P.set(0,Math.PI/2,0)),B.copy(this.rotationAxis),a.quaternion.setFromRotationMatrix(N.lookAt(F,B,V)),a.quaternion.multiply(G),a.visible=this.dragging),"E"===this.axis&&(a.visible=!1)):"START"===a.name?(a.position.copy(this.worldPositionStart),a.visible=this.dragging):"END"===a.name?(a.position.copy(this.worldPosition),a.visible=this.dragging):"DELTA"===a.name?(a.position.copy(this.worldPositionStart),a.quaternion.copy(this.worldQuaternionStart),L.set(1e-10,1e-10,1e-10).add(this.worldPositionStart).sub(this.worldPosition).multiplyScalar(-1),L.applyQuaternion(this.worldQuaternionStart.clone().inverse()),a.scale.copy(L),a.visible=this.dragging):(a.quaternion.copy(t),this.dragging?a.position.copy(this.worldPositionStart):a.position.copy(this.worldPosition),this.axis&&(a.visible=-1!==this.axis.search(a.name)))}m.Object3D.prototype.updateMatrixWorld.call(this)}};C.prototype=Object.assign(Object.create(m.Object3D.prototype),{constructor:C,isTransformControlsGizmo:!0});var D=function(){m.Mesh.call(this,new m.PlaneBufferGeometry(1e5,1e5,2,2),new m.MeshBasicMaterial({visible:!1,wireframe:!0,side:m.DoubleSide,transparent:!0,opacity:.1,toneMapped:!1})),this.type="TransformControlsPlane";var e=new m.Vector3(1,0,0),t=new m.Vector3(0,1,0),n=new m.Vector3(0,0,1),r=new m.Vector3,i=new m.Vector3,a=new m.Vector3,o=new m.Matrix4,s=new m.Quaternion;this.updateMatrixWorld=function(){var u=this.space;switch(this.position.copy(this.worldPosition),"scale"===this.mode&&(u="local"),e.set(1,0,0).applyQuaternion("local"===u?this.worldQuaternion:s),t.set(0,1,0).applyQuaternion("local"===u?this.worldQuaternion:s),n.set(0,0,1).applyQuaternion("local"===u?this.worldQuaternion:s),a.copy(t),this.mode){case"translate":case"scale":switch(this.axis){case"X":a.copy(this.eye).cross(e),i.copy(e).cross(a);break;case"Y":a.copy(this.eye).cross(t),i.copy(t).cross(a);break;case"Z":a.copy(this.eye).cross(n),i.copy(n).cross(a);break;case"XY":i.copy(n);break;case"YZ":i.copy(e);break;case"XZ":a.copy(n),i.copy(t);break;case"XYZ":case"E":i.set(0,0,0)}break;case"rotate":default:i.set(0,0,0)}0===i.length()?this.quaternion.copy(this.cameraQuaternion):(o.lookAt(r.set(0,0,0),i,a),this.quaternion.setFromRotationMatrix(o)),m.Object3D.prototype.updateMatrixWorld.call(this)}};D.prototype=Object.assign(Object.create(m.Mesh.prototype),{constructor:D,isTransformControlsPlane:!0});n(63),n(64);var R=function(e,t){void 0===t&&(console.warn('THREE.PointerLockControls: The second parameter "domElement" is now mandatory.'),t=document.body),this.domElement=t,this.isLocked=!1,this.minPolarAngle=0,this.maxPolarAngle=Math.PI;var n=this,r={type:"change"},i={type:"lock"},a={type:"unlock"},o=new m.Euler(0,0,0,"YXZ"),s=Math.PI/2,u=new m.Vector3;function l(t){if(!1!==n.isLocked){var i=t.movementX||t.mozMovementX||t.webkitMovementX||0,a=t.movementY||t.mozMovementY||t.webkitMovementY||0;o.setFromQuaternion(e.quaternion),o.y-=.002*i,o.x-=.002*a,o.x=Math.max(s-n.maxPolarAngle,Math.min(s-n.minPolarAngle,o.x)),e.quaternion.setFromEuler(o),n.dispatchEvent(r)}}function c(){n.domElement.ownerDocument.pointerLockElement===n.domElement?(n.dispatchEvent(i),n.isLocked=!0):(n.dispatchEvent(a),n.isLocked=!1)}function d(){console.error("THREE.PointerLockControls: Unable to use Pointer Lock API")}this.connect=function(){n.domElement.ownerDocument.addEventListener("mousemove",l,!1),n.domElement.ownerDocument.addEventListener("pointerlockchange",c,!1),n.domElement.ownerDocument.addEventListener("pointerlockerror",d,!1)},this.disconnect=function(){n.domElement.ownerDocument.removeEventListener("mousemove",l,!1),n.domElement.ownerDocument.removeEventListener("pointerlockchange",c,!1),n.domElement.ownerDocument.removeEventListener("pointerlockerror",d,!1)},this.dispose=function(){this.disconnect()},this.getObject=function(){return e},this.getDirection=function(){var t=new m.Vector3(0,0,-1);return function(n){return n.copy(t).applyQuaternion(e.quaternion)}}(),this.moveForward=function(t){u.setFromMatrixColumn(e.matrix,0),u.crossVectors(e.up,u),e.position.addScaledVector(u,t)},this.moveRight=function(t){u.setFromMatrixColumn(e.matrix,0),e.position.addScaledVector(u,t)},this.lock=function(){this.domElement.requestPointerLock()},this.unlock=function(){n.domElement.ownerDocument.exitPointerLock()},this.connect()};(R.prototype=Object.create(m.EventDispatcher.prototype)).constructor=R;var I=function(e){m.Loader.call(this,e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}};I.prototype=Object.assign(Object.create(m.Loader.prototype),{constructor:I,setDecoderPath:function(e){return this.decoderPath=e,this},setDecoderConfig:function(e){return this.decoderConfig=e,this},setWorkerLimit:function(e){return this.workerLimit=e,this},setVerbosity:function(){console.warn("THREE.DRACOLoader: The .setVerbosity() method has been removed.")},setDrawMode:function(){console.warn("THREE.DRACOLoader: The .setDrawMode() method has been removed.")},setSkipDequantization:function(){console.warn("THREE.DRACOLoader: The .setSkipDequantization() method has been removed.")},load:function(e,t,n,r){var i=this,a=new m.FileLoader(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),"use-credentials"===this.crossOrigin&&a.setWithCredentials(!0),a.load(e,(function(e){var n={attributeIDs:i.defaultAttributeIDs,attributeTypes:i.defaultAttributeTypes,useUniqueIDs:!1};i.decodeGeometry(e,n).then(t).catch(r)}),n,r)},decodeDracoFile:function(e,t,n,r){var i={attributeIDs:n||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!n};this.decodeGeometry(e,i).then(t)},decodeGeometry:function(e,t){var n=this;for(var r in t.attributeTypes){var i=t.attributeTypes[r];void 0!==i.BYTES_PER_ELEMENT&&(t.attributeTypes[r]=i.name)}var a,o=JSON.stringify(t);if(I.taskCache.has(e)){var s=I.taskCache.get(e);if(s.key===o)return s.promise;if(0===e.byteLength)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}var u=this.workerNextTaskID++,l=e.byteLength,c=this._getWorker(u,l).then((function(n){return a=n,new Promise((function(n,r){a._callbacks[u]={resolve:n,reject:r},a.postMessage({type:"decode",id:u,taskConfig:t,buffer:e},[e])}))})).then((function(e){return n._createGeometry(e.geometry)}));return c.catch((function(){return!0})).then((function(){a&&u&&n._releaseTask(a,u)})),I.taskCache.set(e,{key:o,promise:c}),c},_createGeometry:function(e){var t=new m.BufferGeometry;e.index&&t.setIndex(new m.BufferAttribute(e.index.array,1));for(var n=0;n<e.attributes.length;n++){var r=e.attributes[n],i=r.name,a=r.array,o=r.itemSize;t.setAttribute(i,new m.BufferAttribute(a,o))}return t},_loadLibrary:function(e,t){var n=new m.FileLoader(this.manager);return n.setPath(this.decoderPath),n.setResponseType(t),new Promise((function(t,r){n.load(e,t,void 0,r)}))},preload:function(){return this._initDecoder(),this},_initDecoder:function(){var e=this;if(this.decoderPending)return this.decoderPending;var t="object"!==typeof WebAssembly||"js"===this.decoderConfig.type,n=[];return t?n.push(this._loadLibrary("draco_decoder.js","text")):(n.push(this._loadLibrary("draco_wasm_wrapper.js","text")),n.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(n).then((function(n){var r=n[0];t||(e.decoderConfig.wasmBinary=n[1]);var i=I.DRACOWorker.toString(),a=["/* draco decoder */",r,"","/* worker */",i.substring(i.indexOf("{")+1,i.lastIndexOf("}"))].join("\n");e.workerSourceURL=URL.createObjectURL(new Blob([a]))})),this.decoderPending},_getWorker:function(e,t){var n=this;return this._initDecoder().then((function(){var r;n.workerPool.length<n.workerLimit?((r=new Worker(n.workerSourceURL))._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:n.decoderConfig}),r.onmessage=function(e){var t=e.data;switch(t.type){case"decode":r._callbacks[t.id].resolve(t);break;case"error":r._callbacks[t.id].reject(t);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+t.type+'"')}},n.workerPool.push(r)):n.workerPool.sort((function(e,t){return e._taskLoad>t._taskLoad?-1:1}));return(r=n.workerPool[n.workerPool.length-1])._taskCosts[e]=t,r._taskLoad+=t,r}))},_releaseTask:function(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]},debug:function(){console.log("Task load: ",this.workerPool.map((function(e){return e._taskLoad})))},dispose:function(){for(var e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}),I.DRACOWorker=function(){var e,t;function n(e,t,n,r,i,a){var o,s,u=a.num_components(),l=n.num_points()*u;switch(i){case Float32Array:o=new e.DracoFloat32Array,t.GetAttributeFloatForAllPoints(n,a,o),s=new Float32Array(l);break;case Int8Array:o=new e.DracoInt8Array,t.GetAttributeInt8ForAllPoints(n,a,o),s=new Int8Array(l);break;case Int16Array:o=new e.DracoInt16Array,t.GetAttributeInt16ForAllPoints(n,a,o),s=new Int16Array(l);break;case Int32Array:o=new e.DracoInt32Array,t.GetAttributeInt32ForAllPoints(n,a,o),s=new Int32Array(l);break;case Uint8Array:o=new e.DracoUInt8Array,t.GetAttributeUInt8ForAllPoints(n,a,o),s=new Uint8Array(l);break;case Uint16Array:o=new e.DracoUInt16Array,t.GetAttributeUInt16ForAllPoints(n,a,o),s=new Uint16Array(l);break;case Uint32Array:o=new e.DracoUInt32Array,t.GetAttributeUInt32ForAllPoints(n,a,o),s=new Uint32Array(l);break;default:throw new Error("THREE.DRACOLoader: Unexpected attribute type.")}for(var c=0;c<l;c++)s[c]=o.GetValue(c);return e.destroy(o),{name:r,array:s,itemSize:u}}onmessage=function(r){var i=r.data;switch(i.type){case"init":e=i.decoderConfig,t=new Promise((function(t){e.onModuleLoaded=function(e){t({draco:e})},DracoDecoderModule(e)}));break;case"decode":var a=i.buffer,o=i.taskConfig;t.then((function(e){var t=e.draco,r=new t.Decoder,s=new t.DecoderBuffer;s.Init(new Int8Array(a),a.byteLength);try{var u=function(e,t,r,i){var a,o,s=i.attributeIDs,u=i.attributeTypes,l=t.GetEncodedGeometryType(r);if(l===e.TRIANGULAR_MESH)a=new e.Mesh,o=t.DecodeBufferToMesh(r,a);else{if(l!==e.POINT_CLOUD)throw new Error("THREE.DRACOLoader: Unexpected geometry type.");a=new e.PointCloud,o=t.DecodeBufferToPointCloud(r,a)}if(!o.ok()||0===a.ptr)throw new Error("THREE.DRACOLoader: Decoding failed: "+o.error_msg());var c={index:null,attributes:[]};for(var d in s){var h,f,p=self[u[d]];if(i.useUniqueIDs)f=s[d],h=t.GetAttributeByUniqueId(a,f);else{if(-1===(f=t.GetAttributeId(a,e[s[d]])))continue;h=t.GetAttribute(a,f)}c.attributes.push(n(e,t,a,d,p,h))}if(l===e.TRIANGULAR_MESH){for(var m=a.num_faces(),v=new Uint32Array(3*m),g=new e.DracoInt32Array,y=0;y<m;++y){t.GetFaceFromMesh(a,y,g);for(var b=0;b<3;++b)v[3*y+b]=g.GetValue(b)}c.index={array:v,itemSize:1},e.destroy(g)}return e.destroy(a),c}(t,r,s,o),l=u.attributes.map((function(e){return e.array.buffer}));u.index&&l.push(u.index.array.buffer),self.postMessage({type:"decode",id:i.id,geometry:u},l)}catch(c){console.error(c),self.postMessage({type:"error",id:i.id,error:c.message})}finally{t.destroy(s),t.destroy(r)}}))}}},I.taskCache=new WeakMap,I.setDecoderPath=function(){console.warn("THREE.DRACOLoader: The .setDecoderPath() method has been removed. Use instance methods.")},I.setDecoderConfig=function(){console.warn("THREE.DRACOLoader: The .setDecoderConfig() method has been removed. Use instance methods.")},I.releaseDecoderModule=function(){console.warn("THREE.DRACOLoader: The .releaseDecoderModule() method has been removed. Use instance methods.")},I.getDecoderModule=function(){console.warn("THREE.DRACOLoader: The .getDecoderModule() method has been removed. Use instance methods.")};var k={},O=k;function L(e,t){var n,r=e.split("."),i=O;!(r[0]in i)&&i.execScript&&i.execScript("var "+r[0]);for(;r.length&&(n=r.shift());)r.length||void 0===t?i=i[n]?i[n]:i[n]={}:i[n]=t}var P="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Uint32Array&&"undefined"!==typeof DataView;function B(e){var t,n,r,i,a,o,s,u,l,c,d=e.length,h=0,f=Number.POSITIVE_INFINITY;for(u=0;u<d;++u)e[u]>h&&(h=e[u]),e[u]<f&&(f=e[u]);for(t=1<<h,n=new(P?Uint32Array:Array)(t),r=1,i=0,a=2;r<=h;){for(u=0;u<d;++u)if(e[u]===r){for(o=0,s=i,l=0;l<r;++l)o=o<<1|1&s,s>>=1;for(c=r<<16|u,l=o;l<t;l+=a)n[l]=c;++i}++r,i<<=1,a<<=1}return[n,h,f]}function F(e,t){switch(this.g=[],this.h=32768,this.d=this.f=this.a=this.l=0,this.input=P?new Uint8Array(e):e,this.m=!1,this.i=G,this.r=!1,!t&&(t={})||(t.index&&(this.a=t.index),t.bufferSize&&(this.h=t.bufferSize),t.bufferType&&(this.i=t.bufferType),t.resize&&(this.r=t.resize)),this.i){case N:this.b=32768,this.c=new(P?Uint8Array:Array)(32768+this.h+258);break;case G:this.b=0,this.c=new(P?Uint8Array:Array)(this.h),this.e=this.z,this.n=this.v,this.j=this.w;break;default:throw Error("invalid inflate mode")}}var N=0,G=1,j={t:N,s:G};F.prototype.k=function(){for(;!this.m;){var e=ae(this,3);switch(1&e&&(this.m=!0),e>>>=1){case 0:var t=this.input,n=this.a,r=this.c,i=this.b,a=t.length,o=void 0,s=r.length,u=void 0;if(this.d=this.f=0,n+1>=a)throw Error("invalid uncompressed block header: LEN");if(o=t[n++]|t[n++]<<8,n+1>=a)throw Error("invalid uncompressed block header: NLEN");if(o===~(t[n++]|t[n++]<<8))throw Error("invalid uncompressed block header: length verify");if(n+o>t.length)throw Error("input buffer is broken");switch(this.i){case N:for(;i+o>r.length;){if(o-=u=s-i,P)r.set(t.subarray(n,n+u),i),i+=u,n+=u;else for(;u--;)r[i++]=t[n++];this.b=i,r=this.e(),i=this.b}break;case G:for(;i+o>r.length;)r=this.e({p:2});break;default:throw Error("invalid inflate mode")}if(P)r.set(t.subarray(n,n+o),i),i+=o,n+=o;else for(;o--;)r[i++]=t[n++];this.a=n,this.b=i,this.c=r;break;case 1:this.j(ne,ie);break;case 2:var l,c,d,h,f=ae(this,5)+257,p=ae(this,5)+1,m=ae(this,4)+4,v=new(P?Uint8Array:Array)(H.length),g=void 0,y=void 0,b=void 0,_=void 0,x=void 0;for(x=0;x<m;++x)v[H[x]]=ae(this,3);if(!P)for(x=m,m=v.length;x<m;++x)v[H[x]]=0;for(l=B(v),g=new(P?Uint8Array:Array)(f+p),x=0,h=f+p;x<h;)switch(y=oe(this,l)){case 16:for(_=3+ae(this,2);_--;)g[x++]=b;break;case 17:for(_=3+ae(this,3);_--;)g[x++]=0;b=0;break;case 18:for(_=11+ae(this,7);_--;)g[x++]=0;b=0;break;default:b=g[x++]=y}c=B(P?g.subarray(0,f):g.slice(0,f)),d=B(P?g.subarray(f):g.slice(f)),this.j(c,d);break;default:throw Error("unknown BTYPE: "+e)}}return this.n()};var U,z,V=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],H=P?new Uint16Array(V):V,W=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258],X=P?new Uint16Array(W):W,q=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0],Y=P?new Uint8Array(q):q,Q=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],Z=P?new Uint16Array(Q):Q,K=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],J=P?new Uint8Array(K):K,$=new(P?Uint8Array:Array)(288);for(U=0,z=$.length;U<z;++U)$[U]=143>=U?8:255>=U?9:279>=U?7:8;var ee,te,ne=B($),re=new(P?Uint8Array:Array)(30);for(ee=0,te=re.length;ee<te;++ee)re[ee]=5;var ie=B(re);function ae(e,t){for(var n,r=e.f,i=e.d,a=e.input,o=e.a,s=a.length;i<t;){if(o>=s)throw Error("input buffer is broken");r|=a[o++]<<i,i+=8}return n=r&(1<<t)-1,e.f=r>>>t,e.d=i-t,e.a=o,n}function oe(e,t){for(var n,r,i=e.f,a=e.d,o=e.input,s=e.a,u=o.length,l=t[0],c=t[1];a<c&&!(s>=u);)i|=o[s++]<<a,a+=8;if((r=(n=l[i&(1<<c)-1])>>>16)>a)throw Error("invalid code length: "+r);return e.f=i>>r,e.d=a-r,e.a=s,65535&n}function se(e,t){var n,r;switch(this.input=e,this.a=0,!t&&(t={})||(t.index&&(this.a=t.index),t.verify&&(this.A=t.verify)),n=e[this.a++],r=e[this.a++],15&n){case ue:this.method=ue;break;default:throw Error("unsupported compression method")}if(0!==((n<<8)+r)%31)throw Error("invalid fcheck flag:"+((n<<8)+r)%31);if(32&r)throw Error("fdict flag is not supported");this.q=new F(e,{index:this.a,bufferSize:t.bufferSize,bufferType:t.bufferType,resize:t.resize})}F.prototype.j=function(e,t){var n=this.c,r=this.b;this.o=e;for(var i,a,o,s,u=n.length-258;256!==(i=oe(this,e));)if(256>i)r>=u&&(this.b=r,n=this.e(),r=this.b),n[r++]=i;else for(s=X[a=i-257],0<Y[a]&&(s+=ae(this,Y[a])),i=oe(this,t),o=Z[i],0<J[i]&&(o+=ae(this,J[i])),r>=u&&(this.b=r,n=this.e(),r=this.b);s--;)n[r]=n[r++-o];for(;8<=this.d;)this.d-=8,this.a--;this.b=r},F.prototype.w=function(e,t){var n=this.c,r=this.b;this.o=e;for(var i,a,o,s,u=n.length;256!==(i=oe(this,e));)if(256>i)r>=u&&(u=(n=this.e()).length),n[r++]=i;else for(s=X[a=i-257],0<Y[a]&&(s+=ae(this,Y[a])),i=oe(this,t),o=Z[i],0<J[i]&&(o+=ae(this,J[i])),r+s>u&&(u=(n=this.e()).length);s--;)n[r]=n[r++-o];for(;8<=this.d;)this.d-=8,this.a--;this.b=r},F.prototype.e=function(){var e,t,n=new(P?Uint8Array:Array)(this.b-32768),r=this.b-32768,i=this.c;if(P)n.set(i.subarray(32768,n.length));else for(e=0,t=n.length;e<t;++e)n[e]=i[e+32768];if(this.g.push(n),this.l+=n.length,P)i.set(i.subarray(r,r+32768));else for(e=0;32768>e;++e)i[e]=i[r+e];return this.b=32768,i},F.prototype.z=function(e){var t,n,r,i=this.input.length/this.a+1|0,a=this.input,o=this.c;return e&&("number"===typeof e.p&&(i=e.p),"number"===typeof e.u&&(i+=e.u)),2>i?n=(r=(a.length-this.a)/this.o[2]/2*258|0)<o.length?o.length+r:o.length<<1:n=o.length*i,P?(t=new Uint8Array(n)).set(o):t=o,this.c=t},F.prototype.n=function(){var e,t,n,r,i,a=0,o=this.c,s=this.g,u=new(P?Uint8Array:Array)(this.l+(this.b-32768));if(0===s.length)return P?this.c.subarray(32768,this.b):this.c.slice(32768,this.b);for(t=0,n=s.length;t<n;++t)for(r=0,i=(e=s[t]).length;r<i;++r)u[a++]=e[r];for(t=32768,n=this.b;t<n;++t)u[a++]=o[t];return this.g=[],this.buffer=u},F.prototype.v=function(){var e,t=this.b;return P?this.r?(e=new Uint8Array(t)).set(this.c.subarray(0,t)):e=this.c.subarray(0,t):(this.c.length>t&&(this.c.length=t),e=this.c),this.buffer=e},se.prototype.k=function(){var e,t,n=this.input;if(e=this.q.k(),this.a=this.q.a,this.A){t=(n[this.a++]<<24|n[this.a++]<<16|n[this.a++]<<8|n[this.a++])>>>0;var r=e;if("string"===typeof r){var i,a,o=r.split("");for(i=0,a=o.length;i<a;i++)o[i]=(255&o[i].charCodeAt(0))>>>0;r=o}for(var s,u=1,l=0,c=r.length,d=0;0<c;){c-=s=1024<c?1024:c;do{l+=u+=r[d++]}while(--s);u%=65521,l%=65521}if(t!==(l<<16|u)>>>0)throw Error("invalid adler-32 checksum")}return e};var ue=8;L("Zlib.Inflate",se),L("Zlib.Inflate.prototype.decompress",se.prototype.k);var le,ce,de,he,fe={ADAPTIVE:j.s,BLOCK:j.t};if(Object.keys)le=Object.keys(fe);else for(ce in le=[],de=0,fe)le[de++]=ce;for(de=0,he=le.length;de<he;++de)L("Zlib.Inflate.BufferType."+(ce=le[de]),fe[ce]);var pe=k.Zlib.Inflate,me={findSpan:function(e,t,n){var r=n.length-e-1;if(t>=n[r])return r-1;if(t<=n[e])return e;for(var i=e,a=r,o=Math.floor((i+a)/2);t<n[o]||t>=n[o+1];)t<n[o]?a=o:i=o,o=Math.floor((i+a)/2);return o},calcBasisFunctions:function(e,t,n,r){var i=[],a=[],o=[];i[0]=1;for(var s=1;s<=n;++s){a[s]=t-r[e+1-s],o[s]=r[e+s]-t;for(var u=0,l=0;l<s;++l){var c=o[l+1],d=a[s-l],h=i[l]/(c+d);i[l]=u+c*h,u=d*h}i[s]=u}return i},calcBSplinePoint:function(e,t,n,r){for(var i=this.findSpan(e,r,t),a=this.calcBasisFunctions(i,r,e,t),o=new m.Vector4(0,0,0,0),s=0;s<=e;++s){var u=n[i-e+s],l=a[s],c=u.w*l;o.x+=u.x*c,o.y+=u.y*c,o.z+=u.z*c,o.w+=u.w*l}return o},calcBasisFunctionDerivatives:function(e,t,n,r,i){for(var a=[],o=0;o<=n;++o)a[o]=0;var s=[];for(o=0;o<=r;++o)s[o]=a.slice(0);var u=[];for(o=0;o<=n;++o)u[o]=a.slice(0);u[0][0]=1;for(var l=a.slice(0),c=a.slice(0),d=1;d<=n;++d){l[d]=t-i[e+1-d],c[d]=i[e+d]-t;for(var h=0,f=0;f<d;++f){var p=c[f+1],m=l[d-f];u[d][f]=p+m;var v=u[f][d-1]/u[d][f];u[f][d]=h+p*v,h=m*v}u[d][d]=h}for(d=0;d<=n;++d)s[0][d]=u[d][n];for(f=0;f<=n;++f){var g=0,y=1,b=[];for(o=0;o<=n;++o)b[o]=a.slice(0);b[0][0]=1;for(var _=1;_<=r;++_){var x=0,w=f-_,M=n-_;f>=_&&(b[y][0]=b[g][0]/u[M+1][w],x=b[y][0]*u[w][M]);var E=f-1<=M?_-1:n-f;for(d=w>=-1?1:-w;d<=E;++d)b[y][d]=(b[g][d]-b[g][d-1])/u[M+1][w+d],x+=b[y][d]*u[w+d][M];f<=M&&(b[y][_]=-b[g][_-1]/u[M+1][f],x+=b[y][_]*u[f][M]),s[_][f]=x;d=g;g=y,y=d}}for(f=n,_=1;_<=r;++_){for(d=0;d<=n;++d)s[_][d]*=f;f*=n-_}return s},calcBSplineDerivatives:function(e,t,n,r,i){for(var a=i<e?i:e,o=[],s=this.findSpan(e,r,t),u=this.calcBasisFunctionDerivatives(s,r,e,a,t),l=[],c=0;c<n.length;++c){var d=(f=n[c].clone()).w;f.x*=d,f.y*=d,f.z*=d,l[c]=f}for(var h=0;h<=a;++h){for(var f=l[s-e].clone().multiplyScalar(u[h][0]),p=1;p<=e;++p)f.add(l[s-e+p].clone().multiplyScalar(u[h][p]));o[h]=f}for(h=a+1;h<=i+1;++h)o[h]=new m.Vector4(0,0,0);return o},calcKoverI:function(e,t){for(var n=1,r=2;r<=e;++r)n*=r;var i=1;for(r=2;r<=t;++r)i*=r;for(r=2;r<=e-t;++r)i*=r;return n/i},calcRationalCurveDerivatives:function(e){for(var t=e.length,n=[],r=[],i=0;i<t;++i){var a=e[i];n[i]=new m.Vector3(a.x,a.y,a.z),r[i]=a.w}for(var o=[],s=0;s<t;++s){var u=n[s].clone();for(i=1;i<=s;++i)u.sub(o[s-i].clone().multiplyScalar(this.calcKoverI(s,i)*r[i]));o[s]=u.divideScalar(r[0])}return o},calcNURBSDerivatives:function(e,t,n,r,i){var a=this.calcBSplineDerivatives(e,t,n,r,i);return this.calcRationalCurveDerivatives(a)},calcSurfacePoint:function(e,t,n,r,i,a,o,s){for(var u=this.findSpan(e,a,n),l=this.findSpan(t,o,r),c=this.calcBasisFunctions(u,a,e,n),d=this.calcBasisFunctions(l,o,t,r),h=[],f=0;f<=t;++f){h[f]=new m.Vector4(0,0,0,0);for(var p=0;p<=e;++p){var v=i[u-e+p][l-t+f].clone(),g=v.w;v.x*=g,v.y*=g,v.z*=g,h[f].add(v.multiplyScalar(c[p]))}}var y=new m.Vector4(0,0,0,0);for(f=0;f<=t;++f)y.add(h[f].multiplyScalar(d[f]));y.divideScalar(y.w),s.set(y.x,y.y,y.z)}},ve=function(e,t,n,r,i){m.Curve.call(this),this.degree=e,this.knots=t,this.controlPoints=[],this.startKnot=r||0,this.endKnot=i||this.knots.length-1;for(var a=0;a<n.length;++a){var o=n[a];this.controlPoints[a]=new m.Vector4(o.x,o.y,o.z,o.w)}};(ve.prototype=Object.create(m.Curve.prototype)).constructor=ve,ve.prototype.getPoint=function(e,t){var n=t||new m.Vector3,r=this.knots[this.startKnot]+e*(this.knots[this.endKnot]-this.knots[this.startKnot]),i=me.calcBSplinePoint(this.degree,this.knots,this.controlPoints,r);return 1!=i.w&&i.divideScalar(i.w),n.set(i.x,i.y,i.z)},ve.prototype.getTangent=function(e,t){var n=t||new m.Vector3,r=this.knots[0]+e*(this.knots[this.knots.length-1]-this.knots[0]),i=me.calcNURBSDerivatives(this.degree,this.knots,this.controlPoints,r,1);return n.copy(i[1]).normalize(),n};!function(){var e,t,n;function r(e){m.Loader.call(this,e)}function i(e,t){this.textureLoader=e,this.manager=t}function a(){}function o(){}function s(){}function u(){}function l(e,t){this.dv=new DataView(e),this.offset=0,this.littleEndian=void 0===t||t}function c(){}function d(e){var t=e.match(/FBXVersion: (\d+)/);if(t)return parseInt(t[1]);throw new Error("THREE.FBXLoader: Cannot find the version number for the file given.")}function h(e){return e/46186158e3}r.prototype=Object.assign(Object.create(m.Loader.prototype),{constructor:r,load:function(e,t,n,r){var i=this,a=""===i.path?m.LoaderUtils.extractUrlBase(e):i.path,o=new m.FileLoader(this.manager);o.setPath(i.path),o.setResponseType("arraybuffer"),o.setRequestHeader(i.requestHeader),o.load(e,(function(n){try{t(i.parse(n,a))}catch(o){r?r(o):console.error(o),i.manager.itemError(e)}}),n,r)},parse:function(t,n){if(function(e){var t="Kaydara FBX Binary  \0";return e.byteLength>=t.length&&t===x(e,0,t.length)}(t))e=(new u).parse(t);else{var r=x(t);if(!function(e){var t=["K","a","y","d","a","r","a","\\","F","B","X","\\","B","i","n","a","r","y","\\","\\"],n=0;function r(t){var r=e[t-1];return e=e.slice(n+t),n++,r}for(var i=0;i<t.length;++i){if(r(1)===t[i])return!1}return!0}(r))throw new Error("THREE.FBXLoader: Unknown format.");if(d(r)<7e3)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+d(r));e=(new s).parse(r)}return new i(new m.TextureLoader(this.manager).setPath(this.resourcePath||n).setCrossOrigin(this.crossOrigin),this.manager).parse(e)}}),i.prototype={constructor:i,parse:function(){t=this.parseConnections();var e=this.parseImages(),r=this.parseTextures(e),i=this.parseMaterials(r),o=this.parseDeformers(),s=(new a).parse(o);return this.parseScene(o,s,i),n},parseConnections:function(){var t=new Map;"Connections"in e&&e.Connections.connections.forEach((function(e){var n=e[0],r=e[1],i=e[2];t.has(n)||t.set(n,{parents:[],children:[]});var a={ID:r,relationship:i};t.get(n).parents.push(a),t.has(r)||t.set(r,{parents:[],children:[]});var o={ID:n,relationship:i};t.get(r).children.push(o)}));return t},parseImages:function(){var t={},n={};if("Video"in e.Objects){var r=e.Objects.Video;for(var i in r){var a=r[i];if(t[l=parseInt(i)]=a.RelativeFilename||a.Filename,"Content"in a){var o=a.Content instanceof ArrayBuffer&&a.Content.byteLength>0,s="string"===typeof a.Content&&""!==a.Content;if(o||s){var u=this.parseImage(r[i]);n[a.RelativeFilename||a.Filename]=u}}}}for(var l in t){var c=t[l];void 0!==n[c]?t[l]=n[c]:t[l]=t[l].split("\\").pop()}return t},parseImage:function(e){var t,n=e.Content,r=e.RelativeFilename||e.Filename,i=r.slice(r.lastIndexOf(".")+1).toLowerCase();switch(i){case"bmp":t="image/bmp";break;case"jpg":case"jpeg":t="image/jpeg";break;case"png":t="image/png";break;case"tif":t="image/tiff";break;case"tga":null===this.manager.getHandler(".tga")&&console.warn("FBXLoader: TGA loader not found, skipping ",r),t="image/tga";break;default:return void console.warn('FBXLoader: Image type "'+i+'" is not supported.')}if("string"===typeof n)return"data:"+t+";base64,"+n;var a=new Uint8Array(n);return window.URL.createObjectURL(new Blob([a],{type:t}))},parseTextures:function(t){var n=new Map;if("Texture"in e.Objects){var r=e.Objects.Texture;for(var i in r){var a=this.parseTexture(r[i],t);n.set(parseInt(i),a)}}return n},parseTexture:function(e,t){var n=this.loadTexture(e,t);n.ID=e.id,n.name=e.attrName;var r=e.WrapModeU,i=e.WrapModeV,a=void 0!==r?r.value:0,o=void 0!==i?i.value:0;if(n.wrapS=0===a?m.RepeatWrapping:m.ClampToEdgeWrapping,n.wrapT=0===o?m.RepeatWrapping:m.ClampToEdgeWrapping,"Scaling"in e){var s=e.Scaling.value;n.repeat.x=s[0],n.repeat.y=s[1]}return n},loadTexture:function(e,n){var r,i,a=this.textureLoader.path,o=t.get(e.id).children;void 0!==o&&o.length>0&&void 0!==n[o[0].ID]&&(0!==(r=n[o[0].ID]).indexOf("blob:")&&0!==r.indexOf("data:")||this.textureLoader.setPath(void 0));var s=e.FileName.slice(-3).toLowerCase();if("tga"===s){var u=this.manager.getHandler(".tga");null===u?(console.warn("FBXLoader: TGA loader not found, creating placeholder texture for",e.RelativeFilename),i=new m.Texture):i=u.load(r)}else"psd"===s?(console.warn("FBXLoader: PSD textures are not supported, creating placeholder texture for",e.RelativeFilename),i=new m.Texture):i=this.textureLoader.load(r);return this.textureLoader.setPath(a),i},parseMaterials:function(t){var n=new Map;if("Material"in e.Objects){var r=e.Objects.Material;for(var i in r){var a=this.parseMaterial(r[i],t);null!==a&&n.set(parseInt(i),a)}}return n},parseMaterial:function(e,n){var r=e.id,i=e.attrName,a=e.ShadingModel;if("object"===typeof a&&(a=a.value),!t.has(r))return null;var o,s=this.parseParameters(e,n,r);switch(a.toLowerCase()){case"phong":o=new m.MeshPhongMaterial;break;case"lambert":o=new m.MeshLambertMaterial;break;default:console.warn('THREE.FBXLoader: unknown material type "%s". Defaulting to MeshPhongMaterial.',a),o=new m.MeshPhongMaterial}return o.setValues(s),o.name=i,o},parseParameters:function(e,n,r){var i={};e.BumpFactor&&(i.bumpScale=e.BumpFactor.value),e.Diffuse?i.color=(new m.Color).fromArray(e.Diffuse.value):e.DiffuseColor&&"Color"===e.DiffuseColor.type&&(i.color=(new m.Color).fromArray(e.DiffuseColor.value)),e.DisplacementFactor&&(i.displacementScale=e.DisplacementFactor.value),e.Emissive?i.emissive=(new m.Color).fromArray(e.Emissive.value):e.EmissiveColor&&"Color"===e.EmissiveColor.type&&(i.emissive=(new m.Color).fromArray(e.EmissiveColor.value)),e.EmissiveFactor&&(i.emissiveIntensity=parseFloat(e.EmissiveFactor.value)),e.Opacity&&(i.opacity=parseFloat(e.Opacity.value)),i.opacity<1&&(i.transparent=!0),e.ReflectionFactor&&(i.reflectivity=e.ReflectionFactor.value),e.Shininess&&(i.shininess=e.Shininess.value),e.Specular?i.specular=(new m.Color).fromArray(e.Specular.value):e.SpecularColor&&"Color"===e.SpecularColor.type&&(i.specular=(new m.Color).fromArray(e.SpecularColor.value));var a=this;return t.get(r).children.forEach((function(e){var t=e.relationship;switch(t){case"Bump":i.bumpMap=a.getTexture(n,e.ID);break;case"Maya|TEX_ao_map":i.aoMap=a.getTexture(n,e.ID);break;case"DiffuseColor":case"Maya|TEX_color_map":i.map=a.getTexture(n,e.ID),i.map.encoding=m.sRGBEncoding;break;case"DisplacementColor":i.displacementMap=a.getTexture(n,e.ID);break;case"EmissiveColor":i.emissiveMap=a.getTexture(n,e.ID),i.emissiveMap.encoding=m.sRGBEncoding;break;case"NormalMap":case"Maya|TEX_normal_map":i.normalMap=a.getTexture(n,e.ID);break;case"ReflectionColor":i.envMap=a.getTexture(n,e.ID),i.envMap.mapping=m.EquirectangularReflectionMapping,i.envMap.encoding=m.sRGBEncoding;break;case"SpecularColor":i.specularMap=a.getTexture(n,e.ID),i.specularMap.encoding=m.sRGBEncoding;break;case"TransparentColor":case"TransparencyFactor":i.alphaMap=a.getTexture(n,e.ID),i.transparent=!0;break;case"AmbientColor":case"ShininessExponent":case"SpecularFactor":case"VectorDisplacementColor":default:console.warn("THREE.FBXLoader: %s map is not supported in three.js, skipping texture.",t)}})),i},getTexture:function(n,r){return"LayeredTexture"in e.Objects&&r in e.Objects.LayeredTexture&&(console.warn("THREE.FBXLoader: layered textures are not supported in three.js. Discarding all but first layer."),r=t.get(r).children[0].ID),n.get(r)},parseDeformers:function(){var n={},r={};if("Deformer"in e.Objects){var i=e.Objects.Deformer;for(var a in i){var o=i[a],s=t.get(parseInt(a));if("Skin"===o.attrType){var u=this.parseSkeleton(s,i);u.ID=a,s.parents.length>1&&console.warn("THREE.FBXLoader: skeleton attached to more than one geometry is not supported."),u.geometryID=s.parents[0].ID,n[a]=u}else if("BlendShape"===o.attrType){var l={id:a};l.rawTargets=this.parseMorphTargets(s,i),l.id=a,s.parents.length>1&&console.warn("THREE.FBXLoader: morph target attached to more than one geometry is not supported."),r[a]=l}}}return{skeletons:n,morphTargets:r}},parseSkeleton:function(e,t){var n=[];return e.children.forEach((function(e){var r=t[e.ID];if("Cluster"===r.attrType){var i={ID:e.ID,indices:[],weights:[],transformLink:(new m.Matrix4).fromArray(r.TransformLink.a)};"Indexes"in r&&(i.indices=r.Indexes.a,i.weights=r.Weights.a),n.push(i)}})),{rawBones:n,bones:[]}},parseMorphTargets:function(e,n){for(var r=[],i=0;i<e.children.length;i++){var a=e.children[i],o=n[a.ID],s={name:o.attrName,initialWeight:o.DeformPercent,id:o.id,fullWeights:o.FullWeights.a};if("BlendShapeChannel"!==o.attrType)return;s.geoID=t.get(parseInt(a.ID)).children.filter((function(e){return void 0===e.relationship}))[0].ID,r.push(s)}return r},parseScene:function(r,i,a){n=new m.Group;var s=this.parseModels(r.skeletons,i,a),u=e.Objects.Model,l=this;s.forEach((function(e){var r=u[e.ID];l.setLookAtProperties(e,r),t.get(e.ID).parents.forEach((function(t){var n=s.get(t.ID);void 0!==n&&n.add(e)})),null===e.parent&&n.add(e)})),this.bindSkeleton(r.skeletons,i,s),this.createAmbientLight(),this.setupMorphMaterials(),n.traverse((function(e){if(e.userData.transformData){e.parent&&(e.userData.transformData.parentMatrixWorld=e.parent.matrix);var t=y(e.userData.transformData);e.applyMatrix4(t)}}));var c=(new o).parse();1===n.children.length&&n.children[0].isGroup&&(n.children[0].animations=c,n=n.children[0]),n.animations=c},parseModels:function(n,r,i){var a=new Map,o=e.Objects.Model;for(var s in o){var u=parseInt(s),l=o[s],c=t.get(u),d=this.buildSkeleton(c,n,u,l.attrName);if(!d){switch(l.attrType){case"Camera":d=this.createCamera(c);break;case"Light":d=this.createLight(c);break;case"Mesh":d=this.createMesh(c,r,i);break;case"NurbsCurve":d=this.createCurve(c,r);break;case"LimbNode":case"Root":d=new m.Bone;break;case"Null":default:d=new m.Group}d.name=l.attrName?m.PropertyBinding.sanitizeNodeName(l.attrName):"",d.ID=u}this.getTransformData(d,l),a.set(u,d)}return a},buildSkeleton:function(e,t,n,r){var i=null;return e.parents.forEach((function(e){for(var a in t){var o=t[a];o.rawBones.forEach((function(t,a){if(t.ID===e.ID){var s=i;(i=new m.Bone).matrixWorld.copy(t.transformLink),i.name=r?m.PropertyBinding.sanitizeNodeName(r):"",i.ID=n,o.bones[a]=i,null!==s&&i.add(s)}}))}})),i},createCamera:function(t){var n,r;if(t.children.forEach((function(t){var n=e.Objects.NodeAttribute[t.ID];void 0!==n&&(r=n)})),void 0===r)n=new m.Object3D;else{var i=0;void 0!==r.CameraProjectionType&&1===r.CameraProjectionType.value&&(i=1);var a=1;void 0!==r.NearPlane&&(a=r.NearPlane.value/1e3);var o=1e3;void 0!==r.FarPlane&&(o=r.FarPlane.value/1e3);var s=window.innerWidth,u=window.innerHeight;void 0!==r.AspectWidth&&void 0!==r.AspectHeight&&(s=r.AspectWidth.value,u=r.AspectHeight.value);var l=s/u,c=45;void 0!==r.FieldOfView&&(c=r.FieldOfView.value);var d=r.FocalLength?r.FocalLength.value:null;switch(i){case 0:n=new m.PerspectiveCamera(c,l,a,o),null!==d&&n.setFocalLength(d);break;case 1:n=new m.OrthographicCamera(-s/2,s/2,u/2,-u/2,a,o);break;default:console.warn("THREE.FBXLoader: Unknown camera type "+i+"."),n=new m.Object3D}}return n},createLight:function(t){var n,r;if(t.children.forEach((function(t){var n=e.Objects.NodeAttribute[t.ID];void 0!==n&&(r=n)})),void 0===r)n=new m.Object3D;else{var i;i=void 0===r.LightType?0:r.LightType.value;var a=16777215;void 0!==r.Color&&(a=(new m.Color).fromArray(r.Color.value));var o=void 0===r.Intensity?1:r.Intensity.value/100;void 0!==r.CastLightOnObject&&0===r.CastLightOnObject.value&&(o=0);var s=0;void 0!==r.FarAttenuationEnd&&(s=void 0!==r.EnableFarAttenuation&&0===r.EnableFarAttenuation.value?0:r.FarAttenuationEnd.value);switch(i){case 0:n=new m.PointLight(a,o,s,1);break;case 1:n=new m.DirectionalLight(a,o);break;case 2:var u=Math.PI/3;void 0!==r.InnerAngle&&(u=m.MathUtils.degToRad(r.InnerAngle.value));var l=0;void 0!==r.OuterAngle&&(l=m.MathUtils.degToRad(r.OuterAngle.value),l=Math.max(l,1)),n=new m.SpotLight(a,o,s,u,l,1);break;default:console.warn("THREE.FBXLoader: Unknown light type "+r.LightType.value+", defaulting to a PointLight."),n=new m.PointLight(a,o)}void 0!==r.CastShadows&&1===r.CastShadows.value&&(n.castShadow=!0)}return n},createMesh:function(e,t,n){var r,i=null,a=null,o=[];return e.children.forEach((function(e){t.has(e.ID)&&(i=t.get(e.ID)),n.has(e.ID)&&o.push(n.get(e.ID))})),o.length>1?a=o:o.length>0?a=o[0]:(a=new m.MeshPhongMaterial({color:13421772}),o.push(a)),"color"in i.attributes&&o.forEach((function(e){e.vertexColors=!0})),i.FBX_Deformer?(o.forEach((function(e){e.skinning=!0})),(r=new m.SkinnedMesh(i,a)).normalizeSkinWeights()):r=new m.Mesh(i,a),r},createCurve:function(e,t){var n=e.children.reduce((function(e,n){return t.has(n.ID)&&(e=t.get(n.ID)),e}),null),r=new m.LineBasicMaterial({color:3342591,linewidth:1});return new m.Line(n,r)},getTransformData:function(e,t){var n={};"InheritType"in t&&(n.inheritType=parseInt(t.InheritType.value)),n.eulerOrder="RotationOrder"in t?b(t.RotationOrder.value):"ZYX","Lcl_Translation"in t&&(n.translation=t.Lcl_Translation.value),"PreRotation"in t&&(n.preRotation=t.PreRotation.value),"Lcl_Rotation"in t&&(n.rotation=t.Lcl_Rotation.value),"PostRotation"in t&&(n.postRotation=t.PostRotation.value),"Lcl_Scaling"in t&&(n.scale=t.Lcl_Scaling.value),"ScalingOffset"in t&&(n.scalingOffset=t.ScalingOffset.value),"ScalingPivot"in t&&(n.scalingPivot=t.ScalingPivot.value),"RotationOffset"in t&&(n.rotationOffset=t.RotationOffset.value),"RotationPivot"in t&&(n.rotationPivot=t.RotationPivot.value),e.userData.transformData=n},setLookAtProperties:function(r,i){"LookAtProperty"in i&&t.get(r.ID).children.forEach((function(t){if("LookAtProperty"===t.relationship){var i=e.Objects.Model[t.ID];if("Lcl_Translation"in i){var a=i.Lcl_Translation.value;void 0!==r.target?(r.target.position.fromArray(a),n.add(r.target)):r.lookAt((new m.Vector3).fromArray(a))}}}))},bindSkeleton:function(e,n,r){var i=this.parsePoseNodes();for(var a in e){var o=e[a];t.get(parseInt(o.ID)).parents.forEach((function(e){if(n.has(e.ID)){var a=e.ID;t.get(a).parents.forEach((function(e){r.has(e.ID)&&r.get(e.ID).bind(new m.Skeleton(o.bones),i[e.ID])}))}}))}},parsePoseNodes:function(){var t={};if("Pose"in e.Objects){var n=e.Objects.Pose;for(var r in n)if("BindPose"===n[r].attrType){var i=n[r].PoseNode;Array.isArray(i)?i.forEach((function(e){t[e.Node]=(new m.Matrix4).fromArray(e.Matrix.a)})):t[i.Node]=(new m.Matrix4).fromArray(i.Matrix.a)}}return t},createAmbientLight:function(){if("GlobalSettings"in e&&"AmbientColor"in e.GlobalSettings){var t=e.GlobalSettings.AmbientColor.value,r=t[0],i=t[1],a=t[2];if(0!==r||0!==i||0!==a){var o=new m.Color(r,i,a);n.add(new m.AmbientLight(o,1))}}},setupMorphMaterials:function(){var e=this;n.traverse((function(t){t.isMesh&&t.geometry.morphAttributes.position&&t.geometry.morphAttributes.position.length&&(Array.isArray(t.material)?t.material.forEach((function(n,r){e.setupMorphMaterial(t,n,r)})):e.setupMorphMaterial(t,t.material))}))},setupMorphMaterial:function(e,t,r){var i=e.uuid,a=t.uuid,o=!1;if(n.traverse((function(e){e.isMesh&&(Array.isArray(e.material)?e.material.forEach((function(t){t.uuid===a&&e.uuid!==i&&(o=!0)})):e.material.uuid===a&&e.uuid!==i&&(o=!0))})),!0===o){var s=t.clone();s.morphTargets=!0,void 0===r?e.material=s:e.material[r]=s}else t.morphTargets=!0}},a.prototype={constructor:a,parse:function(n){var r=new Map;if("Geometry"in e.Objects){var i=e.Objects.Geometry;for(var a in i){var o=t.get(parseInt(a)),s=this.parseGeometry(o,i[a],n);r.set(parseInt(a),s)}}return r},parseGeometry:function(e,t,n){switch(t.attrType){case"Mesh":return this.parseMeshGeometry(e,t,n);case"NurbsCurve":return this.parseNurbsGeometry(t)}},parseMeshGeometry:function(t,n,r){var i=r.skeletons,a=[],o=t.parents.map((function(t){return e.Objects.Model[t.ID]}));if(0!==o.length){var s=t.children.reduce((function(e,t){return void 0!==i[t.ID]&&(e=i[t.ID]),e}),null);t.children.forEach((function(e){void 0!==r.morphTargets[e.ID]&&a.push(r.morphTargets[e.ID])}));var u=o[0],l={};"RotationOrder"in u&&(l.eulerOrder=b(u.RotationOrder.value)),"InheritType"in u&&(l.inheritType=parseInt(u.InheritType.value)),"GeometricTranslation"in u&&(l.translation=u.GeometricTranslation.value),"GeometricRotation"in u&&(l.rotation=u.GeometricRotation.value),"GeometricScaling"in u&&(l.scale=u.GeometricScaling.value);var c=y(l);return this.genGeometry(n,s,a,c)}},genGeometry:function(e,t,n,r){var i=new m.BufferGeometry;e.attrName&&(i.name=e.attrName);var a=this.parseGeoNode(e,t),o=this.genBuffers(a),s=new m.Float32BufferAttribute(o.vertex,3);if(s.applyMatrix4(r),i.setAttribute("position",s),o.colors.length>0&&i.setAttribute("color",new m.Float32BufferAttribute(o.colors,3)),t&&(i.setAttribute("skinIndex",new m.Uint16BufferAttribute(o.weightsIndices,4)),i.setAttribute("skinWeight",new m.Float32BufferAttribute(o.vertexWeights,4)),i.FBX_Deformer=t),o.normal.length>0){var u=(new m.Matrix3).getNormalMatrix(r),l=new m.Float32BufferAttribute(o.normal,3);l.applyNormalMatrix(u),i.setAttribute("normal",l)}if(o.uvs.forEach((function(e,t){var n="uv"+(t+1).toString();0===t&&(n="uv"),i.setAttribute(n,new m.Float32BufferAttribute(o.uvs[t],2))})),a.material&&"AllSame"!==a.material.mappingType){var c=o.materialIndex[0],d=0;if(o.materialIndex.forEach((function(e,t){e!==c&&(i.addGroup(d,t-d,c),c=e,d=t)})),i.groups.length>0){var h=i.groups[i.groups.length-1],f=h.start+h.count;f!==o.materialIndex.length&&i.addGroup(f,o.materialIndex.length-f,c)}0===i.groups.length&&i.addGroup(0,o.materialIndex.length,o.materialIndex[0])}return this.addMorphTargets(i,e,n,r),i},parseGeoNode:function(e,t){var n={};if(n.vertexPositions=void 0!==e.Vertices?e.Vertices.a:[],n.vertexIndices=void 0!==e.PolygonVertexIndex?e.PolygonVertexIndex.a:[],e.LayerElementColor&&(n.color=this.parseVertexColors(e.LayerElementColor[0])),e.LayerElementMaterial&&(n.material=this.parseMaterialIndices(e.LayerElementMaterial[0])),e.LayerElementNormal&&(n.normal=this.parseNormals(e.LayerElementNormal[0])),e.LayerElementUV){n.uv=[];for(var r=0;e.LayerElementUV[r];)e.LayerElementUV[r].UV&&n.uv.push(this.parseUVs(e.LayerElementUV[r])),r++}return n.weightTable={},null!==t&&(n.skeleton=t,t.rawBones.forEach((function(e,t){e.indices.forEach((function(r,i){void 0===n.weightTable[r]&&(n.weightTable[r]=[]),n.weightTable[r].push({id:t,weight:e.weights[i]})}))}))),n},genBuffers:function(e){var t={vertex:[],normal:[],colors:[],uvs:[],materialIndex:[],vertexWeights:[],weightsIndices:[]},n=0,r=0,i=!1,a=[],o=[],s=[],u=[],l=[],c=[],d=this;return e.vertexIndices.forEach((function(h,f){var m=!1;h<0&&(h^=-1,m=!0);var v=[],g=[];if(a.push(3*h,3*h+1,3*h+2),e.color){var y=p(f,n,h,e.color);s.push(y[0],y[1],y[2])}if(e.skeleton){if(void 0!==e.weightTable[h]&&e.weightTable[h].forEach((function(e){g.push(e.weight),v.push(e.id)})),g.length>4){i||(console.warn("THREE.FBXLoader: Vertex has more than 4 skinning weights assigned to vertex. Deleting additional weights."),i=!0);var b=[0,0,0,0],_=[0,0,0,0];g.forEach((function(e,t){var n=e,r=v[t];_.forEach((function(e,t,i){if(n>e){i[t]=n,n=e;var a=b[t];b[t]=r,r=a}}))})),v=b,g=_}for(;g.length<4;)g.push(0),v.push(0);for(var x=0;x<4;++x)l.push(g[x]),c.push(v[x])}if(e.normal){y=p(f,n,h,e.normal);o.push(y[0],y[1],y[2])}if(e.material&&"AllSame"!==e.material.mappingType)var w=p(f,n,h,e.material)[0];e.uv&&e.uv.forEach((function(e,t){var r=p(f,n,h,e);void 0===u[t]&&(u[t]=[]),u[t].push(r[0]),u[t].push(r[1])})),r++,m&&(d.genFace(t,e,a,w,o,s,u,l,c,r),n++,r=0,a=[],o=[],s=[],u=[],l=[],c=[])})),t},genFace:function(e,t,n,r,i,a,o,s,u,l){for(var c=2;c<l;c++)e.vertex.push(t.vertexPositions[n[0]]),e.vertex.push(t.vertexPositions[n[1]]),e.vertex.push(t.vertexPositions[n[2]]),e.vertex.push(t.vertexPositions[n[3*(c-1)]]),e.vertex.push(t.vertexPositions[n[3*(c-1)+1]]),e.vertex.push(t.vertexPositions[n[3*(c-1)+2]]),e.vertex.push(t.vertexPositions[n[3*c]]),e.vertex.push(t.vertexPositions[n[3*c+1]]),e.vertex.push(t.vertexPositions[n[3*c+2]]),t.skeleton&&(e.vertexWeights.push(s[0]),e.vertexWeights.push(s[1]),e.vertexWeights.push(s[2]),e.vertexWeights.push(s[3]),e.vertexWeights.push(s[4*(c-1)]),e.vertexWeights.push(s[4*(c-1)+1]),e.vertexWeights.push(s[4*(c-1)+2]),e.vertexWeights.push(s[4*(c-1)+3]),e.vertexWeights.push(s[4*c]),e.vertexWeights.push(s[4*c+1]),e.vertexWeights.push(s[4*c+2]),e.vertexWeights.push(s[4*c+3]),e.weightsIndices.push(u[0]),e.weightsIndices.push(u[1]),e.weightsIndices.push(u[2]),e.weightsIndices.push(u[3]),e.weightsIndices.push(u[4*(c-1)]),e.weightsIndices.push(u[4*(c-1)+1]),e.weightsIndices.push(u[4*(c-1)+2]),e.weightsIndices.push(u[4*(c-1)+3]),e.weightsIndices.push(u[4*c]),e.weightsIndices.push(u[4*c+1]),e.weightsIndices.push(u[4*c+2]),e.weightsIndices.push(u[4*c+3])),t.color&&(e.colors.push(a[0]),e.colors.push(a[1]),e.colors.push(a[2]),e.colors.push(a[3*(c-1)]),e.colors.push(a[3*(c-1)+1]),e.colors.push(a[3*(c-1)+2]),e.colors.push(a[3*c]),e.colors.push(a[3*c+1]),e.colors.push(a[3*c+2])),t.material&&"AllSame"!==t.material.mappingType&&(e.materialIndex.push(r),e.materialIndex.push(r),e.materialIndex.push(r)),t.normal&&(e.normal.push(i[0]),e.normal.push(i[1]),e.normal.push(i[2]),e.normal.push(i[3*(c-1)]),e.normal.push(i[3*(c-1)+1]),e.normal.push(i[3*(c-1)+2]),e.normal.push(i[3*c]),e.normal.push(i[3*c+1]),e.normal.push(i[3*c+2])),t.uv&&t.uv.forEach((function(t,n){void 0===e.uvs[n]&&(e.uvs[n]=[]),e.uvs[n].push(o[n][0]),e.uvs[n].push(o[n][1]),e.uvs[n].push(o[n][2*(c-1)]),e.uvs[n].push(o[n][2*(c-1)+1]),e.uvs[n].push(o[n][2*c]),e.uvs[n].push(o[n][2*c+1])}))},addMorphTargets:function(t,n,r,i){if(0!==r.length){t.morphTargetsRelative=!0,t.morphAttributes.position=[];var a=this;r.forEach((function(r){r.rawTargets.forEach((function(r){var o=e.Objects.Geometry[r.geoID];void 0!==o&&a.genMorphGeometry(t,n,o,i,r.name)}))}))}},genMorphGeometry:function(e,t,n,r,i){for(var a=void 0!==t.PolygonVertexIndex?t.PolygonVertexIndex.a:[],o=void 0!==n.Vertices?n.Vertices.a:[],s=void 0!==n.Indexes?n.Indexes.a:[],u=3*e.attributes.position.count,l=new Float32Array(u),c=0;c<s.length;c++){var d=3*s[c];l[d]=o[3*c],l[d+1]=o[3*c+1],l[d+2]=o[3*c+2]}var h={vertexIndices:a,vertexPositions:l},f=this.genBuffers(h),p=new m.Float32BufferAttribute(f.vertex,3);p.name=i||n.attrName,p.applyMatrix4(r),e.morphAttributes.position.push(p)},parseNormals:function(e){var t=e.MappingInformationType,n=e.ReferenceInformationType,r=e.Normals.a,i=[];return"IndexToDirect"===n&&("NormalIndex"in e?i=e.NormalIndex.a:"NormalsIndex"in e&&(i=e.NormalsIndex.a)),{dataSize:3,buffer:r,indices:i,mappingType:t,referenceType:n}},parseUVs:function(e){var t=e.MappingInformationType,n=e.ReferenceInformationType,r=e.UV.a,i=[];return"IndexToDirect"===n&&(i=e.UVIndex.a),{dataSize:2,buffer:r,indices:i,mappingType:t,referenceType:n}},parseVertexColors:function(e){var t=e.MappingInformationType,n=e.ReferenceInformationType,r=e.Colors.a,i=[];return"IndexToDirect"===n&&(i=e.ColorIndex.a),{dataSize:4,buffer:r,indices:i,mappingType:t,referenceType:n}},parseMaterialIndices:function(e){var t=e.MappingInformationType,n=e.ReferenceInformationType;if("NoMappingInformation"===t)return{dataSize:1,buffer:[0],indices:[0],mappingType:"AllSame",referenceType:n};for(var r=e.Materials.a,i=[],a=0;a<r.length;++a)i.push(a);return{dataSize:1,buffer:r,indices:i,mappingType:t,referenceType:n}},parseNurbsGeometry:function(e){if(void 0===ve)return console.error("THREE.FBXLoader: The loader relies on NURBSCurve for any nurbs present in the model. Nurbs will show up as empty geometry."),new m.BufferGeometry;var t=parseInt(e.Order);if(isNaN(t))return console.error("THREE.FBXLoader: Invalid Order %s given for geometry ID: %s",e.Order,e.id),new m.BufferGeometry;for(var n,r,i=t-1,a=e.KnotVector.a,o=[],s=e.Points.a,u=0,l=s.length;u<l;u+=4)o.push((new m.Vector4).fromArray(s,u));if("Closed"===e.Form)o.push(o[0]);else if("Periodic"===e.Form){n=i,r=a.length-1-n;for(u=0;u<i;++u)o.push(o[u])}var c=new ve(i,a,o,n,r).getPoints(7*o.length),d=new Float32Array(3*c.length);c.forEach((function(e,t){e.toArray(d,3*t)}));var h=new m.BufferGeometry;return h.setAttribute("position",new m.BufferAttribute(d,3)),h}},o.prototype={constructor:o,parse:function(){var e=[],t=this.parseClips();if(void 0!==t)for(var n in t){var r=t[n],i=this.addClip(r);e.push(i)}return e},parseClips:function(){if(void 0!==e.Objects.AnimationCurve){var t=this.parseAnimationCurveNodes();this.parseAnimationCurves(t);var n=this.parseAnimationLayers(t);return this.parseAnimStacks(n)}},parseAnimationCurveNodes:function(){var t=e.Objects.AnimationCurveNode,n=new Map;for(var r in t){var i=t[r];if(null!==i.attrName.match(/S|R|T|DeformPercent/)){var a={id:i.id,attr:i.attrName,curves:{}};n.set(a.id,a)}}return n},parseAnimationCurves:function(n){var r=e.Objects.AnimationCurve;for(var i in r){var a={id:r[i].id,times:r[i].KeyTime.a.map(h),values:r[i].KeyValueFloat.a},o=t.get(a.id);if(void 0!==o){var s=o.parents[0].ID,u=o.parents[0].relationship;u.match(/X/)?n.get(s).curves.x=a:u.match(/Y/)?n.get(s).curves.y=a:u.match(/Z/)?n.get(s).curves.z=a:u.match(/d|DeformPercent/)&&n.has(s)&&(n.get(s).curves.morph=a)}}},parseAnimationLayers:function(r){var i=e.Objects.AnimationLayer,a=new Map;for(var o in i){var s=[],u=t.get(parseInt(o));if(void 0!==u)u.children.forEach((function(i,a){if(r.has(i.ID)){var o=r.get(i.ID);if(void 0!==o.curves.x||void 0!==o.curves.y||void 0!==o.curves.z){if(void 0===s[a])if(void 0!==(f=t.get(i.ID).parents.filter((function(e){return void 0!==e.relationship}))[0].ID)){if(void 0===(l=e.Objects.Model[f.toString()]))return void console.warn("THREE.FBXLoader: Encountered a unused curve.",i);var u={modelName:l.attrName?m.PropertyBinding.sanitizeNodeName(l.attrName):"",ID:l.id,initialPosition:[0,0,0],initialRotation:[0,0,0],initialScale:[1,1,1]};n.traverse((function(e){e.ID===l.id&&(u.transform=e.matrix,e.userData.transformData&&(u.eulerOrder=e.userData.transformData.eulerOrder))})),u.transform||(u.transform=new m.Matrix4),"PreRotation"in l&&(u.preRotation=l.PreRotation.value),"PostRotation"in l&&(u.postRotation=l.PostRotation.value),s[a]=u}s[a]&&(s[a][o.attr]=o)}else if(void 0!==o.curves.morph){if(void 0===s[a]){var l,c=t.get(i.ID).parents.filter((function(e){return void 0!==e.relationship}))[0].ID,d=t.get(c).parents[0].ID,h=t.get(d).parents[0].ID,f=t.get(h).parents[0].ID;u={modelName:(l=e.Objects.Model[f]).attrName?m.PropertyBinding.sanitizeNodeName(l.attrName):"",morphName:e.Objects.Deformer[c].attrName};s[a]=u}s[a][o.attr]=o}}})),a.set(parseInt(o),s)}return a},parseAnimStacks:function(n){var r=e.Objects.AnimationStack,i={};for(var a in r){var o=t.get(parseInt(a)).children;o.length>1&&console.warn("THREE.FBXLoader: Encountered an animation stack with multiple layers, this is currently not supported. Ignoring subsequent layers.");var s=n.get(o[0].ID);i[a]={name:r[a].attrName,layer:s}}return i},addClip:function(e){var t=[],n=this;return e.layer.forEach((function(e){t=t.concat(n.generateTracks(e))})),new m.AnimationClip(e.name,-1,t)},generateTracks:function(e){var t=[],n=new m.Vector3,r=new m.Quaternion,i=new m.Vector3;if(e.transform&&e.transform.decompose(n,r,i),n=n.toArray(),r=(new m.Euler).setFromQuaternion(r,e.eulerOrder).toArray(),i=i.toArray(),void 0!==e.T&&Object.keys(e.T.curves).length>0){var a=this.generateVectorTrack(e.modelName,e.T.curves,n,"position");void 0!==a&&t.push(a)}if(void 0!==e.R&&Object.keys(e.R.curves).length>0){var o=this.generateRotationTrack(e.modelName,e.R.curves,r,e.preRotation,e.postRotation,e.eulerOrder);void 0!==o&&t.push(o)}if(void 0!==e.S&&Object.keys(e.S.curves).length>0){var s=this.generateVectorTrack(e.modelName,e.S.curves,i,"scale");void 0!==s&&t.push(s)}if(void 0!==e.DeformPercent){var u=this.generateMorphTrack(e);void 0!==u&&t.push(u)}return t},generateVectorTrack:function(e,t,n,r){var i=this.getTimesForAllAxes(t),a=this.getKeyframeTrackValues(i,t,n);return new m.VectorKeyframeTrack(e+"."+r,i,a)},generateRotationTrack:function(e,t,n,r,i,a){void 0!==t.x&&(this.interpolateRotations(t.x),t.x.values=t.x.values.map(m.MathUtils.degToRad)),void 0!==t.y&&(this.interpolateRotations(t.y),t.y.values=t.y.values.map(m.MathUtils.degToRad)),void 0!==t.z&&(this.interpolateRotations(t.z),t.z.values=t.z.values.map(m.MathUtils.degToRad));var o=this.getTimesForAllAxes(t),s=this.getKeyframeTrackValues(o,t,n);void 0!==r&&((r=r.map(m.MathUtils.degToRad)).push(a),r=(new m.Euler).fromArray(r),r=(new m.Quaternion).setFromEuler(r)),void 0!==i&&((i=i.map(m.MathUtils.degToRad)).push(a),i=(new m.Euler).fromArray(i),i=(new m.Quaternion).setFromEuler(i).inverse());for(var u=new m.Quaternion,l=new m.Euler,c=[],d=0;d<s.length;d+=3)l.set(s[d],s[d+1],s[d+2],a),u.setFromEuler(l),void 0!==r&&u.premultiply(r),void 0!==i&&u.multiply(i),u.toArray(c,d/3*4);return new m.QuaternionKeyframeTrack(e+".quaternion",o,c)},generateMorphTrack:function(e){var t=e.DeformPercent.curves.morph,r=t.values.map((function(e){return e/100})),i=n.getObjectByName(e.modelName).morphTargetDictionary[e.morphName];return new m.NumberKeyframeTrack(e.modelName+".morphTargetInfluences["+i+"]",t.times,r)},getTimesForAllAxes:function(e){var t=[];return void 0!==e.x&&(t=t.concat(e.x.times)),void 0!==e.y&&(t=t.concat(e.y.times)),void 0!==e.z&&(t=t.concat(e.z.times)),t=t.sort((function(e,t){return e-t})).filter((function(e,t,n){return n.indexOf(e)==t}))},getKeyframeTrackValues:function(e,t,n){var r=n,i=[],a=-1,o=-1,s=-1;return e.forEach((function(e){if(t.x&&(a=t.x.times.indexOf(e)),t.y&&(o=t.y.times.indexOf(e)),t.z&&(s=t.z.times.indexOf(e)),-1!==a){var n=t.x.values[a];i.push(n),r[0]=n}else i.push(r[0]);if(-1!==o){var u=t.y.values[o];i.push(u),r[1]=u}else i.push(r[1]);if(-1!==s){var l=t.z.values[s];i.push(l),r[2]=l}else i.push(r[2])})),i},interpolateRotations:function(e){for(var t=1;t<e.values.length;t++){var n=e.values[t-1],r=e.values[t]-n,i=Math.abs(r);if(i>=180){for(var a=i/180,o=r/a,s=n+o,u=e.times[t-1],l=(e.times[t]-u)/a,c=u+l,d=[],h=[];c<e.times[t];)d.push(c),c+=l,h.push(s),s+=o;e.times=w(e.times,t,d),e.values=w(e.values,t,h)}}}},s.prototype={constructor:s,getPrevNode:function(){return this.nodeStack[this.currentIndent-2]},getCurrentNode:function(){return this.nodeStack[this.currentIndent-1]},getCurrentProp:function(){return this.currentProp},pushStack:function(e){this.nodeStack.push(e),this.currentIndent+=1},popStack:function(){this.nodeStack.pop(),this.currentIndent-=1},setCurrentProp:function(e,t){this.currentProp=e,this.currentPropName=t},parse:function(e){this.currentIndent=0,this.allNodes=new c,this.nodeStack=[],this.currentProp=[],this.currentPropName="";var t=this,n=e.split(/[\r\n]+/);return n.forEach((function(e,r){var i=e.match(/^[\s\t]*;/),a=e.match(/^[\s\t]*$/);if(!i&&!a){var o=e.match("^\\t{"+t.currentIndent+"}(\\w+):(.*){",""),s=e.match("^\\t{"+t.currentIndent+"}(\\w+):[\\s\\t\\r\\n](.*)"),u=e.match("^\\t{"+(t.currentIndent-1)+"}}");o?t.parseNodeBegin(e,o):s?t.parseNodeProperty(e,s,n[++r]):u?t.popStack():e.match(/^[^\s\t}]/)&&t.parseNodePropertyContinued(e)}})),this.allNodes},parseNodeBegin:function(e,t){var n=t[1].trim().replace(/^"/,"").replace(/"$/,""),r=t[2].split(",").map((function(e){return e.trim().replace(/^"/,"").replace(/"$/,"")})),i={name:n},a=this.parseNodeAttr(r),o=this.getCurrentNode();0===this.currentIndent?this.allNodes.add(n,i):n in o?("PoseNode"===n?o.PoseNode.push(i):void 0!==o[n].id&&(o[n]={},o[n][o[n].id]=o[n]),""!==a.id&&(o[n][a.id]=i)):"number"===typeof a.id?(o[n]={},o[n][a.id]=i):"Properties70"!==n&&(o[n]="PoseNode"===n?[i]:i),"number"===typeof a.id&&(i.id=a.id),""!==a.name&&(i.attrName=a.name),""!==a.type&&(i.attrType=a.type),this.pushStack(i)},parseNodeAttr:function(e){var t=e[0];""!==e[0]&&(t=parseInt(e[0]),isNaN(t)&&(t=e[0]));var n="",r="";return e.length>1&&(n=e[1].replace(/^(\w+)::/,""),r=e[2]),{id:t,name:n,type:r}},parseNodeProperty:function(e,t,n){var r=t[1].replace(/^"/,"").replace(/"$/,"").trim(),i=t[2].replace(/^"/,"").replace(/"$/,"").trim();"Content"===r&&","===i&&(i=n.replace(/"/g,"").replace(/,$/,"").trim());var a=this.getCurrentNode();if("Properties70"!==a.name){if("C"===r){var o=i.split(",").slice(1),s=parseInt(o[0]),u=parseInt(o[1]),l=i.split(",").slice(3);r="connections",function(e,t){for(var n=0,r=e.length,i=t.length;n<i;n++,r++)e[r]=t[n]}(i=[s,u],l=l.map((function(e){return e.trim().replace(/^"/,"")}))),void 0===a[r]&&(a[r]=[])}"Node"===r&&(a.id=i),r in a&&Array.isArray(a[r])?a[r].push(i):"a"!==r?a[r]=i:a.a=i,this.setCurrentProp(a,r),"a"===r&&","!==i.slice(-1)&&(a.a=_(i))}else this.parseNodeSpecialProperty(e,r,i)},parseNodePropertyContinued:function(e){var t=this.getCurrentNode();t.a+=e,","!==e.slice(-1)&&(t.a=_(t.a))},parseNodeSpecialProperty:function(e,t,n){var r=n.split('",').map((function(e){return e.trim().replace(/^\"/,"").replace(/\s/,"_")})),i=r[0],a=r[1],o=r[2],s=r[3],u=r[4];switch(a){case"int":case"enum":case"bool":case"ULongLong":case"double":case"Number":case"FieldOfView":u=parseFloat(u);break;case"Color":case"ColorRGB":case"Vector3D":case"Lcl_Translation":case"Lcl_Rotation":case"Lcl_Scaling":u=_(u)}this.getPrevNode()[i]={type:a,type2:o,flag:s,value:u},this.setCurrentProp(this.getPrevNode(),i)}},u.prototype={constructor:u,parse:function(e){var t=new l(e);t.skip(23);var n=t.getUint32();if(n<6400)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+n);for(var r=new c;!this.endOfContent(t);){var i=this.parseNode(t,n);null!==i&&r.add(i.name,i)}return r},endOfContent:function(e){return e.size()%16===0?(e.getOffset()+160+16&-16)>=e.size():e.getOffset()+160+16>=e.size()},parseNode:function(e,t){var n={},r=t>=7500?e.getUint64():e.getUint32(),i=t>=7500?e.getUint64():e.getUint32();t>=7500?e.getUint64():e.getUint32();var a=e.getUint8(),o=e.getString(a);if(0===r)return null;for(var s=[],u=0;u<i;u++)s.push(this.parseProperty(e));var l=s.length>0?s[0]:"",c=s.length>1?s[1]:"",d=s.length>2?s[2]:"";for(n.singleProperty=1===i&&e.getOffset()===r;r>e.getOffset();){var h=this.parseNode(e,t);null!==h&&this.parseSubNode(o,n,h)}return n.propertyList=s,"number"===typeof l&&(n.id=l),""!==c&&(n.attrName=c),""!==d&&(n.attrType=d),""!==o&&(n.name=o),n},parseSubNode:function(e,t,n){if(!0===n.singleProperty){var r=n.propertyList[0];Array.isArray(r)?(t[n.name]=n,n.a=r):t[n.name]=r}else if("Connections"===e&&"C"===n.name){var i=[];n.propertyList.forEach((function(e,t){0!==t&&i.push(e)})),void 0===t.connections&&(t.connections=[]),t.connections.push(i)}else if("Properties70"===n.name){Object.keys(n).forEach((function(e){t[e]=n[e]}))}else if("Properties70"===e&&"P"===n.name){var a,o=n.propertyList[0],s=n.propertyList[1],u=n.propertyList[2],l=n.propertyList[3];0===o.indexOf("Lcl ")&&(o=o.replace("Lcl ","Lcl_")),0===s.indexOf("Lcl ")&&(s=s.replace("Lcl ","Lcl_")),a="Color"===s||"ColorRGB"===s||"Vector"===s||"Vector3D"===s||0===s.indexOf("Lcl_")?[n.propertyList[4],n.propertyList[5],n.propertyList[6]]:n.propertyList[4],t[o]={type:s,type2:u,flag:l,value:a}}else void 0===t[n.name]?"number"===typeof n.id?(t[n.name]={},t[n.name][n.id]=n):t[n.name]=n:"PoseNode"===n.name?(Array.isArray(t[n.name])||(t[n.name]=[t[n.name]]),t[n.name].push(n)):void 0===t[n.name][n.id]&&(t[n.name][n.id]=n)},parseProperty:function(e){var t=e.getString(1);switch(t){case"C":return e.getBoolean();case"D":return e.getFloat64();case"F":return e.getFloat32();case"I":return e.getInt32();case"L":return e.getInt64();case"R":var n=e.getUint32();return e.getArrayBuffer(n);case"S":n=e.getUint32();return e.getString(n);case"Y":return e.getInt16();case"b":case"c":case"d":case"f":case"i":case"l":var r=e.getUint32(),i=e.getUint32(),a=e.getUint32();if(0===i)switch(t){case"b":case"c":return e.getBooleanArray(r);case"d":return e.getFloat64Array(r);case"f":return e.getFloat32Array(r);case"i":return e.getInt32Array(r);case"l":return e.getInt64Array(r)}"undefined"===typeof pe&&console.error("THREE.FBXLoader: External library Inflate.min.js required, obtain or import from https://github.com/imaya/zlib.js");var o=new l(new pe(new Uint8Array(e.getArrayBuffer(a))).decompress().buffer);switch(t){case"b":case"c":return o.getBooleanArray(r);case"d":return o.getFloat64Array(r);case"f":return o.getFloat32Array(r);case"i":return o.getInt32Array(r);case"l":return o.getInt64Array(r)}default:throw new Error("THREE.FBXLoader: Unknown property type "+t)}}},l.prototype={constructor:l,getOffset:function(){return this.offset},size:function(){return this.dv.buffer.byteLength},skip:function(e){this.offset+=e},getBoolean:function(){return 1===(1&this.getUint8())},getBooleanArray:function(e){for(var t=[],n=0;n<e;n++)t.push(this.getBoolean());return t},getUint8:function(){var e=this.dv.getUint8(this.offset);return this.offset+=1,e},getInt16:function(){var e=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,e},getInt32:function(){var e=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,e},getInt32Array:function(e){for(var t=[],n=0;n<e;n++)t.push(this.getInt32());return t},getUint32:function(){var e=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,e},getInt64:function(){var e,t;return this.littleEndian?(e=this.getUint32(),t=this.getUint32()):(t=this.getUint32(),e=this.getUint32()),2147483648&t?(t=4294967295&~t,4294967295===(e=4294967295&~e)&&(t=t+1&4294967295),-(4294967296*t+(e=e+1&4294967295))):4294967296*t+e},getInt64Array:function(e){for(var t=[],n=0;n<e;n++)t.push(this.getInt64());return t},getUint64:function(){var e,t;return this.littleEndian?(e=this.getUint32(),t=this.getUint32()):(t=this.getUint32(),e=this.getUint32()),4294967296*t+e},getFloat32:function(){var e=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e},getFloat32Array:function(e){for(var t=[],n=0;n<e;n++)t.push(this.getFloat32());return t},getFloat64:function(){var e=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e},getFloat64Array:function(e){for(var t=[],n=0;n<e;n++)t.push(this.getFloat64());return t},getArrayBuffer:function(e){var t=this.dv.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t},getString:function(e){for(var t=[],n=0;n<e;n++)t[n]=this.getUint8();var r=t.indexOf(0);return r>=0&&(t=t.slice(0,r)),m.LoaderUtils.decodeText(new Uint8Array(t))}},c.prototype={constructor:c,add:function(e,t){this[e]=t}};var f=[];function p(e,t,n,r){var i;switch(r.mappingType){case"ByPolygonVertex":i=e;break;case"ByPolygon":i=t;break;case"ByVertice":i=n;break;case"AllSame":i=r.indices[0];break;default:console.warn("THREE.FBXLoader: unknown attribute mapping type "+r.mappingType)}"IndexToDirect"===r.referenceType&&(i=r.indices[i]);var a=i*r.dataSize,o=a+r.dataSize;return function(e,t,n,r){for(var i=n,a=0;i<r;i++,a++)e[a]=t[i];return e}(f,r.buffer,a,o)}var v=new m.Euler,g=new m.Vector3;function y(e){var t,n=new m.Matrix4,r=new m.Matrix4,i=new m.Matrix4,a=new m.Matrix4,o=new m.Matrix4,s=new m.Matrix4,u=new m.Matrix4,l=new m.Matrix4,c=new m.Matrix4,d=new m.Matrix4,h=new m.Matrix4,f=e.inheritType?e.inheritType:0;(e.translation&&n.setPosition(g.fromArray(e.translation)),e.preRotation)&&((t=e.preRotation.map(m.MathUtils.degToRad)).push(e.eulerOrder),r.makeRotationFromEuler(v.fromArray(t)));e.rotation&&((t=e.rotation.map(m.MathUtils.degToRad)).push(e.eulerOrder),i.makeRotationFromEuler(v.fromArray(t)));e.postRotation&&((t=e.postRotation.map(m.MathUtils.degToRad)).push(e.eulerOrder),a.makeRotationFromEuler(v.fromArray(t)));e.scale&&o.scale(g.fromArray(e.scale)),e.scalingOffset&&u.setPosition(g.fromArray(e.scalingOffset)),e.scalingPivot&&s.setPosition(g.fromArray(e.scalingPivot)),e.rotationOffset&&l.setPosition(g.fromArray(e.rotationOffset)),e.rotationPivot&&c.setPosition(g.fromArray(e.rotationPivot)),e.parentMatrixWorld&&(d=e.parentMatrixWorld);var p=r.multiply(i).multiply(a),y=new m.Matrix4;d.extractRotation(y),(new m.Matrix4).copyPosition(d);var b=new m.Matrix4;b.getInverse(y).multiply(d);var _=new m.Matrix4;if(0===f)_.copy(y).multiply(p).multiply(b).multiply(o);else if(1===f)_.copy(y).multiply(b).multiply(p).multiply(o);else{var x=(new m.Matrix4).getInverse(o),w=(new m.Matrix4).multiply(b).multiply(x);_.copy(y).multiply(p).multiply(w).multiply(o)}var M=(new m.Matrix4).getInverse(c),E=(new m.Matrix4).getInverse(s),A=new m.Matrix4;A.copy(n).multiply(l).multiply(c).multiply(r).multiply(i).multiply(a).multiply(M).multiply(u).multiply(s).multiply(o).multiply(E);var S=(new m.Matrix4).copyPosition(A),T=(new m.Matrix4).copy(d).multiply(S);return h.copyPosition(T),A=(new m.Matrix4).multiply(h).multiply(_)}function b(e){var t=["ZYX","YZX","XZY","ZXY","YXZ","XYZ"];return 6===(e=e||0)?(console.warn("THREE.FBXLoader: unsupported Euler Order: Spherical XYZ. Animations and rotations may be incorrect."),t[0]):t[e]}function _(e){return e.split(",").map((function(e){return parseFloat(e)}))}function x(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=e.byteLength),m.LoaderUtils.decodeText(new Uint8Array(e,t,n))}function w(e,t,n){return e.slice(0,t).concat(n).concat(e.slice(t))}}();var ge=function(){function e(e){m.Loader.call(this,e),this.dracoLoader=null,this.ddsLoader=null,this.ktx2Loader=null,this.pluginCallbacks=[],this.register((function(e){return new o(e)})),this.register((function(e){return new u(e)})),this.register((function(e){return new s(e)}))}function t(){var e={};return{get:function(t){return e[t]},add:function(t,n){e[t]=n},remove:function(t){delete e[t]},removeAll:function(){e={}}}}e.prototype=Object.assign(Object.create(m.Loader.prototype),{constructor:e,load:function(e,t,n,r){var i,a=this;i=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:m.LoaderUtils.extractUrlBase(e),a.manager.itemStart(e);var o=function(t){r?r(t):console.error(t),a.manager.itemError(e),a.manager.itemEnd(e)},s=new m.FileLoader(a.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),"use-credentials"===a.crossOrigin&&s.setWithCredentials(!0),s.load(e,(function(n){try{a.parse(n,i,(function(n){t(n),a.manager.itemEnd(e)}),o)}catch(r){o(r)}}),n,o)},setDRACOLoader:function(e){return this.dracoLoader=e,this},setDDSLoader:function(e){return this.ddsLoader=e,this},setKTX2Loader:function(e){return this.ktx2Loader=e,this},register:function(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this},unregister:function(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this},parse:function(e,t,o,s){var u,c={},d={};if("string"===typeof e)u=e;else if(m.LoaderUtils.decodeText(new Uint8Array(e,0,4))===l){try{c[n.KHR_BINARY_GLTF]=new h(e)}catch(E){return void(s&&s(E))}u=c[n.KHR_BINARY_GLTF].content}else u=m.LoaderUtils.decodeText(new Uint8Array(e));var v=JSON.parse(u);if(void 0===v.asset||v.asset.version[0]<2)s&&s(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));else{var b=new V(v,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,manager:this.manager,ktx2Loader:this.ktx2Loader});b.fileLoader.setRequestHeader(this.requestHeader);for(var _=0;_<this.pluginCallbacks.length;_++){var x=this.pluginCallbacks[_](b);d[x.name]=x,c[x.name]=!0}if(v.extensionsUsed)for(_=0;_<v.extensionsUsed.length;++_){var w=v.extensionsUsed[_],M=v.extensionsRequired||[];switch(w){case n.KHR_LIGHTS_PUNCTUAL:c[w]=new i(v);break;case n.KHR_MATERIALS_UNLIT:c[w]=new a;break;case n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:c[w]=new g;break;case n.KHR_DRACO_MESH_COMPRESSION:c[w]=new f(v,this.dracoLoader);break;case n.MSFT_TEXTURE_DDS:c[w]=new r(this.ddsLoader);break;case n.KHR_TEXTURE_TRANSFORM:c[w]=new p;break;case n.KHR_MESH_QUANTIZATION:c[w]=new y;break;default:M.indexOf(w)>=0&&void 0===d[w]&&console.warn('THREE.GLTFLoader: Unknown extension "'+w+'".')}}b.setExtensions(c),b.setPlugins(d),b.parse(o,s)}}});var n={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",MSFT_TEXTURE_DDS:"MSFT_texture_dds"};function r(e){if(!e)throw new Error("THREE.GLTFLoader: Attempting to load .dds texture without importing DDSLoader");this.name=n.MSFT_TEXTURE_DDS,this.ddsLoader=e}function i(e){this.name=n.KHR_LIGHTS_PUNCTUAL;var t=e.extensions&&e.extensions[n.KHR_LIGHTS_PUNCTUAL]||{};this.lightDefs=t.lights||[]}function a(){this.name=n.KHR_MATERIALS_UNLIT}function o(e){this.parser=e,this.name=n.KHR_MATERIALS_CLEARCOAT}function s(e){this.parser=e,this.name=n.KHR_MATERIALS_TRANSMISSION}function u(e){this.parser=e,this.name=n.KHR_TEXTURE_BASISU}i.prototype.loadLight=function(e){var t,n=this.lightDefs[e],r=new m.Color(16777215);void 0!==n.color&&r.fromArray(n.color);var i=void 0!==n.range?n.range:0;switch(n.type){case"directional":(t=new m.DirectionalLight(r)).target.position.set(0,0,-1),t.add(t.target);break;case"point":(t=new m.PointLight(r)).distance=i;break;case"spot":(t=new m.SpotLight(r)).distance=i,n.spot=n.spot||{},n.spot.innerConeAngle=void 0!==n.spot.innerConeAngle?n.spot.innerConeAngle:0,n.spot.outerConeAngle=void 0!==n.spot.outerConeAngle?n.spot.outerConeAngle:Math.PI/4,t.angle=n.spot.outerConeAngle,t.penumbra=1-n.spot.innerConeAngle/n.spot.outerConeAngle,t.target.position.set(0,0,-1),t.add(t.target);break;default:throw new Error('THREE.GLTFLoader: Unexpected light type, "'+n.type+'".')}return t.position.set(0,0,0),t.decay=2,void 0!==n.intensity&&(t.intensity=n.intensity),t.name=n.name||"light_"+e,Promise.resolve(t)},a.prototype.getMaterialType=function(){return m.MeshBasicMaterial},a.prototype.extendParams=function(e,t,n){var r=[];e.color=new m.Color(1,1,1),e.opacity=1;var i=t.pbrMetallicRoughness;if(i){if(Array.isArray(i.baseColorFactor)){var a=i.baseColorFactor;e.color.fromArray(a),e.opacity=a[3]}void 0!==i.baseColorTexture&&r.push(n.assignTexture(e,"map",i.baseColorTexture))}return Promise.all(r)},o.prototype.getMaterialType=function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?m.MeshPhysicalMaterial:null},o.prototype.extendMaterialParams=function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],a=r.extensions[this.name];if(void 0!==a.clearcoatFactor&&(t.clearcoat=a.clearcoatFactor),void 0!==a.clearcoatTexture&&i.push(n.assignTexture(t,"clearcoatMap",a.clearcoatTexture)),void 0!==a.clearcoatRoughnessFactor&&(t.clearcoatRoughness=a.clearcoatRoughnessFactor),void 0!==a.clearcoatRoughnessTexture&&i.push(n.assignTexture(t,"clearcoatRoughnessMap",a.clearcoatRoughnessTexture)),void 0!==a.clearcoatNormalTexture&&(i.push(n.assignTexture(t,"clearcoatNormalMap",a.clearcoatNormalTexture)),void 0!==a.clearcoatNormalTexture.scale)){var o=a.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new m.Vector2(o,o)}return Promise.all(i)},s.prototype.getMaterialType=function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?m.MeshPhysicalMaterial:null},s.prototype.extendMaterialParams=function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],a=r.extensions[this.name];return void 0!==a.transmissionFactor&&(t.transmission=a.transmissionFactor),void 0!==a.transmissionTexture&&i.push(n.assignTexture(t,"transmissionMap",a.transmissionTexture)),Promise.all(i)},u.prototype.loadTexture=function(e){var t=this.parser,n=t.json,r=n.textures[e];if(!r.extensions||!r.extensions[this.name])return null;var i=r.extensions[this.name],a=n.images[i.source],o=t.options.ktx2Loader;if(!o)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return t.loadTextureImage(e,a,o)};var l="glTF",c=1313821514,d=5130562;function h(e){this.name=n.KHR_BINARY_GLTF,this.content=null,this.body=null;var t=new DataView(e,0,12);if(this.header={magic:m.LoaderUtils.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==l)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");for(var r=new DataView(e,12),i=0;i<r.byteLength;){var a=r.getUint32(i,!0);i+=4;var o=r.getUint32(i,!0);if(i+=4,o===c){var s=new Uint8Array(e,12+i,a);this.content=m.LoaderUtils.decodeText(s)}else if(o===d){var u=12+i;this.body=e.slice(u,u+a)}i+=a}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}function f(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=n.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}function p(){this.name=n.KHR_TEXTURE_TRANSFORM}function v(e){m.MeshStandardMaterial.call(this),this.isGLTFSpecularGlossinessMaterial=!0;var t=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),n=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),r=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\ttexelSpecular = sRGBToLinear( texelSpecular );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),i=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),a=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb;","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.specularRoughness = max( 1.0 - glossinessFactor, 0.0525 );// 0.0525 corresponds to the base mip of a 256 cubemap.","material.specularRoughness += geometryRoughness;","material.specularRoughness = min( material.specularRoughness, 1.0 );","material.specularColor = specularFactor.rgb;"].join("\n"),o={specular:{value:(new m.Color).setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=o,this.onBeforeCompile=function(e){for(var s in o)e.uniforms[s]=o[s];e.fragmentShader=e.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;"),e.fragmentShader=e.fragmentShader.replace("uniform float metalness;","uniform float glossiness;"),e.fragmentShader=e.fragmentShader.replace("#include <roughnessmap_pars_fragment>",t),e.fragmentShader=e.fragmentShader.replace("#include <metalnessmap_pars_fragment>",n),e.fragmentShader=e.fragmentShader.replace("#include <roughnessmap_fragment>",r),e.fragmentShader=e.fragmentShader.replace("#include <metalnessmap_fragment>",i),e.fragmentShader=e.fragmentShader.replace("#include <lights_physical_fragment>",a)},Object.defineProperties(this,{specular:{get:function(){return o.specular.value},set:function(e){o.specular.value=e}},specularMap:{get:function(){return o.specularMap.value},set:function(e){o.specularMap.value=e}},glossiness:{get:function(){return o.glossiness.value},set:function(e){o.glossiness.value=e}},glossinessMap:{get:function(){return o.glossinessMap.value},set:function(e){o.glossinessMap.value=e,e?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_ROUGHNESSMAP=""):(delete this.defines.USE_ROUGHNESSMAP,delete this.defines.USE_GLOSSINESSMAP)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(e)}function g(){return{name:n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,specularGlossinessParams:["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"],getMaterialType:function(){return v},extendParams:function(e,t,n){var r=t.extensions[this.name];e.color=new m.Color(1,1,1),e.opacity=1;var i=[];if(Array.isArray(r.diffuseFactor)){var a=r.diffuseFactor;e.color.fromArray(a),e.opacity=a[3]}if(void 0!==r.diffuseTexture&&i.push(n.assignTexture(e,"map",r.diffuseTexture)),e.emissive=new m.Color(0,0,0),e.glossiness=void 0!==r.glossinessFactor?r.glossinessFactor:1,e.specular=new m.Color(1,1,1),Array.isArray(r.specularFactor)&&e.specular.fromArray(r.specularFactor),void 0!==r.specularGlossinessTexture){var o=r.specularGlossinessTexture;i.push(n.assignTexture(e,"glossinessMap",o)),i.push(n.assignTexture(e,"specularMap",o))}return Promise.all(i)},createMaterial:function(e){var t=new v(e);return t.fog=!0,t.color=e.color,t.map=void 0===e.map?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=void 0===e.aoMap?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=1,t.emissiveMap=void 0===e.emissiveMap?null:e.emissiveMap,t.bumpMap=void 0===e.bumpMap?null:e.bumpMap,t.bumpScale=1,t.normalMap=void 0===e.normalMap?null:e.normalMap,t.normalMapType=m.TangentSpaceNormalMap,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=void 0===e.specularMap?null:e.specularMap,t.specular=e.specular,t.glossinessMap=void 0===e.glossinessMap?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=void 0===e.envMap?null:e.envMap,t.envMapIntensity=1,t.refractionRatio=.98,t}}}function y(){this.name=n.KHR_MESH_QUANTIZATION}function b(e,t,n,r){m.Interpolant.call(this,e,t,n,r)}f.prototype.decodePrimitive=function(e,t){var n=this.json,r=this.dracoLoader,i=e.extensions[this.name].bufferView,a=e.extensions[this.name].attributes,o={},s={},u={};for(var l in a){var c=I[l]||l.toLowerCase();o[c]=a[l]}for(l in e.attributes){c=I[l]||l.toLowerCase();if(void 0!==a[l]){var d=n.accessors[e.attributes[l]],h=T[d.componentType];u[c]=h,s[c]=!0===d.normalized}}return t.getDependency("bufferView",i).then((function(e){return new Promise((function(t){r.decodeDracoFile(e,(function(e){for(var n in e.attributes){var r=e.attributes[n],i=s[n];void 0!==i&&(r.normalized=i)}t(e)}),o,u)}))}))},p.prototype.extendTexture=function(e,t){return e=e.clone(),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),void 0!==t.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),e.needsUpdate=!0,e},v.prototype=Object.create(m.MeshStandardMaterial.prototype),v.prototype.constructor=v,v.prototype.copy=function(e){return m.MeshStandardMaterial.prototype.copy.call(this,e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this},b.prototype=Object.create(m.Interpolant.prototype),b.prototype.constructor=b,b.prototype.copySampleValue_=function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r*3+r,a=0;a!==r;a++)t[a]=n[i+a];return t},b.prototype.beforeStart_=b.prototype.copySampleValue_,b.prototype.afterEnd_=b.prototype.copySampleValue_,b.prototype.interpolate_=function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=2*o,u=3*o,l=r-t,c=(n-t)/l,d=c*c,h=d*c,f=e*u,p=f-u,m=-2*h+3*d,v=h-d,g=1-m,y=v-d+c,b=0;b!==o;b++){var _=a[p+b+o],x=a[p+b+s]*l,w=a[f+b+o],M=a[f+b]*l;i[b]=g*_+y*x+m*w+v*M}return i};var _=0,x=1,w=2,M=3,E=4,A=5,S=6,T={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},C={9728:m.NearestFilter,9729:m.LinearFilter,9984:m.NearestMipmapNearestFilter,9985:m.LinearMipmapNearestFilter,9986:m.NearestMipmapLinearFilter,9987:m.LinearMipmapLinearFilter},D={33071:m.ClampToEdgeWrapping,33648:m.MirroredRepeatWrapping,10497:m.RepeatWrapping},R={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},I={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},k={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},O={CUBICSPLINE:void 0,LINEAR:m.InterpolateLinear,STEP:m.InterpolateDiscrete},L="OPAQUE",P="MASK",B="BLEND";function F(e,t){return"string"!==typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}function N(e,t,n){for(var r in n.extensions)void 0===e[r]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[r]=n.extensions[r])}function G(e,t){void 0!==t.extras&&("object"===typeof t.extras?Object.assign(e.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function j(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(var n=0,r=t.weights.length;n<r;n++)e.morphTargetInfluences[n]=t.weights[n];if(t.extras&&Array.isArray(t.extras.targetNames)){var i=t.extras.targetNames;if(e.morphTargetInfluences.length===i.length){e.morphTargetDictionary={};for(n=0,r=i.length;n<r;n++)e.morphTargetDictionary[i[n]]=n}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function U(e){var t=e.extensions&&e.extensions[n.KHR_DRACO_MESH_COMPRESSION];return t?"draco:"+t.bufferView+":"+t.indices+":"+z(t.attributes):e.indices+":"+z(e.attributes)+":"+e.mode}function z(e){for(var t="",n=Object.keys(e).sort(),r=0,i=n.length;r<i;r++)t+=n[r]+":"+e[n[r]]+";";return t}function V(e,n){this.json=e||{},this.extensions={},this.plugins={},this.options=n||{},this.cache=new t,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},"undefined"!==typeof createImageBitmap&&!1===/Firefox/.test(navigator.userAgent)?this.textureLoader=new m.ImageBitmapLoader(this.options.manager):this.textureLoader=new m.TextureLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.fileLoader=new m.FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}function H(e,t,n){var r=t.attributes,i=[];function a(t,r){return n.getDependency("accessor",t).then((function(t){e.setAttribute(r,t)}))}for(var o in r){var s=I[o]||o.toLowerCase();s in e.attributes||i.push(a(r[o],s))}if(void 0!==t.indices&&!e.index){var u=n.getDependency("accessor",t.indices).then((function(t){e.setIndex(t)}));i.push(u)}return G(e,t),function(e,t,n){var r=t.attributes,i=new m.Box3;if(void 0!==r.POSITION){var a=(f=n.json.accessors[r.POSITION]).min,o=f.max;if(void 0!==a&&void 0!==o){i.set(new m.Vector3(a[0],a[1],a[2]),new m.Vector3(o[0],o[1],o[2]));var s=t.targets;if(void 0!==s){for(var u=new m.Vector3,l=new m.Vector3,c=0,d=s.length;c<d;c++){var h=s[c];if(void 0!==h.POSITION){var f;a=(f=n.json.accessors[h.POSITION]).min,o=f.max;void 0!==a&&void 0!==o?(l.setX(Math.max(Math.abs(a[0]),Math.abs(o[0]))),l.setY(Math.max(Math.abs(a[1]),Math.abs(o[1]))),l.setZ(Math.max(Math.abs(a[2]),Math.abs(o[2]))),u.max(l)):console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(u)}e.boundingBox=i;var p=new m.Sphere;i.getCenter(p.center),p.radius=i.min.distanceTo(i.max)/2,e.boundingSphere=p}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}(e,t,n),Promise.all(i).then((function(){return void 0!==t.targets?function(e,t,n){for(var r=!1,i=!1,a=0,o=t.length;a<o;a++){if(void 0!==(l=t[a]).POSITION&&(r=!0),void 0!==l.NORMAL&&(i=!0),r&&i)break}if(!r&&!i)return Promise.resolve(e);var s=[],u=[];for(a=0,o=t.length;a<o;a++){var l=t[a];if(r){var c=void 0!==l.POSITION?n.getDependency("accessor",l.POSITION):e.attributes.position;s.push(c)}if(i){c=void 0!==l.NORMAL?n.getDependency("accessor",l.NORMAL):e.attributes.normal;u.push(c)}}return Promise.all([Promise.all(s),Promise.all(u)]).then((function(t){var n=t[0],a=t[1];return r&&(e.morphAttributes.position=n),i&&(e.morphAttributes.normal=a),e.morphTargetsRelative=!0,e}))}(e,t.targets,n):e}))}function W(e,t){var n=e.getIndex();if(null===n){var r=[],i=e.getAttribute("position");if(void 0===i)return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(var a=0;a<i.count;a++)r.push(a);e.setIndex(r),n=e.getIndex()}var o=n.count-2,s=[];if(t===m.TriangleFanDrawMode)for(a=1;a<=o;a++)s.push(n.getX(0)),s.push(n.getX(a)),s.push(n.getX(a+1));else for(a=0;a<o;a++)a%2===0?(s.push(n.getX(a)),s.push(n.getX(a+1)),s.push(n.getX(a+2))):(s.push(n.getX(a+2)),s.push(n.getX(a+1)),s.push(n.getX(a)));s.length/3!==o&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");var u=e.clone();return u.setIndex(s),u}return V.prototype.setExtensions=function(e){this.extensions=e},V.prototype.setPlugins=function(e){this.plugins=e},V.prototype.parse=function(e,t){var n=this,r=this.json,i=this.extensions;this.cache.removeAll(),this._markDefs(),Promise.all([this.getDependencies("scene"),this.getDependencies("animation"),this.getDependencies("camera")]).then((function(t){var a={scene:t[0][r.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:r.asset,parser:n,userData:{}};N(i,a,r),G(a,r),e(a)})).catch(t)},V.prototype._markDefs=function(){for(var e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[],i=0,a=t.length;i<a;i++)for(var o=t[i].joints,s=0,u=o.length;s<u;s++)e[o[s]].isBone=!0;for(var l=0,c=e.length;l<c;l++){var d=e[l];void 0!==d.mesh&&(this._addNodeRef(this.meshCache,d.mesh),void 0!==d.skin&&(r[d.mesh].isSkinnedMesh=!0)),void 0!==d.camera&&this._addNodeRef(this.cameraCache,d.camera),d.extensions&&d.extensions[n.KHR_LIGHTS_PUNCTUAL]&&void 0!==d.extensions[n.KHR_LIGHTS_PUNCTUAL].light&&this._addNodeRef(this.lightCache,d.extensions[n.KHR_LIGHTS_PUNCTUAL].light)}},V.prototype._addNodeRef=function(e,t){void 0!==t&&(void 0===e.refs[t]&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)},V.prototype._getNodeRef=function(e,t,n){if(e.refs[t]<=1)return n;var r=n.clone();return r.name+="_instance_"+e.uses[t]++,r},V.prototype._invokeOne=function(e){var t=Object.values(this.plugins);t.push(this);for(var n=0;n<t.length;n++){var r=e(t[n]);if(r)return r}},V.prototype._invokeAll=function(e){var t=Object.values(this.plugins);t.unshift(this);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r]));return Promise.all(n)},V.prototype.getDependency=function(e,t){var r=e+":"+t,i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(t);break;case"node":i=this.loadNode(t);break;case"mesh":i=this._invokeOne((function(e){return e.loadMesh&&e.loadMesh(t)}));break;case"accessor":i=this.loadAccessor(t);break;case"bufferView":i=this._invokeOne((function(e){return e.loadBufferView&&e.loadBufferView(t)}));break;case"buffer":i=this.loadBuffer(t);break;case"material":i=this._invokeOne((function(e){return e.loadMaterial&&e.loadMaterial(t)}));break;case"texture":i=this._invokeOne((function(e){return e.loadTexture&&e.loadTexture(t)}));break;case"skin":i=this.loadSkin(t);break;case"animation":i=this.loadAnimation(t);break;case"camera":i=this.loadCamera(t);break;case"light":i=this.extensions[n.KHR_LIGHTS_PUNCTUAL].loadLight(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(r,i)}return i},V.prototype.getDependencies=function(e){var t=this.cache.get(e);if(!t){var n=this,r=this.json[e+("mesh"===e?"es":"s")]||[];t=Promise.all(r.map((function(t,r){return n.getDependency(e,r)}))),this.cache.add(e,t)}return t},V.prototype.loadBuffer=function(e){var t=this.json.buffers[e],r=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[n.KHR_BINARY_GLTF].body);var i=this.options;return new Promise((function(e,n){r.load(F(t.uri,i.path),e,void 0,(function(){n(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))}))}))},V.prototype.loadBufferView=function(e){var t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then((function(e){var n=t.byteLength||0,r=t.byteOffset||0;return e.slice(r,r+n)}))},V.prototype.loadAccessor=function(e){var t=this,n=this.json,r=this.json.accessors[e];if(void 0===r.bufferView&&void 0===r.sparse)return Promise.resolve(null);var i=[];return void 0!==r.bufferView?i.push(this.getDependency("bufferView",r.bufferView)):i.push(null),void 0!==r.sparse&&(i.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),i.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(i).then((function(e){var i,a,o=e[0],s=R[r.type],u=T[r.componentType],l=u.BYTES_PER_ELEMENT,c=l*s,d=r.byteOffset||0,h=void 0!==r.bufferView?n.bufferViews[r.bufferView].byteStride:void 0,f=!0===r.normalized;if(h&&h!==c){var p=Math.floor(d/h),v="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+p+":"+r.count,g=t.cache.get(v);g||(i=new u(o,p*h,r.count*h/l),g=new m.InterleavedBuffer(i,h/l),t.cache.add(v,g)),a=new m.InterleavedBufferAttribute(g,s,d%h/l,f)}else i=null===o?new u(r.count*s):new u(o,d,r.count*s),a=new m.BufferAttribute(i,s,f);if(void 0!==r.sparse){var y=R.SCALAR,b=T[r.sparse.indices.componentType],_=r.sparse.indices.byteOffset||0,x=r.sparse.values.byteOffset||0,w=new b(e[1],_,r.sparse.count*y),M=new u(e[2],x,r.sparse.count*s);null!==o&&(a=new m.BufferAttribute(a.array.slice(),a.itemSize,a.normalized));for(var E=0,A=w.length;E<A;E++){var S=w[E];if(a.setX(S,M[E*s]),s>=2&&a.setY(S,M[E*s+1]),s>=3&&a.setZ(S,M[E*s+2]),s>=4&&a.setW(S,M[E*s+3]),s>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return a}))},V.prototype.loadTexture=function(e){var t,r,i=this.json,a=this.options,o=i.textures[e],s=o.extensions||{};return(t=s[n.MSFT_TEXTURE_DDS]?i.images[s[n.MSFT_TEXTURE_DDS].source]:i.images[o.source]).uri&&(r=a.manager.getHandler(t.uri)),r||(r=s[n.MSFT_TEXTURE_DDS]?this.extensions[n.MSFT_TEXTURE_DDS].ddsLoader:this.textureLoader),this.loadTextureImage(e,t,r)},V.prototype.loadTextureImage=function(e,t,n){var r=this,i=this.json,a=this.options,o=i.textures[e],s=self.URL||self.webkitURL,u=t.uri,l=!1,c=!0;return"image/jpeg"===t.mimeType&&(c=!1),void 0!==t.bufferView&&(u=r.getDependency("bufferView",t.bufferView).then((function(e){"image/png"===t.mimeType&&(c=6===new DataView(e,25,1).getUint8(0,!1)),l=!0;var n=new Blob([e],{type:t.mimeType});return u=s.createObjectURL(n)}))),Promise.resolve(u).then((function(e){return new Promise((function(t,r){var i=t;!0===n.isImageBitmapLoader&&(i=function(e){t(new m.CanvasTexture(e))}),n.load(F(e,a.path),i,void 0,r)}))})).then((function(t){!0===l&&s.revokeObjectURL(u),t.flipY=!1,o.name&&(t.name=o.name),c||(t.format=m.RGBFormat);var n=(i.samplers||{})[o.sampler]||{};return t.magFilter=C[n.magFilter]||m.LinearFilter,t.minFilter=C[n.minFilter]||m.LinearMipmapLinearFilter,t.wrapS=D[n.wrapS]||m.RepeatWrapping,t.wrapT=D[n.wrapT]||m.RepeatWrapping,r.associations.set(t,{type:"textures",index:e}),t}))},V.prototype.assignTexture=function(e,t,r){var i=this;return this.getDependency("texture",r.index).then((function(a){if(void 0===r.texCoord||0==r.texCoord||"aoMap"===t&&1==r.texCoord||console.warn("THREE.GLTFLoader: Custom UV set "+r.texCoord+" for texture "+t+" not yet supported."),i.extensions[n.KHR_TEXTURE_TRANSFORM]){var o=void 0!==r.extensions?r.extensions[n.KHR_TEXTURE_TRANSFORM]:void 0;if(o){var s=i.associations.get(a);a=i.extensions[n.KHR_TEXTURE_TRANSFORM].extendTexture(a,o),i.associations.set(a,s)}}e[t]=a}))},V.prototype.assignFinalMaterial=function(e){var t=e.geometry,n=e.material,r=void 0!==t.attributes.tangent,i=void 0!==t.attributes.color,a=void 0===t.attributes.normal,o=!0===e.isSkinnedMesh,s=Object.keys(t.morphAttributes).length>0,u=s&&void 0!==t.morphAttributes.normal;if(e.isPoints){var l="PointsMaterial:"+n.uuid,c=this.cache.get(l);c||(c=new m.PointsMaterial,m.Material.prototype.copy.call(c,n),c.color.copy(n.color),c.map=n.map,c.sizeAttenuation=!1,this.cache.add(l,c)),n=c}else if(e.isLine){l="LineBasicMaterial:"+n.uuid;var d=this.cache.get(l);d||(d=new m.LineBasicMaterial,m.Material.prototype.copy.call(d,n),d.color.copy(n.color),this.cache.add(l,d)),n=d}if(r||i||a||o||s){l="ClonedMaterial:"+n.uuid+":";n.isGLTFSpecularGlossinessMaterial&&(l+="specular-glossiness:"),o&&(l+="skinning:"),r&&(l+="vertex-tangents:"),i&&(l+="vertex-colors:"),a&&(l+="flat-shading:"),s&&(l+="morph-targets:"),u&&(l+="morph-normals:");var h=this.cache.get(l);h||(h=n.clone(),o&&(h.skinning=!0),r&&(h.vertexTangents=!0),i&&(h.vertexColors=!0),a&&(h.flatShading=!0),s&&(h.morphTargets=!0),u&&(h.morphNormals=!0),this.cache.add(l,h),this.associations.set(h,this.associations.get(n))),n=h}n.aoMap&&void 0===t.attributes.uv2&&void 0!==t.attributes.uv&&t.setAttribute("uv2",t.attributes.uv),n.normalScale&&!r&&(n.normalScale.y=-n.normalScale.y),n.clearcoatNormalScale&&!r&&(n.clearcoatNormalScale.y=-n.clearcoatNormalScale.y),e.material=n},V.prototype.getMaterialType=function(){return m.MeshStandardMaterial},V.prototype.loadMaterial=function(e){var t,r=this,i=this.json,a=this.extensions,o=i.materials[e],s={},u=o.extensions||{},l=[];if(u[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){var c=a[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];t=c.getMaterialType(),l.push(c.extendParams(s,o,r))}else if(u[n.KHR_MATERIALS_UNLIT]){var d=a[n.KHR_MATERIALS_UNLIT];t=d.getMaterialType(),l.push(d.extendParams(s,o,r))}else{var h=o.pbrMetallicRoughness||{};if(s.color=new m.Color(1,1,1),s.opacity=1,Array.isArray(h.baseColorFactor)){var f=h.baseColorFactor;s.color.fromArray(f),s.opacity=f[3]}void 0!==h.baseColorTexture&&l.push(r.assignTexture(s,"map",h.baseColorTexture)),s.metalness=void 0!==h.metallicFactor?h.metallicFactor:1,s.roughness=void 0!==h.roughnessFactor?h.roughnessFactor:1,void 0!==h.metallicRoughnessTexture&&(l.push(r.assignTexture(s,"metalnessMap",h.metallicRoughnessTexture)),l.push(r.assignTexture(s,"roughnessMap",h.metallicRoughnessTexture))),t=this._invokeOne((function(t){return t.getMaterialType&&t.getMaterialType(e)})),l.push(this._invokeAll((function(t){return t.extendMaterialParams&&t.extendMaterialParams(e,s)})))}!0===o.doubleSided&&(s.side=m.DoubleSide);var p=o.alphaMode||L;return p===B?(s.transparent=!0,s.depthWrite=!1):(s.transparent=!1,p===P&&(s.alphaTest=void 0!==o.alphaCutoff?o.alphaCutoff:.5)),void 0!==o.normalTexture&&t!==m.MeshBasicMaterial&&(l.push(r.assignTexture(s,"normalMap",o.normalTexture)),s.normalScale=new m.Vector2(1,1),void 0!==o.normalTexture.scale&&s.normalScale.set(o.normalTexture.scale,o.normalTexture.scale)),void 0!==o.occlusionTexture&&t!==m.MeshBasicMaterial&&(l.push(r.assignTexture(s,"aoMap",o.occlusionTexture)),void 0!==o.occlusionTexture.strength&&(s.aoMapIntensity=o.occlusionTexture.strength)),void 0!==o.emissiveFactor&&t!==m.MeshBasicMaterial&&(s.emissive=(new m.Color).fromArray(o.emissiveFactor)),void 0!==o.emissiveTexture&&t!==m.MeshBasicMaterial&&l.push(r.assignTexture(s,"emissiveMap",o.emissiveTexture)),Promise.all(l).then((function(){var i;return i=t===v?a[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(s):new t(s),o.name&&(i.name=o.name),i.map&&(i.map.encoding=m.sRGBEncoding),i.emissiveMap&&(i.emissiveMap.encoding=m.sRGBEncoding),G(i,o),r.associations.set(i,{type:"materials",index:e}),o.extensions&&N(a,i,o),i}))},V.prototype.loadGeometries=function(e){var t=this,r=this.extensions,i=this.primitiveCache;function a(e){return r[n.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then((function(n){return H(n,e,t)}))}for(var o=[],s=0,u=e.length;s<u;s++){var l,c=e[s],d=U(c),h=i[d];if(h)o.push(h.promise);else l=c.extensions&&c.extensions[n.KHR_DRACO_MESH_COMPRESSION]?a(c):H(new m.BufferGeometry,c,t),i[d]={primitive:c,promise:l},o.push(l)}return Promise.all(o)},V.prototype.loadMesh=function(e){for(var t,n=this,r=this.json.meshes[e],i=r.primitives,a=[],o=0,s=i.length;o<s;o++){var u=void 0===i[o].material?(void 0===(t=this.cache).DefaultMaterial&&(t.DefaultMaterial=new m.MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:m.FrontSide})),t.DefaultMaterial):this.getDependency("material",i[o].material);a.push(u)}return a.push(n.loadGeometries(i)),Promise.all(a).then((function(t){for(var a=t.slice(0,t.length-1),o=t[t.length-1],s=[],u=0,l=o.length;u<l;u++){var c,d=o[u],h=i[u],f=a[u];if(h.mode===E||h.mode===A||h.mode===S||void 0===h.mode)!0!==(c=!0===r.isSkinnedMesh?new m.SkinnedMesh(d,f):new m.Mesh(d,f)).isSkinnedMesh||c.geometry.attributes.skinWeight.normalized||c.normalizeSkinWeights(),h.mode===A?c.geometry=W(c.geometry,m.TriangleStripDrawMode):h.mode===S&&(c.geometry=W(c.geometry,m.TriangleFanDrawMode));else if(h.mode===x)c=new m.LineSegments(d,f);else if(h.mode===M)c=new m.Line(d,f);else if(h.mode===w)c=new m.LineLoop(d,f);else{if(h.mode!==_)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+h.mode);c=new m.Points(d,f)}Object.keys(c.geometry.morphAttributes).length>0&&j(c,r),c.name=r.name||"mesh_"+e,o.length>1&&(c.name+="_"+u),G(c,r),n.assignFinalMaterial(c),s.push(c)}if(1===s.length)return s[0];var p=new m.Group;for(u=0,l=s.length;u<l;u++)p.add(s[u]);return p}))},V.prototype.loadCamera=function(e){var t,n=this.json.cameras[e],r=n[n.type];if(r)return"perspective"===n.type?t=new m.PerspectiveCamera(m.MathUtils.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):"orthographic"===n.type&&(t=new m.OrthographicCamera(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),n.name&&(t.name=n.name),G(t,n),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")},V.prototype.loadSkin=function(e){var t=this.json.skins[e],n={joints:t.joints};return void 0===t.inverseBindMatrices?Promise.resolve(n):this.getDependency("accessor",t.inverseBindMatrices).then((function(e){return n.inverseBindMatrices=e,n}))},V.prototype.loadAnimation=function(e){for(var t=this.json.animations[e],n=[],r=[],i=[],a=[],o=[],s=0,u=t.channels.length;s<u;s++){var l=t.channels[s],c=t.samplers[l.sampler],d=l.target,h=void 0!==d.node?d.node:d.id,f=void 0!==t.parameters?t.parameters[c.input]:c.input,p=void 0!==t.parameters?t.parameters[c.output]:c.output;n.push(this.getDependency("node",h)),r.push(this.getDependency("accessor",f)),i.push(this.getDependency("accessor",p)),a.push(c),o.push(d)}return Promise.all([Promise.all(n),Promise.all(r),Promise.all(i),Promise.all(a),Promise.all(o)]).then((function(n){for(var r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],u=[],l=0,c=r.length;l<c;l++){var d=r[l],h=i[l],f=a[l],p=o[l],v=s[l];if(void 0!==d){var g;switch(d.updateMatrix(),d.matrixAutoUpdate=!0,k[v.path]){case k.weights:g=m.NumberKeyframeTrack;break;case k.rotation:g=m.QuaternionKeyframeTrack;break;case k.position:case k.scale:default:g=m.VectorKeyframeTrack}var y=d.name?d.name:d.uuid,_=void 0!==p.interpolation?O[p.interpolation]:m.InterpolateLinear,x=[];k[v.path]===k.weights?d.traverse((function(e){!0===e.isMesh&&e.morphTargetInfluences&&x.push(e.name?e.name:e.uuid)})):x.push(y);var w=f.array;if(f.normalized){var M;if(w.constructor===Int8Array)M=1/127;else if(w.constructor===Uint8Array)M=1/255;else if(w.constructor==Int16Array)M=1/32767;else{if(w.constructor!==Uint16Array)throw new Error("THREE.GLTFLoader: Unsupported output accessor component type.");M=1/65535}for(var E=new Float32Array(w.length),A=0,S=w.length;A<S;A++)E[A]=w[A]*M;w=E}for(A=0,S=x.length;A<S;A++){var T=new g(x[A]+"."+k[v.path],h.array,w,_);"CUBICSPLINE"===p.interpolation&&(T.createInterpolant=function(e){return new b(this.times,this.values,this.getValueSize()/3,e)},T.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),u.push(T)}}}var C=t.name?t.name:"animation_"+e;return new m.AnimationClip(C,void 0,u)}))},V.prototype.loadNode=function(e){var t=this.json,r=this.extensions,i=this,a=t.nodes[e];return function(){var e=[];if(void 0!==a.mesh&&e.push(i.getDependency("mesh",a.mesh).then((function(e){var t=i._getNodeRef(i.meshCache,a.mesh,e);return void 0!==a.weights&&t.traverse((function(e){if(e.isMesh)for(var t=0,n=a.weights.length;t<n;t++)e.morphTargetInfluences[t]=a.weights[t]})),t}))),void 0!==a.camera&&e.push(i.getDependency("camera",a.camera).then((function(e){return i._getNodeRef(i.cameraCache,a.camera,e)}))),a.extensions&&a.extensions[n.KHR_LIGHTS_PUNCTUAL]&&void 0!==a.extensions[n.KHR_LIGHTS_PUNCTUAL].light){var t=a.extensions[n.KHR_LIGHTS_PUNCTUAL].light;e.push(i.getDependency("light",t).then((function(e){return i._getNodeRef(i.lightCache,t,e)})))}return Promise.all(e)}().then((function(t){var n;if((n=!0===a.isBone?new m.Bone:t.length>1?new m.Group:1===t.length?t[0]:new m.Object3D)!==t[0])for(var o=0,s=t.length;o<s;o++)n.add(t[o]);if(a.name&&(n.userData.name=a.name,n.name=m.PropertyBinding.sanitizeNodeName(a.name)),G(n,a),a.extensions&&N(r,n,a),void 0!==a.matrix){var u=new m.Matrix4;u.fromArray(a.matrix),n.applyMatrix4(u)}else void 0!==a.translation&&n.position.fromArray(a.translation),void 0!==a.rotation&&n.quaternion.fromArray(a.rotation),void 0!==a.scale&&n.scale.fromArray(a.scale);return i.associations.set(n,{type:"nodes",index:e}),n}))},V.prototype.loadScene=function(){function e(t,n,r,i){var a=r.nodes[t];return i.getDependency("node",t).then((function(e){return void 0===a.skin?e:i.getDependency("skin",a.skin).then((function(e){for(var n=[],r=0,a=(t=e).joints.length;r<a;r++)n.push(i.getDependency("node",t.joints[r]));return Promise.all(n)})).then((function(n){return e.traverse((function(e){if(e.isMesh){for(var r=[],i=[],a=0,o=n.length;a<o;a++){var s=n[a];if(s){r.push(s);var u=new m.Matrix4;void 0!==t.inverseBindMatrices&&u.fromArray(t.inverseBindMatrices.array,16*a),i.push(u)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[a])}e.bind(new m.Skeleton(r,i),e.matrixWorld)}})),e}));var t})).then((function(t){n.add(t);var o=[];if(a.children)for(var s=a.children,u=0,l=s.length;u<l;u++){var c=s[u];o.push(e(c,t,r,i))}return Promise.all(o)}))}return function(t){var n=this.json,r=this.extensions,i=this.json.scenes[t],a=new m.Group;i.name&&(a.name=i.name),G(a,i),i.extensions&&N(r,a,i);for(var o=i.nodes||[],s=[],u=0,l=o.length;u<l;u++)s.push(e(o[u],a,n,this));return Promise.all(s).then((function(){return a}))}}(),e}(),ye=n(21),be=n.n(ye);function _e(e){var t,n=new Set,r=function(e,r){var i="function"===typeof e?e(t):e;i!==t&&(t=r?i:Object.assign({},t,i),n.forEach((function(e){return e(t)})))},i=function(){return t},a={setState:r,getState:i,subscribe:function(e,r,a){return r||a?function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.is,o=r(t);function s(){try{var n=r(t);a(o,n)||e(o=n)}catch(i){e(null,i)}}return n.add(s),function(){return n.delete(s)}}(e,r,a):(n.add(e),function(){return n.delete(e)})},destroy:function(){return n.clear()}};return t=e(r,i,a),a}var xe="undefined"===typeof window?h.useEffect:h.useLayoutEffect;var we=function(e){var t="function"===typeof e?_e(e):e,n=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.getState,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.is,i=Object(h.useReducer)((function(e){return e+1}),0),a=Object(l.a)(i,2),o=a[1],s=t.getState(),u=Object(h.useRef)(s),c=Object(h.useRef)(n),d=Object(h.useRef)(r),f=Object(h.useRef)(!1),p=Object(h.useRef)();void 0===p.current&&(p.current=n(s));var m=!1;(u.current!==s||c.current!==n||d.current!==r||f.current)&&(e=n(s),m=!r(p.current,e)),xe((function(){m&&(p.current=e),u.current=s,c.current=n,d.current=r,f.current=!1}));var v=Object(h.useRef)(s);return Object(h.useEffect)((function(){var e=function(){try{var e=t.getState(),n=c.current(e);d.current(p.current,n)||(u.current=e,p.current=n,o())}catch(r){f.current=!0,o()}},n=t.subscribe(e);return t.getState()!==v.current&&e(),n}),[]),m?e:p.current};return Object.assign(n,t),n[Symbol.iterator]=be.a.mark((function e(){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.warn("[useStore, api] = create() is deprecated and will be removed in v4"),e.next=3,n;case 3:return e.next=5,t;case 5:case"end":return e.stop()}}),e)})),n},Me=n(32),Ee=n.n(Me),Ae=function e(t,n){m.Mesh.call(this,t),this.type="Reflector";var r=this,i=void 0!==(n=n||{}).color?new m.Color(n.color):new m.Color(8355711),a=n.textureWidth||512,o=n.textureHeight||512,s=n.clipBias||0,u=n.shader||e.ReflectorShader,l=new m.Plane,c=new m.Vector3,d=new m.Vector3,h=new m.Vector3,f=new m.Matrix4,p=new m.Vector3(0,0,-1),v=new m.Vector4,g=new m.Vector3,y=new m.Vector3,b=new m.Vector4,_=new m.Matrix4,x=new m.PerspectiveCamera,w={minFilter:m.LinearFilter,magFilter:m.LinearFilter,format:m.RGBFormat},M=new m.WebGLRenderTarget(a,o,w);m.MathUtils.isPowerOfTwo(a)&&m.MathUtils.isPowerOfTwo(o)||(M.texture.generateMipmaps=!1);var E=new m.ShaderMaterial({uniforms:m.UniformsUtils.clone(u.uniforms),fragmentShader:u.fragmentShader,vertexShader:u.vertexShader});E.uniforms.tDiffuse.value=M.texture,E.uniforms.color.value=i,E.uniforms.textureMatrix.value=_,this.material=E,this.onBeforeRender=function(e,t,n){if(d.setFromMatrixPosition(r.matrixWorld),h.setFromMatrixPosition(n.matrixWorld),f.extractRotation(r.matrixWorld),c.set(0,0,1),c.applyMatrix4(f),g.subVectors(d,h),!(g.dot(c)>0)){g.reflect(c).negate(),g.add(d),f.extractRotation(n.matrixWorld),p.set(0,0,-1),p.applyMatrix4(f),p.add(h),y.subVectors(d,p),y.reflect(c).negate(),y.add(d),x.position.copy(g),x.up.set(0,1,0),x.up.applyMatrix4(f),x.up.reflect(c),x.lookAt(y),x.far=n.far,x.updateMatrixWorld(),x.projectionMatrix.copy(n.projectionMatrix),_.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),_.multiply(x.projectionMatrix),_.multiply(x.matrixWorldInverse),_.multiply(r.matrixWorld),l.setFromNormalAndCoplanarPoint(c,d),l.applyMatrix4(x.matrixWorldInverse),v.set(l.normal.x,l.normal.y,l.normal.z,l.constant);var i=x.projectionMatrix;b.x=(Math.sign(v.x)+i.elements[8])/i.elements[0],b.y=(Math.sign(v.y)+i.elements[9])/i.elements[5],b.z=-1,b.w=(1+i.elements[10])/i.elements[14],v.multiplyScalar(2/v.dot(b)),i.elements[2]=v.x,i.elements[6]=v.y,i.elements[10]=v.z+1-s,i.elements[14]=v.w,M.texture.encoding=e.outputEncoding,r.visible=!1;var a=e.getRenderTarget(),o=e.xr.enabled,u=e.shadowMap.autoUpdate;e.xr.enabled=!1,e.shadowMap.autoUpdate=!1,e.setRenderTarget(M),e.state.buffers.depth.setMask(!0),!1===e.autoClear&&e.clear(),e.render(t,x),e.xr.enabled=o,e.shadowMap.autoUpdate=u,e.setRenderTarget(a);var m=n.viewport;void 0!==m&&e.state.viewport(m),r.visible=!0}},this.getRenderTarget=function(){return M}};(Ae.prototype=Object.create(m.Mesh.prototype)).constructor=Ae,Ae.ReflectorShader={uniforms:{color:{value:null},tDiffuse:{value:null},textureMatrix:{value:null}},vertexShader:["uniform mat4 textureMatrix;","varying vec4 vUv;","void main() {","\tvUv = textureMatrix * vec4( position, 1.0 );","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform vec3 color;","uniform sampler2D tDiffuse;","varying vec4 vUv;","float blendOverlay( float base, float blend ) {","\treturn( base < 0.5 ? ( 2.0 * base * blend ) : ( 1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );","}","vec3 blendOverlay( vec3 base, vec3 blend ) {","\treturn vec3( blendOverlay( base.r, blend.r ), blendOverlay( base.g, blend.g ), blendOverlay( base.b, blend.b ) );","}","void main() {","\tvec4 base = texture2DProj( tDiffuse, vUv );","\tgl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 );","}"].join("\n")};n(65),n(66);var Se=function(){};!function(){var e=new m.Vector3,t=new m.Vector3;function n(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}function r(e,t){var n,r,i,a=t.position.distanceTo(e.position),o=0,s=[],u=e.faces.length;for(n=0;n<u;n++)(r=e.faces[n]).hasVertex(t)&&s.push(r);for(n=0;n<u;n++){var l=1;r=e.faces[n];for(var c=0;c<s.length;c++){i=s[c];var d=r.normal.dot(i.normal);l=Math.min(l,(1.001-d)/2)}o=Math.max(o,l)}return s.length<2&&(o=1),a*o+0}function i(e){if(0===e.neighbors.length)return e.collapseNeighbor=null,void(e.collapseCost=-.01);e.collapseCost=1e5,e.collapseNeighbor=null;for(var t=0;t<e.neighbors.length;t++){var n=r(e,e.neighbors[t]);e.collapseNeighbor||(e.collapseNeighbor=e.neighbors[t],e.collapseCost=n,e.minCost=n,e.totalCost=0,e.costCount=0),e.costCount++,e.totalCost+=n,n<e.minCost&&(e.collapseNeighbor=e.neighbors[t],e.minCost=n)}e.collapseCost=e.totalCost/e.costCount}function a(e,t){for(console.assert(0===e.faces.length);e.neighbors.length;){n(e.neighbors.pop().neighbors,e)}n(t,e)}function o(e,t){n(t,e),e.v1&&n(e.v1.faces,e),e.v2&&n(e.v2.faces,e),e.v3&&n(e.v3.faces,e);for(var r,i,a=[e.v1,e.v2,e.v3],o=0;o<3;o++)i=a[(o+1)%3],(r=a[o])&&i&&(r.removeIfNonNeighbor(i),i.removeIfNonNeighbor(r))}function s(e,t,n,r){if(r){var s,u=[];for(s=0;s<n.neighbors.length;s++)u.push(n.neighbors[s]);for(s=n.faces.length-1;s>=0;s--)n.faces[s].hasVertex(r)&&o(n.faces[s],t);for(s=n.faces.length-1;s>=0;s--)n.faces[s].replaceVertex(n,r);for(a(n,e),s=0;s<u.length;s++)i(u[s])}else a(n,e)}function u(e){for(var t=e[0],n=0;n<e.length;n++)e[n].collapseCost<t.collapseCost&&(t=e[n]);return t}function l(e,t,n,r,i,a){this.a=r,this.b=i,this.c=a,this.v1=e,this.v2=t,this.v3=n,this.normal=new m.Vector3,this.computeNormal(),e.faces.push(this),e.addUniqueNeighbor(t),e.addUniqueNeighbor(n),t.faces.push(this),t.addUniqueNeighbor(e),t.addUniqueNeighbor(n),n.faces.push(this),n.addUniqueNeighbor(e),n.addUniqueNeighbor(t)}function c(e,t){this.position=e,this.id=t,this.faces=[],this.neighbors=[],this.collapseCost=0,this.collapseNeighbor=null}l.prototype.computeNormal=function(){var n=this.v1.position,r=this.v2.position,i=this.v3.position;e.subVectors(i,r),t.subVectors(n,r),e.cross(t).normalize(),this.normal.copy(e)},l.prototype.hasVertex=function(e){return e===this.v1||e===this.v2||e===this.v3},l.prototype.replaceVertex=function(e,t){e===this.v1?this.v1=t:e===this.v2?this.v2=t:e===this.v3&&(this.v3=t),n(e.faces,this),t.faces.push(this),e.removeIfNonNeighbor(this.v1),this.v1.removeIfNonNeighbor(e),e.removeIfNonNeighbor(this.v2),this.v2.removeIfNonNeighbor(e),e.removeIfNonNeighbor(this.v3),this.v3.removeIfNonNeighbor(e),this.v1.addUniqueNeighbor(this.v2),this.v1.addUniqueNeighbor(this.v3),this.v2.addUniqueNeighbor(this.v1),this.v2.addUniqueNeighbor(this.v3),this.v3.addUniqueNeighbor(this.v1),this.v3.addUniqueNeighbor(this.v2),this.computeNormal()},c.prototype.addUniqueNeighbor=function(e){var t,n;t=this.neighbors,n=e,-1===t.indexOf(n)&&t.push(n)},c.prototype.removeIfNonNeighbor=function(e){var t=this.neighbors,n=this.faces,r=t.indexOf(e);if(-1!==r){for(var i=0;i<n.length;i++)if(n[i].hasVertex(e))return;t.splice(r,1)}},Se.prototype.modify=function(e,t){e.isBufferGeometry&&(e=(new m.Geometry).fromBufferGeometry(e)),e.mergeVertices();var n,r,a,o=e.vertices,d=e.faces,h=[],f=[];for(n=0,r=o.length;n<r;n++){var p=new c(o[n],n);h.push(p)}for(n=0,r=d.length;n<r;n++){var v=(E=d[n]).a,g=E.b,y=E.c,b=new l(h[v],h[g],h[y],v,g,y);f.push(b)}for(n=0,r=h.length;n<r;n++)i(h[n]);for(var _=t;_--;){if(!(a=u(h))){console.log("THREE.SimplifyModifier: No next vertex");break}s(h,f,a,a.collapseNeighbor)}var x=new m.BufferGeometry,w=[],M=[];for(n=0;n<h.length;n++){p=h[n].position;w.push(p.x,p.y,p.z)}for(n=0;n<f.length;n++){var E=f[n];v=h.indexOf(E.v1),g=h.indexOf(E.v2),y=h.indexOf(E.v3);M.push(v,g,y)}return x.setAttribute("position",new m.Float32BufferAttribute(w,3)),x.setIndex(M),x}}();var Te=function(e){this.subdivisions=void 0===e?1:e};Te.prototype.modify=function(e){(e=e.isBufferGeometry?(new m.Geometry).fromBufferGeometry(e):e.clone()).mergeVertices();for(var t=this.subdivisions;t-- >0;)this.smooth(e);return e.computeFaceNormals(),e.computeVertexNormals(),e},function(){var e=["a","b","c"];function t(e,t,n){return n[Math.min(e,t)+"_"+Math.max(e,t)]}function n(e,t,n,r,i,a){var o,s=Math.min(e,t),u=Math.max(e,t),l=s+"_"+u;l in r?o=r[l]:(o={a:n[s],b:n[u],newEdge:null,faces:[]},r[l]=o);o.faces.push(i),a[e].edges.push(o),a[t].edges.push(o)}function r(e,t,n,r,i){e.push(new m.Face3(t,n,r,void 0,void 0,i))}function i(e,t){return Math.abs(t-e)/2+Math.min(e,t)}function a(e,t,n,r){e.push([t.clone(),n.clone(),r.clone()])}Te.prototype.smooth=function(o){var s,u,l,c,d,h,f,p,v,g,y,b,_,x=new m.Vector3,w=[];s=o.vertices,u=o.faces;var M,E,A,S,T,C,D,R,I,k,O,L,P,B,F=void 0!==(l=o.faceVertexUvs)[0]&&l[0].length>0;if(F)for(var N=0;N<l.length;N++)w.push([]);for(f in function(e,t,r,i){var a,o,s;for(a=0,o=e.length;a<o;a++)r[a]={edges:[]};for(a=0,o=t.length;a<o;a++)n((s=t[a]).a,s.b,e,i,s,r),n(s.b,s.c,e,i,s,r),n(s.c,s.a,e,i,s,r)}(s,u,g=new Array(s.length),y={}),b=[],y){for(E=y[f],A=new m.Vector3,T=3/8,C=1/8,2!=(D=E.faces.length)&&(T=.5,C=0),A.addVectors(E.a,E.b).multiplyScalar(T),x.set(0,0,0),N=0;N<D;N++){for(S=E.faces[N],v=0;v<3&&((M=s[S[e[v]]])===E.a||M===E.b);v++);x.add(M)}x.multiplyScalar(C),A.add(x),E.newEdge=b.length,b.push(A)}for(_=[],f=0,p=s.length;f<p;f++){for(P=s[f],3==(h=(L=g[f].edges).length)?R=3/16:h>3&&(R=3/(8*h)),I=1-h*R,k=R,h<=2&&2==h&&(I=3/4,k=1/8),B=P.clone().multiplyScalar(I),x.set(0,0,0),N=0;N<h;N++)M=(O=L[N]).a!==P?O.a:O.b,x.add(M);x.multiplyScalar(k),B.add(x),_.push(B)}c=_.concat(b);var G,j,U,z,V,H,W,X=_.length;d=[];var q=new m.Vector2,Y=new m.Vector2,Q=new m.Vector2;for(f=0,p=u.length;f<p;f++)if(r(d,G=t((S=u[f]).a,S.b,y).newEdge+X,j=t(S.b,S.c,y).newEdge+X,U=t(S.c,S.a,y).newEdge+X,S.materialIndex),r(d,S.a,G,U,S.materialIndex),r(d,S.b,j,G,S.materialIndex),r(d,S.c,U,j,S.materialIndex),F)for(N=0;N<l.length;N++)V=(z=l[N][f])[0],H=z[1],W=z[2],q.set(i(V.x,H.x),i(V.y,H.y)),Y.set(i(H.x,W.x),i(H.y,W.y)),Q.set(i(V.x,W.x),i(V.y,W.y)),a(w[N],q,Y,Q),a(w[N],V,q,Q),a(w[N],H,Y,q),a(w[N],W,Q,Y);o.vertices=c,o.faces=d,F&&(o.faceVertexUvs=w)}}();var Ce=function(e){this.maxEdgeLength=e};function De(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Ce.prototype.modify=function(e){for(var t,n=[],r=[],i=this.maxEdgeLength*this.maxEdgeLength,a=0,o=e.faceVertexUvs.length;a<o;a++)r[a]=[];for(a=0,o=e.faces.length;a<o;a++){var s=e.faces[a];if(s instanceof m.Face3){var u=s.a,l=s.b,c=s.c,d=e.vertices[u],h=e.vertices[l],f=e.vertices[c],p=d.distanceToSquared(h),v=h.distanceToSquared(f),g=d.distanceToSquared(f);if(p>i||v>i||g>i){var y=e.vertices.length,b=s.clone(),_=s.clone();if(p>=v&&p>=g){if((x=d.clone()).lerp(h,.5),b.a=u,b.b=y,b.c=c,_.a=y,_.b=l,_.c=c,3===s.vertexNormals.length)(w=s.vertexNormals[0].clone()).lerp(s.vertexNormals[1],.5),b.vertexNormals[1].copy(w),_.vertexNormals[0].copy(w);if(3===s.vertexColors.length)(M=s.vertexColors[0].clone()).lerp(s.vertexColors[1],.5),b.vertexColors[1].copy(M),_.vertexColors[0].copy(M);t=0}else if(v>=p&&v>=g){if((x=h.clone()).lerp(f,.5),b.a=u,b.b=l,b.c=y,_.a=y,_.b=c,_.c=u,3===s.vertexNormals.length)(w=s.vertexNormals[1].clone()).lerp(s.vertexNormals[2],.5),b.vertexNormals[2].copy(w),_.vertexNormals[0].copy(w),_.vertexNormals[1].copy(s.vertexNormals[2]),_.vertexNormals[2].copy(s.vertexNormals[0]);if(3===s.vertexColors.length)(M=s.vertexColors[1].clone()).lerp(s.vertexColors[2],.5),b.vertexColors[2].copy(M),_.vertexColors[0].copy(M),_.vertexColors[1].copy(s.vertexColors[2]),_.vertexColors[2].copy(s.vertexColors[0]);t=1}else{var x,w,M;if((x=d.clone()).lerp(f,.5),b.a=u,b.b=l,b.c=y,_.a=y,_.b=l,_.c=c,3===s.vertexNormals.length)(w=s.vertexNormals[0].clone()).lerp(s.vertexNormals[2],.5),b.vertexNormals[2].copy(w),_.vertexNormals[0].copy(w);if(3===s.vertexColors.length)(M=s.vertexColors[0].clone()).lerp(s.vertexColors[2],.5),b.vertexColors[2].copy(M),_.vertexColors[0].copy(M);t=2}n.push(b,_),e.vertices.push(x);for(var E=0,A=e.faceVertexUvs.length;E<A;E++)if(e.faceVertexUvs[E].length){var S=e.faceVertexUvs[E][a],T=S[0],C=S[1],D=S[2];if(0===t){(k=T.clone()).lerp(C,.5);var R=[T.clone(),k.clone(),D.clone()],I=[k.clone(),C.clone(),D.clone()]}else if(1===t){(k=C.clone()).lerp(D,.5);R=[T.clone(),C.clone(),k.clone()],I=[k.clone(),D.clone(),T.clone()]}else{var k;(k=T.clone()).lerp(D,.5);R=[T.clone(),C.clone(),k.clone()],I=[k.clone(),C.clone(),D.clone()]}r[E].push(R,I)}}else{n.push(s);for(E=0,A=e.faceVertexUvs.length;E<A;E++)r[E].push(e.faceVertexUvs[E][a])}}}e.faces=n,e.faceVertexUvs=r};var Re=function e(){var t=e.SkyShader,n=new m.ShaderMaterial({name:"SkyShader",fragmentShader:t.fragmentShader,vertexShader:t.vertexShader,uniforms:m.UniformsUtils.clone(t.uniforms),side:m.BackSide,depthWrite:!1});m.Mesh.call(this,new m.BoxBufferGeometry(1,1,1),n)};Re.prototype=Object.create(m.Mesh.prototype),Re.SkyShader={uniforms:{turbidity:{value:2},rayleigh:{value:1},mieCoefficient:{value:.005},mieDirectionalG:{value:.8},sunPosition:{value:new m.Vector3},up:{value:new m.Vector3(0,1,0)}},vertexShader:["uniform vec3 sunPosition;","uniform float rayleigh;","uniform float turbidity;","uniform float mieCoefficient;","uniform vec3 up;","varying vec3 vWorldPosition;","varying vec3 vSunDirection;","varying float vSunfade;","varying vec3 vBetaR;","varying vec3 vBetaM;","varying float vSunE;","const float e = 2.71828182845904523536028747135266249775724709369995957;","const float pi = 3.141592653589793238462643383279502884197169;","const vec3 lambda = vec3( 680E-9, 550E-9, 450E-9 );","const vec3 totalRayleigh = vec3( 5.804542996261093E-6, 1.3562911419845635E-5, 3.0265902468824876E-5 );","const float v = 4.0;","const vec3 K = vec3( 0.686, 0.678, 0.666 );","const vec3 MieConst = vec3( 1.8399918514433978E14, 2.7798023919660528E14, 4.0790479543861094E14 );","const float cutoffAngle = 1.6110731556870734;","const float steepness = 1.5;","const float EE = 1000.0;","float sunIntensity( float zenithAngleCos ) {","\tzenithAngleCos = clamp( zenithAngleCos, -1.0, 1.0 );","\treturn EE * max( 0.0, 1.0 - pow( e, -( ( cutoffAngle - acos( zenithAngleCos ) ) / steepness ) ) );","}","vec3 totalMie( float T ) {","\tfloat c = ( 0.2 * T ) * 10E-18;","\treturn 0.434 * c * MieConst;","}","void main() {","\tvec4 worldPosition = modelMatrix * vec4( position, 1.0 );","\tvWorldPosition = worldPosition.xyz;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","\tgl_Position.z = gl_Position.w;","\tvSunDirection = normalize( sunPosition );","\tvSunE = sunIntensity( dot( vSunDirection, up ) );","\tvSunfade = 1.0 - clamp( 1.0 - exp( ( sunPosition.y / 450000.0 ) ), 0.0, 1.0 );","\tfloat rayleighCoefficient = rayleigh - ( 1.0 * ( 1.0 - vSunfade ) );","\tvBetaR = totalRayleigh * rayleighCoefficient;","\tvBetaM = totalMie( turbidity ) * mieCoefficient;","}"].join("\n"),fragmentShader:["varying vec3 vWorldPosition;","varying vec3 vSunDirection;","varying float vSunfade;","varying vec3 vBetaR;","varying vec3 vBetaM;","varying float vSunE;","uniform float mieDirectionalG;","uniform vec3 up;","const vec3 cameraPos = vec3( 0.0, 0.0, 0.0 );","const float pi = 3.141592653589793238462643383279502884197169;","const float n = 1.0003;","const float N = 2.545E25;","const float rayleighZenithLength = 8.4E3;","const float mieZenithLength = 1.25E3;","const float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;","const float THREE_OVER_SIXTEENPI = 0.05968310365946075;","const float ONE_OVER_FOURPI = 0.07957747154594767;","float rayleighPhase( float cosTheta ) {","\treturn THREE_OVER_SIXTEENPI * ( 1.0 + pow( cosTheta, 2.0 ) );","}","float hgPhase( float cosTheta, float g ) {","\tfloat g2 = pow( g, 2.0 );","\tfloat inverse = 1.0 / pow( 1.0 - 2.0 * g * cosTheta + g2, 1.5 );","\treturn ONE_OVER_FOURPI * ( ( 1.0 - g2 ) * inverse );","}","void main() {","\tvec3 direction = normalize( vWorldPosition - cameraPos );","\tfloat zenithAngle = acos( max( 0.0, dot( up, direction ) ) );","\tfloat inverse = 1.0 / ( cos( zenithAngle ) + 0.15 * pow( 93.885 - ( ( zenithAngle * 180.0 ) / pi ), -1.253 ) );","\tfloat sR = rayleighZenithLength * inverse;","\tfloat sM = mieZenithLength * inverse;","\tvec3 Fex = exp( -( vBetaR * sR + vBetaM * sM ) );","\tfloat cosTheta = dot( direction, vSunDirection );","\tfloat rPhase = rayleighPhase( cosTheta * 0.5 + 0.5 );","\tvec3 betaRTheta = vBetaR * rPhase;","\tfloat mPhase = hgPhase( cosTheta, mieDirectionalG );","\tvec3 betaMTheta = vBetaM * mPhase;","\tvec3 Lin = pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * ( 1.0 - Fex ), vec3( 1.5 ) );","\tLin *= mix( vec3( 1.0 ), pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * Fex, vec3( 1.0 / 2.0 ) ), clamp( pow( 1.0 - dot( up, vSunDirection ), 5.0 ), 0.0, 1.0 ) );","\tfloat theta = acos( direction.y ); // elevation --\x3e y-axis, [-pi/2, pi/2]","\tfloat phi = atan( direction.z, direction.x ); // azimuth --\x3e x-axis [-pi/2, pi/2]","\tvec2 uv = vec2( phi, theta ) / vec2( 2.0 * pi, pi ) + vec2( 0.5, 0.0 );","\tvec3 L0 = vec3( 0.1 ) * Fex;","\tfloat sundisk = smoothstep( sunAngularDiameterCos, sunAngularDiameterCos + 0.00002, cosTheta );","\tL0 += ( vSunE * 19000.0 * Fex ) * sundisk;","\tvec3 texColor = ( Lin + L0 ) * 0.04 + vec3( 0.0, 0.0003, 0.00075 );","\tvec3 retColor = pow( texColor, vec3( 1.0 / ( 1.2 + ( 1.2 * vSunfade ) ) ) );","\tgl_FragColor = vec4( retColor, 1.0 );","#include <tonemapping_fragment>","#include <encodings_fragment>","}"].join("\n")};["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),["uniform sampler2D tDiffuse;","uniform float h;","varying vec2 vUv;","void main() {","\tvec4 sum = vec4( 0.0 );","\tsum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * h, vUv.y ) ) * 0.051;","\tsum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * h, vUv.y ) ) * 0.0918;","\tsum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * h, vUv.y ) ) * 0.12245;","\tsum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * h, vUv.y ) ) * 0.1531;","\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;","\tsum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * h, vUv.y ) ) * 0.1531;","\tsum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * h, vUv.y ) ) * 0.12245;","\tsum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * h, vUv.y ) ) * 0.0918;","\tsum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * h, vUv.y ) ) * 0.051;","\tgl_FragColor = sum;","}"].join("\n"),["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),["uniform sampler2D tDiffuse;","uniform float v;","varying vec2 vUv;","void main() {","\tvec4 sum = vec4( 0.0 );","\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * v ) ) * 0.051;","\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * v ) ) * 0.0918;","\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * v ) ) * 0.12245;","\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * v ) ) * 0.1531;","\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;","\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * v ) ) * 0.1531;","\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * v ) ) * 0.12245;","\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * v ) ) * 0.0918;","\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * v ) ) * 0.051;","\tgl_FragColor = sum;","}"].join("\n"),n(42);function Ie(e){var t=e+"BufferGeometry";return Object(h.forwardRef)((function(e,n){var r=e.args,i=e.children,a=Object(d.a)(e,["args","children"]);return f.a.createElement("mesh",Object(c.a)({ref:n},a),f.a.createElement(t,{attach:"geometry",args:r}),i)}))}var ke=Ie("box"),Oe=(Ie("circle"),Ie("cone"),Ie("cylinder"),Ie("sphere"),Ie("plane")),Le=(Ie("tube"),Ie("torus"),Ie("torusKnot"),Ie("tetrahedron"),Ie("ring"),Ie("polyhedron"),Ie("icosahedron"),Ie("octahedron")),Pe=(Ie("dodecahedron"),Ie("extrude"),Ie("lathe"),Ie("parametric"),Object(h.forwardRef)((function(e,t){var n=e.anchorX,r=void 0===n?"center":n,i=e.anchorY,a=void 0===i?"middle":i,o=e.children,s=e.onSync,u=Object(d.a)(e,["anchorX","anchorY","children","onSync"]),m=Object(p.h)().invalidate,v=Object(h.useState)((function(){return new x.Text})),g=Object(l.a)(v,1)[0],y=Object(h.useState)(),b=Object(l.a)(y,2),_=b[0],w=b[1],M=Object(h.useMemo)((function(){var e=[],t="";return h.Children.forEach(o,(function(n,r){"string"===typeof n?t+=n:n&&"object"===typeof n&&"material"===n.props.attach?(e.push(Object(h.createElement)(n.type,{ref:w,attach:"material",key:r})),_&&e.push(f.a.createElement("primitive",Object(c.a)({dispose:null,object:g.material},n.props,{key:"baseMtl:"+r,attach:null})))):e.push(n)})),[e,t]}),[o,_,g.material]),E=Object(l.a)(M,2),A=E[0],S=E[1];return Object(h.useLayoutEffect)((function(){g.sync((function(){m(),s&&s(g)}))})),f.a.createElement("primitive",Object(c.a)({dispose:null,object:g,ref:t,text:S,anchorX:r,anchorY:a},u),A)})));function Be(e,t){return Object(p.f)(ge,e,t?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"https://www.gstatic.com/draco/v1/decoders/";return function(t){var n=new I;n.setDecoderPath(e),t.setDRACOLoader(n)}}("string"===typeof t?t:void 0):void 0)}var Fe=we((function(e){return m.DefaultLoadingManager.onStart=function(t,n,r){return e({active:!0,item:t,loaded:n,total:r,progress:n/r*100})},m.DefaultLoadingManager.onLoad=function(){return e({active:!1})},m.DefaultLoadingManager.onError=function(t){return e((function(e){return{errors:[].concat(Object(u.a)(e.errors),[t])}}))},m.DefaultLoadingManager.onProgress=function(t,n,r){return e({item:t,loaded:n,total:r,progress:n/r*100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}}));function Ne(e){return Object(p.f)(m.TextureLoader,e)}var Ge=new m.Vector3,je=new m.Vector3,Ue=new m.Vector3;function ze(e,t,n){var r=Ge.setFromMatrixPosition(e.matrixWorld);r.project(t);var i=n.width/2,a=n.height/2;return[r.x*i+i,-r.y*a+a]}var Ve=f.a.forwardRef((function(e,t){var n,r=e.children,i=e.eps,a=void 0===i?.001:i,o=e.style,s=e.className,u=e.prepend,v=e.center,g=e.fullscreen,y=e.portal,b=e.scaleFactor,_=e.zIndexRange,x=void 0===_?[16777271,0]:_,w=Object(d.a)(e,["children","eps","style","className","prepend","center","fullscreen","portal","scaleFactor","zIndexRange"]),M=Object(p.h)(),E=M.gl,A=M.scene,S=M.camera,T=M.size,C=Object(h.useState)((function(){return document.createElement("div")})),D=Object(l.a)(C,1)[0],R=Object(h.useRef)(null),I=Object(h.useRef)([0,0]),k=null!=(n=null==y?void 0:y.current)?n:E.domElement.parentNode;Object(h.useEffect)((function(){if(R.current){A.updateMatrixWorld();var e=ze(R.current,S,T);return D.style.cssText="position:absolute;top:0;left:0;transform:translate3d("+e[0]+"px,"+e[1]+"px,0);transform-origin:0 0;",k&&(u?k.prepend(D):k.appendChild(D)),function(){k&&k.removeChild(D),Ee.a.unmountComponentAtNode(D)}}}),[k]);var O=Object(h.useMemo)((function(){return Object(c.a)({position:"absolute",transform:v?"translate3d(-50%,-50%,0)":"none"},g&&{top:-T.height/2,left:-T.width/2,width:T.width,height:T.height},o)}),[o,v,g,T]);return Object(h.useEffect)((function(){Ee.a.render(f.a.createElement("div",{ref:t,style:O,className:s,children:r}),D)})),Object(p.e)((function(){if(R.current){var e=ze(R.current,S,T);if(Math.abs(I.current[0]-e[0])>a||Math.abs(I.current[1]-e[1])>a){D.style.display=function(e,t){var n=Ge.setFromMatrixPosition(e.matrixWorld),r=je.setFromMatrixPosition(t.matrixWorld),i=n.sub(r),a=t.getWorldDirection(Ue);return i.angleTo(a)>Math.PI/2}(R.current,S)?"none":"block";var t=void 0===b?1:function(e,t){if(t instanceof m.PerspectiveCamera){var n=Ge.setFromMatrixPosition(e.matrixWorld),r=je.setFromMatrixPosition(t.matrixWorld),i=t.fov*Math.PI/180,a=n.distanceTo(r);return 1/(2*Math.tan(i/2)*a)}return t instanceof m.OrthographicCamera?t.zoom:1}(R.current,S)*b;D.style.transform="translate3d("+e[0]+"px,"+e[1]+"px,0) scale("+t+")",D.style.zIndex=""+function(e,t,n){if(t instanceof m.PerspectiveCamera||t instanceof m.OrthographicCamera){var r=Ge.setFromMatrixPosition(e.matrixWorld),i=je.setFromMatrixPosition(t.matrixWorld),a=r.distanceTo(i),o=(n[1]-n[0])/(t.far-t.near),s=n[1]-o*t.far;return Math.round(o*a+s)}}(R.current,S,x)}I.current=e}})),f.a.createElement("group",Object(c.a)({},w,{ref:R}))}));new m.Matrix4,new m.Ray,new m.Sphere,new m.Vector3;m.MeshPhysicalMaterial,m.MeshStandardMaterial;m.ShaderMaterial;var He={0:"0404E8_0404B5_0404CB_3333FC",1:"045C5C_0DBDBD_049393_04A4A4",2:"046363_0CC3C3_049B9B_04ACAC",3:"0489C5_0DDDF9_04C3EE_04AFE1",4:"04989A_0CE3E4_04D2D5_04C7C8",5:"04C455_0EFABC_04F097_04E17A",6:"04CC77_0CF7CA_04E9A7_04AB54",7:"04E804_04B504_04CB04_33FC33",8:"04E8E8_04B5B5_04CCCC_33FCFC",9:"050505_747474_4C4C4C_333333",10:"070B0C_B2C7CE_728FA3_5B748B",11:"090909_9C9C9C_555555_7C7C7C",12:"0A0A0A_A9A9A9_525252_747474",13:"0C0CC3_04049F_040483_04045C",14:"0C430C_257D25_439A43_3C683C",15:"0D0DBD_040497_04047B_040455",16:"0D0DE3_040486_0404AF_0404CF",17:"0DBD0D_049704_047B04_045504",18:"0F0F0F_4B4B4B_1C1C1C_2C2C2C",19:"0F990F_047B04_044604_046704",20:"15100F_241D1B_292424_2C2C27",21:"161B1F_C7E0EC_90A5B3_7B8C9B",22:"167E76_36D6D2_23B2AC_27C1BE",23:"17395A_7EBCC7_4D8B9F_65A1B5",24:"181F1F_475057_616566_525C62",25:"191514_6D5145_4E3324_3B564D",26:"1A2461_3D70DB_2C3C8F_2C6CAC",27:"1B1B1B_515151_7E7E7E_6C6C6C",28:"1B1B1B_999999_575757_747474",29:"1B1C19_5F615D_4B4E4C_3F403D",30:"1C1810_352F23_2B2C1C_2B2C24",31:"1C70C6_09294C_0F3F73_52B3F6",32:"1D2424_565F66_4E555A_646C6E",33:"1D2A21_43443B_655B54_545C54",34:"1D3FCC_051B5F_81A0F2_5579E9",35:"221917_928380_5F504D_7C746C",36:"232014_908B78_5E5743_747460",37:"242733_333A4D_3E4554_3C3B43",38:"245642_3D8168_3D6858_417364",39:"253C3C_528181_406C6C_385F5F",40:"254FB0_99AFF0_6587D8_1D3279",41:"27222B_677491_484F6A_5D657A",42:"281813_604233_4B3426_442B22",43:"28292A_D3DAE5_A3ACB8_818183",44:"291912_473531_3C2C25_3A2424",45:"293534_B2BFC5_738289_8A9AA7",46:"293D21_ABC692_73B255_667C5C",47:"2A2A2A_B3B3B3_6D6D6D_848C8C",48:"2A2A2A_DBDBDB_6A6A6A_949494",49:"2A2D21_555742_898974_6C745B",50:"2A4BA7_1B2D44_1F3768_233C81",51:"2A6276_041218_739BA6_042941",52:"2B2828_7B796F_534F4A_616464",53:"2B2B22_3C3C30_464538_121210",54:"2D2D2A_74716E_8F8C8C_92958E",55:"2D2D2F_C6C2C5_727176_94949B",56:"2D8753_5CD6A5_45BB82_4CC494",57:"2E2E2D_7D7C76_A3A39F_949C94",58:"2E763A_78A0B7_B3D1CF_14F209",59:"2EAC9E_61EBE3_4DDDD1_43D1C6",60:"2F2FAA_1E1E87_10104E_1C1C70",61:"2F3747_6A7C9E_54637F_62748B",62:"300706_888576_822821_876E79",63:"302721_CAC1BB_7A706A_91959B",64:"304FB1_69A1EF_5081DF_5C8CE6",65:"312C34_A2AAB3_61656A_808494",66:"312D20_80675C_8B8C8B_85848C",67:"313131_BBBBBB_878787_A3A4A4",68:"320455_720DBE_560496_47047B",69:"32201D_613C3C_563533_8C655F",70:"32302B_4C4842_121211_1C1C14",71:"323C4D_B79039_7C6A44_605C48",72:"326666_66CBC9_C0B8AE_52B3B4",73:"331A0B_B17038_7D4E28_5B351A",74:"336EB3_152578_A4C5E2_74AED9",75:"34352A_718184_50605E_6E6761",76:"346088_6ABED7_56A0C5_4E91B8",77:"34A09C_6EE5E3_5CD7D3_4EC9C6",78:"34AB94_36DFC1_19F9EB_6C6E62",79:"353535_CFCFCF_828282_A4A4A4",80:"36220C_C6C391_8C844A_8B7B4C",81:"36312E_726461_59504D_645C5C",82:"365123_C6E5A3_A8D18D_8EB16C",83:"36C8FA_176ACB_24A7EF_1D93EC",84:"37C337_279F27_186018_248824",85:"385264_A1D3E2_86ADC1_6E94A8",86:"385862_6D8B8D_647B80_1A2E2F",87:"386169_A9CFDB_153C23_7CA3AC",88:"38925D_142B23_1D4835_2A6449",89:"392307_B3AE7D_6D5618_847C42",90:"39433A_65866E_86BF8B_BFF8D8",91:"394641_B1A67E_75BEBE_7D7256",92:"3A2412_A78B5F_705434_836C47",93:"3A3329_C9B090_928069_A9957A",94:"3A3D37_7E7F75_BCBFB6_9C9C94",95:"3B3B3B_C7C7C7_878787_A4A4A4",96:"3B3C3F_DAD9D5_929290_ABACA8",97:"3B4235_7B9395_5B716C_70847B",98:"3B6E10_E3F2C3_88AC2E_99CE51",99:"3D1F12_653821_070404_22130B",100:"3E2335_D36A1B_8E4A2E_2842A5",101:"3E3D39_D6CEAF_91BAC1_897966",102:"3E3E36_72726D_63645D_0E0F0C",103:"3E3E3E_AEAEAE_848484_777777",104:"3E95CC_65D9F1_A2E2F6_679BD4",105:"3F3A2F_91D0A5_7D876A_94977B",106:"3F3D52_CCCED9_AFB0C6_8D8CAC",107:"3F4441_D1D7D6_888F87_A2ADA1",108:"403A34_B0936E_7F979C_7E6956",109:"415325_83A24E_678239_748C3C",110:"416BA7_A5B8D0_0D2549_65ABEB",111:"422509_C89536_824512_0A0604",112:"422A1E_716767_685D59_5E4F4A",113:"424244_BDBBBE_8A898E_A3A4A9",114:"425F84_1C2939_2A3F57_24344C",115:"430404_BD9295_7E1E21_94544C",116:"432322_5E3839_170C0B_543433",117:"433D3F_A58D7D_786760_8C7C6D",118:"434240_D3D3CF_898784_A4A49F",119:"434343_9E9E9E_8C8C8C_848484",120:"434C32_62704C_546244_2F3220",121:"442C27_A79E90_847066_8D837C",122:"447072_8ACACB_65A4A5_74B3B3",123:"45432C_808361_B8C8BC_A5A27A",124:"454447_908E9A_181716_7C7C7B",125:"456A73_779B9E_173A46_154C5D",126:"463F37_ACCFBB_818B78_91A494",127:"464445_D2D0CB_919196_A8ADB0",128:"464543_D1CFC1_8E8C83_A4AC9C",129:"46804D_CBE9AC_90B57C_95D38F",130:"468126_C1DDB5_8AC460_A1D07C",131:"47392E_997E69_7C6553_8B745F",132:"474444_7B7575_9E9899_8C8C8B",133:"474643_696F7D_A9ABB8_8B8C93",134:"474843_CECEC4_898883_A3A3A4",135:"48270F_C4723B_9B5728_7B431B",136:"482908_894E0D_FBDB52_CA7420",137:"487FC9_A8E7F8_88CCF2_70AFDE",138:"489B7A_A0E7D9_6DC5AC_87DAC7",139:"48C381_226640_369F64_3CAC74",140:"49200B_C6926C_9C642B_A45C26",141:"495CA6_CCD2E6_A5B1D8_1E2852",142:"495E48_0D100D_9D9C87_9ECC9C",143:"496DBA_94C9F2_72A7E2_84B4EC",144:"4A6442_D0AB75_81CD94_181B12",145:"4B362C_715A4F_211913_644C44",146:"4B4A3A_94A3A4_68766F_988475",147:"4B5455_BBBFC4_97A0A6_838C90",148:"4C240E_A5613B_895134_734C44",149:"4C342A_7B584B_271912_6B4C44",150:"4C462E_6D876C_9AAC8F_9AABA6",151:"4C4C4C_D2D2D2_8F8F8F_ACACAC",152:"4D595E_858D87_596F84_748480",153:"4E4C42_B8C4C5_898E89_A3ACA4",154:"4E4D40_979786_AEAEA1_878678",155:"4E5150_9FA3A3_848C8A_82848C",156:"4F251B_381710_43241B_602F23",157:"4F439F_A28BE5_8570D6_7765C9",158:"4F4742_B7B1AA_847E79_969294",159:"4F4C45_A7AEAA_7A8575_9D97A2",160:"4F4F4F_9C9C9C_121212_7C7C7C",161:"4F4F4F_A1A1A1_8C8C8C_848484",162:"4F5246_8C8D84_7B7C74_131611",163:"4FE34F_2BB02B_3CD03C_1C861C",164:"50332C_D98D79_955F52_AA7C6C",165:"503522_C38254_9F6B45_845838",166:"504D3C_979C9D_81837D_9C998A",167:"513A11_CDBEB5_C8811C_9A733F",168:"51462B_DFCA7E_948050_A49874",169:"515151_DCDCDC_B7B7B7_9B9B9B",170:"515341_9A9C86_16180D_838474",171:"517919_659623_34460C_3E5813",172:"519C8D_83DAC7_9DEDE0_2B5B4C",173:"522221_91343B_7F6F6B_744960",174:"522A1A_94543A_C3896F_AB7D66",175:"525050_D4D3D3_959393_ACACAC",176:"533B33_AF9998_866965_9C7E7B",177:"535A2F_CDCA91_91915B_A4AC6F",178:"535F6B_A6BDC8_8FA3B4_7F91A2",179:"537387_75BBB9_152E5B_0E85E8",180:"54584E_B1BAC5_818B91_A7ACA3",181:"545B4D_D8DDC8_A0A792_B2C1A3",182:"54C104_BBFA0F_97EF04_7AE104",183:"55382F_78554E_271A16_6C4C44",184:"555555_C8C8C8_8B8B8B_A4A4A4",185:"556F42_112817_81927F_223E24",186:"55C404_BCFA0E_97F004_7AE104",187:"562D2A_2E1615_7E4945_703C3C",188:"56352F_1E110F_311C19_3C231C",189:"57553F_C6C3AF_8C8768_868C8C",190:"57583E_969788_292920_848474",191:"579241_B5D25D_0E1D2D_97C284",192:"582410_83381A_1F0C04_30140A",193:"583629_2E1810_765648_3C1C14",194:"584F3A_BEC3BD_C5A57D_A39073",195:"586A51_CCD5AA_8C9675_8DBBB7",196:"593E2C_E5D8A9_BC9F79_9F8A68",197:"595356_CDBFC6_AA9DA3_BBB3BC",198:"59554F_171716_847C74_2C2C24",199:"596773_B3C6CE_98AFB9_879AA8",200:"597C3F_254319_6C9668_7C9B53",201:"5A492B_DEC583_987D4D_AC9C74",202:"5A643B_454D2C_393F25_202315",203:"5B4CBC_B59AF2_9B84EB_8F78E4",204:"5B5428_C5A052_A28B46_ADA752",205:"5B574E_586967_807C6F_6A746C",206:"5C045C_BD0DBD_930493_A404A4",207:"5C2E0C_C36924_9F4F14_834114",208:"5C4E41_CCCDD6_9B979B_B1AFB0",209:"5C5743_262418_393727_342C20",210:"5C5C04_BDBD0D_939304_A4A404",211:"5C5C5C_A2A2A2_8C8C8C_848484",212:"5D5854_1A1714_373330_2C2424",213:"5D5D5D_CDCDCD_232323_ACACAC",214:"5D5E5A_A1A29B_2A2927_8B948C",215:"5E423A_8C6E69_382416_745D64",216:"5E5049_CDC2BE_9C8E88_B7ACA4",217:"5E5855_C6C4CD_C89B67_8F8E98",218:"5E5F62_A7B2BE_211C17_939CA3",219:"5ECBA4_BCFAE7_92EED0_A1F4DC",220:"5F1827_9B4A60_1F0404_340406",221:"5F4C4B_A07C7D_A8AFBF_868185",222:"5F4F50_A18E8E_8C7C7B_211A1A",223:"5F5F5F_BDBDBD_A4A4A4_9C9C9C",224:"604A30_DC9065_212C14_AC9C92",225:"60534A_211813_9B948E_8E837D",226:"605352_E9CCC5_C7A8A3_A89291",227:"606857_9BA894_8C9C83_8C9483",228:"613F04_D68C04_A45F04_1F0F04",229:"61583E_252314_928972_342C1C",230:"617586_23304C_1B1E30_4988CF",231:"622F19_885934_9A7748_94603A",232:"623622_A1756F_986353_89645B",233:"624541_FCD0C6_E4A19A_FCBCB4",234:"626262_9E9E9E_848484_262626",235:"626262_A8A8A8_949494_1F1F1F",236:"626A57_3B3F33_7D8973_444C3C",237:"626D5C_B8C2BB_1B230F_A4ACA3",238:"627D72_A6CAAA_202C28_B4D4B4",239:"630463_C30CC3_9B049B_AC04AC",240:"63533B_AA9472_1C1108_9B8C68",241:"63584B_E6E0D6_A8A092_BFB6A8",242:"635D52_A9BCC0_B1AEA0_819598",243:"636363_AAAAAA_949494_252525",244:"636D6C_D4E7ED_ABBCC4_9BA4A8",245:"637598_B7C4D3_22293A_9BACBF",246:"64554D_D1C9C1_ABADA0_0E0C0A",247:"64686F_BDC0C4_161718_A4A7AB",248:"647171_1F3349_2A475C_87A5AD",249:"647686_23292E_333C44_404B55",250:"656662_9B9B99_393B31_8B8C8C",251:"657274_2A2F30_A0A7B0_363C44",252:"65A0BA_C3E4F1_A7D5E6_97CADF",253:"65A0C7_C3E4F8_A7D5EF_97CAE9",254:"660505_F2B090_DD4D37_AA1914",255:"66605E_939198_2E261F_3C332A",256:"666864_B3B4AB_2F2F2C_9CA49B",257:"673B2A_99735C_99593A_3A160E",258:"677E93_36444D_99A9BA_435464",259:"678E67_C4D9C4_ACC8AC_98B898",260:"68049F_C90DE6_A404CF_B304DC",261:"683F2D_9F736D_431D06_966152",262:"68493E_B2AAA9_978C8C_130907",263:"684C40_776E69_9B7765_758D96",264:"685B57_BEB1B1_9B99A4_1E1D1D",265:"686464_CCCAC7_A4A19F_BCB4B4",266:"686B73_2A2B2D_D5D9DD_B0B3BC",267:"686E55_353C2F_869B7F_444434",268:"696347_98B0A2_28261E_362B22",269:"696969_A0A0A0_949494_8C8C8C",270:"6A3C15_EFC898_D59D59_B38346",271:"6A5338_1C120B_C5975F_96886C",272:"6A8287_405153_839EBE_424C5C",273:"6B3822_A65D48_824E48_401E0C",274:"6BBD6B_C8F3C8_A3E2A3_B4ECB4",275:"6C52AA_C9A6EA_A681D6_B494E2",276:"6C5DC3_352D66_5C4CAB_544CA5",277:"6C6F76_CBD1D7_B2BDC7_A6B0BF",278:"6C8996_14223F_B9DEDD_2E445C",279:"6D1616_E6CDBA_DE2B24_230F0F",280:"6D3B1C_895638_502A0D_844C31",281:"6D6050_C8C2B9_A2998E_B4AA9F",282:"6D6D6D_3E3E3E_C0C0C0_949494",283:"6E2E36_D3A1A0_BD7175_C78C8B",284:"6E5137_E8CA90_271912_B99C74",285:"6E524D_8496C5_AF6624_100B11",286:"6E6D69_D0ECE9_AAC7C6_200C0C",287:"6E7181_D1CFDF_ABAFC7_B4BCCE",288:"6E8C48_B8CDA7_344018_A8BC94",289:"6EC66E_C9F8C9_A3E8A3_B4F1B4",290:"6F503E_D59A70_221812_B0A899",291:"705B4B_312821_AF927B_44342C",292:"706962_24211E_BCB6AF_ACA494",293:"713A28_A87661_3A160D_9B6454",294:"714C30_EAD7C5_CC9265_E2B48F",295:"716049_D1C8B9_3F160C_BAA6A9",296:"71623B_ECDE8C_30250A_ABA69A",297:"72625B_F0DFD0_D9BAA5_C3A595",298:"726F5B_A09C88_8B8C7B_94907C",299:"727167_2F2F2B_A3A6A2_44443C",300:"728473_534C40_7BCEC8_7BB9B6",301:"736655_D9D8D5_2F281F_B1AEAB",302:"745359_BFAEA8_9B8384_AC9392",303:"746761_291C19_AB9385_3C2B27",304:"747A6F_292E2A_ACA79F_45453B",305:"74A192_041B0D_194C33_235B4C",306:"75322B_96463F_51201A_3D1814",307:"75723E_C0C3A0_2A1E0E_AFAE77",308:"75746F_333330_A2A1A9_444444",309:"758391_BAC2CA_435263_A1ACBC",310:"763B28_D0BDB8_ADA39E_1E1D1D",311:"763C39_431510_210504_55241C",312:"764739_D0917B_2A1611_B37C68",313:"765938_1F1009_A59C7C_C9A382",314:"766554_C1BEBB_2A1A0E_B4ABAC",315:"76787C_2F3031_A5A9B8_444446",316:"767989_323437_B6C4EE_343C44",317:"771A1F_D2939E_B6595D_9D4B54",318:"773012_AE5124_4D1908_340F04",319:"776045_D2CCC3_281910_BBB5AA",320:"776A5C_BA9A89_302C26_443C34",321:"776C62_292622_474039_3C342C",322:"777C61_333727_BABFA1_A5AC8C",323:"777D7D_BDCAD2_3E3C2E_B1B8B6",324:"787165_DAD9CD_9DC0CE_36302A",325:"7877EE_D87FC5_75D9C7_1C78C0",326:"794E40_361612_4C2A21_441B1B",327:"795038_C2856B_533320_AC7C61",328:"796D6B_DED3CB_C6BAB1_ADA09B",329:"796F52_36413A_C9B48C_B6A77F",330:"797367_302E29_ABA3A0_443C35",331:"7A6959_2D271D_C1B5A9_B4A393",332:"7A736F_463F33_575046_4B463D",333:"7A7A7A_D0D0D0_BCBCBC_B4B4B4",334:"7A7A7A_D9D9D9_BCBCBC_B4B4B4",335:"7A7C63_625531_665B3F_5B4B29",336:"7A9196_485C64_425459_C1E4E7",337:"7B5254_E9DCC7_B19986_C8AC91",338:"7B6857_383028_BCA38F_4C3C34",339:"7B6E5B_C5CACC_B1B2AE_322415",340:"7B7E82_343536_A0B1C8_44444C",341:"7C584C_27140D_B3765C_3D2318",342:"7C7C71_353630_ADAFAF_444444",343:"7D6651_F8E3BF_CEA987_E7C29C",344:"7D7673_353230_AEA7B0_4C4444",345:"7DA1BA_A4CCE8_5D7A8B_5E7C94",346:"7E5344_22120E_CCAB9C_8D919D",347:"7E5E57_AD9794_612D1D_C9997D",348:"7E8174_39444D_CECAA7_B3B49B",349:"7F5134_22120A_452110_9F7D5F",350:"7F8896_3B3936_BBCFE9_4B4B4D",351:"803537_310F10_C35A5D_D89093",352:"807068_C3B0AB_443E3B_AC9C94",353:"80726C_DCDBD7_9AA6C2_B7BFCA",354:"808A5B_E0E1D4_2C4304_C5C7B0",355:"80A6B4_D5E9EF_B2D0D9_C1DCE4",356:"80CA23_B7EE37_D5FA4C_A3E434",357:"812828_521818_C94141_AB3737",358:"812E39_551C24_381117_9E3C49",359:"815C41_F6C99A_D39F77_BB9474",360:"815F54_DECBC6_301813_C5A8A0",361:"8194AB_D6DFEB_C0CEDE_B0BFD1",362:"81ADB3_D6ECEE_BFDEE1_AFD1D7",363:"81BABA_D5F3F3_BBE4E4_ABDCDC",364:"825C4D_A08175_97746C_613B2F",365:"826A59_E0C9B9_CBAD99_3D2615",366:"827C87_4F3937_605457_534C4E",367:"834741_4C281D_BE8F8C_AE6A65",368:"835984_39273A_4C334C_593D5A",369:"837667_DCD4C8_C5BAAC_3C2E22",370:"846556_503E33_61493D_5C4434",371:"848679_363630_AABBB7_4B4B44",372:"855D08_DAC31B_BF9B0C_AF860C",373:"85694C_D1A67A_3C2F22_EBBF8F",374:"857B61_ACE5D4_593D28_5B4334",375:"858362_9F9F80_9C9673_70714B",376:"85B9D3_C9EAF9_417277_528789",377:"866C5B_544237_B29B8C_AC8F7C",378:"872F2D_AB403E_682421_581F1C",379:"877B70_34302B_CBB3A4_524C44",380:"877C72_B6ACBB_36322D_4C443B",381:"878787_4C4C4C_646464_5C5C5C",382:"887153_E5C188_433729_C1A484",383:"888D8F_515454_646A6C_6C6C6D",384:"89204B_17080D_DA4377_F780B5",385:"8955D0_744CC4_EA4AEF_954DA4",386:"8A3B3D_DA5F62_461F20_BC7F81",387:"8A3DA1_D77CE4_C263D4_B75AC9",388:"8A5B34_F3BD7C_DA9758_BE7E45",389:"8A6565_2E214D_D48A5F_ADA59C",390:"8A7666_3C332C_C6AEA2_54443C",391:"8A7968_3C342D_C6B3A5_54443B",392:"8B7469_443E39_C7A797_544443",393:"8B795F_291504_EFE5D4_4A3518",394:"8B892C_D4E856_475E2D_47360A",395:"8C5945_D4C0B6_C3A49C_430504",396:"8CAEBC_3A4443_506463_DAEFEF",397:"8D553D_3C2419_5D3727_AA766C",398:"8D8D8D_DDDDDD_CCCCCC_B7B7B7",399:"8E6767_D9C4C4_C8ACAC_B89898",400:"8E7C67_E2C6A5_3B332A_C3AB94",401:"8E907C_B1B5A7_D7DBD0_CCCFBA",402:"8F4277_361530_BF538E_52274C",403:"8F4E20_E8B06B_391A08_CC8944",404:"8F5D3C_5B3B26_382416_70482E",405:"8F7B61_D6B892_4E4436_C3AC86",406:"8F894E_DAD79B_C9C384_C4BE7B",407:"903B2A_EC9888_D96747_58190D",408:"906867_C7B6BC_5D2E26_BEA4A3",409:"908887_3C3229_C7C6D0_554A45",410:"908E8E_292828_454444_595757",411:"909473_555D4B_C2CCA2_645B3C",412:"910E5A_E127C3_CF1CA3_C1158F",413:"926B48_4C2D0D_5F3913_AA8874",414:"927253_EECEA7_D8B792_C7A883",415:"935555_F6DAD9_D39393_593333",416:"936451_C29A8F_5F3A2B_361D14",417:"938C8D_403731_CECED8_554C4C",418:"942967_D292B5_C76E9E_551A4C",419:"945D43_E5AAA0_351F14_CC8B78",420:"94615B_DACED1_C3B9A4_CCABAA",421:"94624F_573529_24110C_733424",422:"9650CA_46236A_7239A6_633492",423:"965146_2B191D_DF7A5C_BFD6E1",424:"96785D_B8A398_63452C_6C5435",425:"975337_EEBE98_4B211C_D88659",426:"977970_E1D9D8_DAC8C1_C4B2AD",427:"98332E_4A100D_691A16_A85A5B",428:"989784_665542_BFECE5_6D644C",429:"9A5A55_31110D_582A24_703C34",430:"9A7467_D2C2BF_662D22_CCB2A5",431:"9AA8B6_313133_4E5055_D7EBF8",432:"9B4816_E8A138_CC7421_DC8827",433:"9B9994_E1E0DB_474643_544C4C",434:"9B9B9B_1E1E1E_5C5C5C_444444",435:"9C5B3B_49200A_E9C8AB_DDAB7D",436:"9CC338_4E671A_799F27_8CAC2C",437:"9D282A_38191D_DFC6CD_D6495A",438:"9D4343_E38989_D37474_CE6C6C",439:"9D602E_E4C363_D5A64F_C38A44",440:"9D7F6E_C6DAD4_6D4C4B_C6BBBC",441:"9D8F84_5D4544_D9D3C9_62555A",442:"9D9D9D_4E4E4E_646464_6C6C6C",443:"9E7C7E_DDCBD0_351D20_683B38",444:"9E9C77_6E6F4E_7C7C54_C7BF96",445:"9F1A27_F1AF7F_CD5845_D08441",446:"9F4738_CE958D_4F0C0A_C0837C",447:"9F7D30_B69F75_B9B7BE_CB9C4D",448:"9F886D_362F25_E8C9A4_5C4C3C",449:"9F9F9F_E4E4E4_D4D4D4_CCCCCC",450:"A05F31_D5C2BC_D9996F_42230E",451:"A0A8B0_424336_E7E9EF_545C5C",452:"A1824F_4A2A06_F7E29F_B3A598",453:"A27216_E9D036_D0AB24_DCB927",454:"A28766_E4D6C3_D6C4AA_CAB598",455:"A3B2A4_3B3E3D_676F6A_535C57",456:"A48DA4_E8DDE8_C9B7C9_D4C2D4",457:"A49994_695244_C4C2CF_76645C",458:"A67362_36150C_5E2E1E_F6C3BF",459:"A84337_611D18_3F110F_7C2A22",460:"A88C77_DAD2C7_623532_956229",461:"A95E4D_57261A_6E3223_773C24",462:"A971A9_E8CBE8_D4A8D4_DCB3DC",463:"A98D6A_F2D3AB_FBE6BE_695332",464:"A9A2A0_2F211C_544440_6D5E5A",465:"AA526C_EAA6C9_DC88AF_D17BA0",466:"AB2C2C_EBB4B3_561212_DE8484",467:"AB2D08_C35E5A_C75522_C56C70",468:"AB54A8_EBAAE9_DF8FDD_D37ED0",469:"AC171C_FA8593_E84854_D3464E",470:"AC725C_2E1610_663E31_E78F6B",471:"AC7F84_78463A_C4AABB_885454",472:"AC8942_432D19_6E4D27_5F3B1C",473:"AC8961_EBDAC3_D1B791_DCC2A0",474:"AD9E81_F1E5CE_6B5C3E_5A492A",475:"ADC2CD_DFF7FA_C9E6F5_C1DBEC",476:"AE9D99_29303B_585F70_875C33",477:"AF986F_CDB489_9C7C5B_7E6C4D",478:"AF987A_2F2416_523F27_6B5331",479:"AF9A72_504718_74652B_E2C2A2",480:"B06932_451B09_7B3E16_150804",481:"B09273_7A573D_C7AF97_84644C",482:"B0A2A8_866A63_E8E9F2_614C4F",483:"B0B0B0_6E6E6E_848484_8C8C8C",484:"B1A395_EFE6E1_635A47_786D5D",485:"B2674B_552913_7C442F_733919",486:"B26F52_4B2E2B_79493A_663B32",487:"B27744_5A2804_F6C488_EBB27D",488:"B38B76_40251D_745042_5F3A30",489:"B3AA93_F4EFD7_E1DDC2_DCD3BB",490:"B47A5B_301E14_704A31_633C23",491:"B4B29D_442D0D_604E2A_736542",492:"B5987E_F8E4DC_6F5939_E9CCBA",493:"B5BBB5_3B4026_6E745D_5C6147",494:"B62D33_E4868B_7E2D34_DD6469",495:"B66D59_F0C9B2_E5B49C_DAA084",496:"B67F6B_4B2E2A_6C3A34_F3DBC6",497:"B6B8B1_994A24_315C81_927963",498:"B76E5E_7F3A2F_EE938C_F8A5A1",499:"B7A763_E6E1CC_554A1E_6C6428",500:"B86137_FBCA6F_6F3C37_040404",501:"B9896A_5B341B_F4CAA3_6C4C2D",502:"B98A6D_7B4F38_D1A68F_8C5B43",503:"B9B37A_F1EED0_E5E4BA_DAD6A8",504:"B9CDD2_775339_958272_7F6A5E",505:"BA472D_CA6E67_C76150_CA6C59",506:"BA5DBA_F2BEF2_E69BE6_DC8CDC",507:"BA864A_5D381E_644422_FBE97A",508:"BA8979_DDCBCA_9A4726_892407",509:"BAADA8_ECE6E7_9A8378_E3DCD3",510:"BC5B43_95170B_EEAC92_DB8C7C",511:"BC928D_F9E2D6_654445_835A51",512:"BD0D0D_970404_7B0404_550404",513:"BD5345_460F11_732622_EDB7B1",514:"BDB466_F3EDC3_E3DD9F_ECE3AA",515:"BE5F5F_F4BDBD_ECA4A4_E29191",516:"BEE2E9_7E6A53_9AA09C_87837E",517:"BF7051_994C2D_E99A7B_DE8C74",518:"BF7745_F5D08E_E5AE6B_ECBC7C",519:"BF8E78_E5CCBF_753E32_4A261E",520:"BFAA83_F5EAD6_E1D0B1_EBDDC0",521:"BFB5A4_DEDCCB_D7D4CC_DCD3C2",522:"C05429_ED6129_94492A_834729",523:"C09E5C_DAD2B9_654429_81582D",524:"C1AA92_AD6E29_737889_CED1D7",525:"C1B3A1_F6EEE5_E1D7C7_ECE4D3",526:"C21338_920C24_E71C54_F34A7D",527:"C28E4E_845119_0B0805_713C0C",528:"C2A391_523728_785741_694836",529:"C2A584_363B41_71665B_8C7367",530:"C2AB7D_4A412E_7A6B4E_F9EDBE",531:"C30C0C_9F0404_830404_5C0404",532:"C33829_48171A_752523_942923",533:"C345EC_5F1DAA_9F31DB_872CCD",534:"C35C04_F9C30C_EE9F04_E08304",535:"C3CCD4_5F3B23_948A7B_A9A49A",536:"C47004_F9D00C_EDAF04_E09704",537:"C4A591_635448_F2D9D5_856D5B",538:"C4C6C6_4D5756_646463_7A8080",539:"C4DEDE_97B5B5_EAF9F9_ABC4C4",540:"C5A292_635247_F2D7D6_846A5B",541:"C5BBB6_F8F4F1_E2DAD6_ECE3DF",542:"C75F55_F8BDA9_EB9484_F4A494",543:"C7938D_E0DBE1_D1BBBC_D5CCCB",544:"C7B9A1_F8F1E4_EEE4D2_E4D8C4",545:"C7C0AC_2E181B_543B30_6B6270",546:"C7C7D7_4C4E5A_818393_6C6C74",547:"C87157_F8CBAE_E9A582_F2B394",548:"C88467_5B3333_875C5A_7A3822",549:"C8AF84_F9ECD7_EFDEBF_E6D1AF",550:"C8C8C8_3F3F3F_787878_5C5C5C",551:"C8D1DC_575B62_818892_6E747B",552:"C98D7F_3B0B0B_A97667_94433F",553:"C99A8B_491B0E_6E4136_8A4D28",554:"C9C7BE_55514B_888279_7B6E5F",555:"CA4FE1_6B2398_A337C7_9334BC",556:"CA8892_F9D7DC_EBB8C0_F3C4CC",557:"CAA094_875343_956255_EADEDC",558:"CAA78A_F9E7D7_EAD0B9_F3DCC3",559:"CAAC80_FAEBD5_F2DEBF_EAD1AF",560:"CAB094_F9ECDD_EFDEC8_E8D4BD",561:"CAB79D_F9F1E3_F1E5D1_E9DAC6",562:"CAE24E_6C9A23_A3C737_B3D43C",563:"CB4934_FB9971_F07554_F68464",564:"CB4E88_F99AD6_F384C3_ED75B9",565:"CB5E3B_FABC7A_EF965E_F4A46C",566:"CB7146_551D0F_7C270D_E5AB9C",567:"CB7846_753C22_AB5C32_B46C3C",568:"CB919B_F9DDE1_ECC0C8_F4CCD4",569:"CBCBCB_595959_8C8C8C_747474",570:"CC7C5F_A15436_B26346_AF5C3C",571:"CC9A7E_8A5249_C06A3E_DADADA",572:"CCC5C9_3B2B2B_67585B_7F7375",573:"CCF6FA_9DD9EB_82C5D9_ACD4E4",574:"CDC3B8_5A3F3C_67545A_8D7769",575:"CDCBC8_444342_696765_81807E",576:"CE8C15_EAC79B_DDAB57_F9C962",577:"CE8F3D_F0D2B0_F3C77D_E6B278",578:"CEB299_6B5C4C_887564_746355",579:"D04444_AF2F2F_8B2424_9B2C2C",580:"D07E3F_FBBD1F_8D2840_24120C",581:"D0CCCB_524D50_928891_727581",582:"D0D3BE_816854_998366_685146",583:"D1AC04_F8E50A_EDD004_B38D04",584:"D3CAAB_8C866E_C0B89A_AEA68A",585:"D4855F_92512D_AE6742_A75C2C",586:"D54C2B_5F1105_F39382_F08375",587:"D5B5B4_9E6C6F_F5E9EF_A57986",588:"D5D5D5_929292_ACACAC_B4B4B4",589:"D64480_E27497_EA9BB1_CD156F",590:"D7D7C3_AAAA92_F5F5EA_BCBCA4",591:"D7DFDB_AAB5AF_F5FAF7_BCC4C4",592:"D8388B_230A14_FCC8FC_FC71E1",593:"D8C949_F5F19E_6B7855_9A9858",594:"D8D8E5_9D9DAF_B4B4C4_B4B4CC",595:"DA5788_DE94BD_E078A3_DD83B4",596:"DBDBBB_F7F7E4_AFAF89_C4C49C",597:"DC3E04_B52604_FC7D20_F85F04",598:"DE9261_86361E_A85A37_944C2C",599:"DEDEC4_B5B597_F9F9EA_C4C4AB",600:"DEE3E8_A6AEB5_BCC4CC_BCC4C4",601:"DEE8DE_A6B5A6_BCCCBC_BCC4BC",602:"DEE8E8_A6B5B5_BCCCCC_BAC4C4",603:"DFD9C2_B5AE92_F9F7EA_C4C4A4",604:"DFDBB7_F9F8E3_B5AF86_BCBC8C",605:"DFDFCA_4D2D07_6B5224_857145",606:"DFDFD6_58544E_81766A_989288",607:"E1E1D4_777C7B_9FA19A_898F8D",608:"E1E1E0_363636_989897_747472",609:"E2D3BC_867255_B39E7F_96836C",610:"E2E2E7_AEAEB5_C4C4CC_C4C4C4",611:"E42E12_F35132_F86949_B71B0A",612:"E5DED7_AFA69D_C4BCB4_C3BAAB",613:"E6BF3C_5A4719_977726_FCFC82",614:"E6E3E3_B5AFAF_CCC4C4_C4C4C4",615:"E6E6E6_AAAAAA_C4C4C4_CCCCCC",616:"E7632F_FBA06B_BB2905_FB865E",617:"E7E2D8_B1AA9D_C9C2B3_BCB4AC",618:"E80404_B50404_CB0404_FC3333",619:"E804E8_B504B5_CC04CC_FC33FC",620:"E8DEE1_B5A6AA_CCBCC1_C4BBBC",621:"E8E5DE_B5AFA6_CCC5BC_C4C4BB",622:"E8E8DE_B5B5A6_CCCCBC_C4C4BA",623:"E9CCA1_A63106_DF8C3B_621304",624:"EA783E_6D4830_905837_FCDC6C",625:"EAD8D6_B59A97_CCB4B0_C9ABAB",626:"EAEAEA_B5B5B5_CCCCCC_D4D4D4",627:"EAEAEA_B6B6B6_CCCCCC_C4C4C4",628:"ED4630_791A0E_A42716_501009",629:"ED5087_FAC3D0_1C0B0C_FC84CC",630:"ED7F04_FCD60E_7E2D04_B73E04",631:"EDED06_B5B504_CCCC04_D4D404",632:"EE4128_FC8E82_9A0704_BF0F05",633:"EEECFB_BFB6D5_D0C8EB_CCC4DC",634:"F0D504_FBFAD3_B98609_CDA204",635:"F75F0B_461604_9A3004_FB9D2F",636:"F77777_FBE1E1_FAB2B2_FBC4C4",637:"F79686_FCCBD4_E76644_E76B56",638:"F9E6C7_FCF7DF_EDD3AA_F1D4B4",639:"FBB43F_FBE993_FB552E_FCDD65",640:"FBB82D_FBEDBF_FBDE7D_FB7E05"};function We(e){switch(e){case 64:return"-64px";case 128:return"-128px";case 256:return"-256px";case 512:return"-512px";default:return""}}var Xe="https://rawcdn.githack.com/emmelleppi/matcaps/9b36ccaaf0a24881a39062d05566c9e92be4aa0d",qe=He[0];function Ye(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,n=Object(h.useMemo)((function(){return Object.keys(He).length}),[]),r=Object(h.useMemo)((function(){return"string"===typeof e?e:"number"===typeof e?He[e]:null}),[e]),i=""+(r||qe)+We(t)+".png",a=Xe+"/"+t+"/"+i,o=Ne(a);return[o,a,n]}},function(e,t,n){e.exports=n(89)},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";t.a=function(e,t){if(!e)throw new Error("Invariant failed")}},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return x})),n.d(t,"b",(function(){return S})),n.d(t,"d",(function(){return C})),n.d(t,"c",(function(){return m})),n.d(t,"f",(function(){return v})),n.d(t,"e",(function(){return p}));var r=n(3);function i(e){return"/"===e.charAt(0)}function a(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var o=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],o=t&&t.split("/")||[],s=e&&i(e),u=t&&i(t),l=s||u;if(e&&i(e)?o=r:r.length&&(o.pop(),o=o.concat(r)),!o.length)return"/";if(o.length){var c=o[o.length-1];n="."===c||".."===c||""===c}else n=!1;for(var d=0,h=o.length;h>=0;h--){var f=o[h];"."===f?a(o,h):".."===f?(a(o,h),d++):d&&(a(o,h),d--)}if(!l)for(;d--;d)o.unshift("..");!l||""===o[0]||o[0]&&i(o[0])||o.unshift("");var p=o.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p};function s(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var u=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"===typeof t||"object"===typeof n){var r=s(t),i=s(n);return r!==t||i!==n?e(r,i):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1},l=n(23);function c(e){return"/"===e.charAt(0)?e:"/"+e}function d(e){return"/"===e.charAt(0)?e.substr(1):e}function h(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function f(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function p(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function m(e,t,n,i){var a;"string"===typeof e?(a=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var a=t.indexOf("?");return-1!==a&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e)).state=t:(void 0===(a=Object(r.a)({},e)).pathname&&(a.pathname=""),a.search?"?"!==a.search.charAt(0)&&(a.search="?"+a.search):a.search="",a.hash?"#"!==a.hash.charAt(0)&&(a.hash="#"+a.hash):a.hash="",void 0!==t&&void 0===a.state&&(a.state=t));try{a.pathname=decodeURI(a.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+a.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(a.key=n),i?a.pathname?"/"!==a.pathname.charAt(0)&&(a.pathname=o(a.pathname,i.pathname)):a.pathname=i.pathname:a.pathname||(a.pathname="/"),a}function v(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&u(e.state,t.state)}function g(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var a="function"===typeof e?e(t,n):e;"string"===typeof a?"function"===typeof r?r(a,i):i(!0):i(!1!==a)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var y=!("undefined"===typeof window||!window.document||!window.document.createElement);function b(e,t){t(window.confirm(e))}function _(){try{return window.history.state||{}}catch(e){return{}}}function x(e){void 0===e&&(e={}),y||Object(l.a)(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)}(),i=!(-1===window.navigator.userAgent.indexOf("Trident")),a=e,o=a.forceRefresh,s=void 0!==o&&o,u=a.getUserConfirmation,d=void 0===u?b:u,v=a.keyLength,x=void 0===v?6:v,w=e.basename?f(c(e.basename)):"";function M(e){var t=e||{},n=t.key,r=t.state,i=window.location,a=i.pathname+i.search+i.hash;return w&&(a=h(a,w)),m(a,r,n)}function E(){return Math.random().toString(36).substr(2,x)}var A=g();function S(e){Object(r.a)(N,e),N.length=t.length,A.notifyListeners(N.location,N.action)}function T(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||R(M(e.state))}function C(){R(M(_()))}var D=!1;function R(e){if(D)D=!1,S();else{A.confirmTransitionTo(e,"POP",d,(function(t){t?S({action:"POP",location:e}):function(e){var t=N.location,n=k.indexOf(t.key);-1===n&&(n=0);var r=k.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(D=!0,L(i))}(e)}))}}var I=M(_()),k=[I.key];function O(e){return w+p(e)}function L(e){t.go(e)}var P=0;function B(e){1===(P+=e)&&1===e?(window.addEventListener("popstate",T),i&&window.addEventListener("hashchange",C)):0===P&&(window.removeEventListener("popstate",T),i&&window.removeEventListener("hashchange",C))}var F=!1;var N={length:t.length,action:"POP",location:I,createHref:O,push:function(e,r){var i=m(e,r,E(),N.location);A.confirmTransitionTo(i,"PUSH",d,(function(e){if(e){var r=O(i),a=i.key,o=i.state;if(n)if(t.pushState({key:a,state:o},null,r),s)window.location.href=r;else{var u=k.indexOf(N.location.key),l=k.slice(0,u+1);l.push(i.key),k=l,S({action:"PUSH",location:i})}else window.location.href=r}}))},replace:function(e,r){var i=m(e,r,E(),N.location);A.confirmTransitionTo(i,"REPLACE",d,(function(e){if(e){var r=O(i),a=i.key,o=i.state;if(n)if(t.replaceState({key:a,state:o},null,r),s)window.location.replace(r);else{var u=k.indexOf(N.location.key);-1!==u&&(k[u]=i.key),S({action:"REPLACE",location:i})}else window.location.replace(r)}}))},go:L,goBack:function(){L(-1)},goForward:function(){L(1)},block:function(e){void 0===e&&(e=!1);var t=A.setPrompt(e);return F||(B(1),F=!0),function(){return F&&(F=!1,B(-1)),t()}},listen:function(e){var t=A.appendListener(e);return B(1),function(){B(-1),t()}}};return N}var w={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+d(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:d,decodePath:c},slash:{encodePath:c,decodePath:c}};function M(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function E(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function A(e){window.location.replace(M(window.location.href)+"#"+e)}function S(e){void 0===e&&(e={}),y||Object(l.a)(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),i=n.getUserConfirmation,a=void 0===i?b:i,o=n.hashType,s=void 0===o?"slash":o,u=e.basename?f(c(e.basename)):"",d=w[s],v=d.encodePath,_=d.decodePath;function x(){var e=_(E());return u&&(e=h(e,u)),m(e)}var S=g();function T(e){Object(r.a)(G,e),G.length=t.length,S.notifyListeners(G.location,G.action)}var C=!1,D=null;function R(){var e,t,n=E(),r=v(n);if(n!==r)A(r);else{var i=x(),o=G.location;if(!C&&(t=i,(e=o).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(D===p(i))return;D=null,function(e){if(C)C=!1,T();else{S.confirmTransitionTo(e,"POP",a,(function(t){t?T({action:"POP",location:e}):function(e){var t=G.location,n=L.lastIndexOf(p(t));-1===n&&(n=0);var r=L.lastIndexOf(p(e));-1===r&&(r=0);var i=n-r;i&&(C=!0,P(i))}(e)}))}}(i)}}var I=E(),k=v(I);I!==k&&A(k);var O=x(),L=[p(O)];function P(e){t.go(e)}var B=0;function F(e){1===(B+=e)&&1===e?window.addEventListener("hashchange",R):0===B&&window.removeEventListener("hashchange",R)}var N=!1;var G={length:t.length,action:"POP",location:O,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=M(window.location.href)),n+"#"+v(u+p(e))},push:function(e,t){var n=m(e,void 0,void 0,G.location);S.confirmTransitionTo(n,"PUSH",a,(function(e){if(e){var t=p(n),r=v(u+t);if(E()!==r){D=t,function(e){window.location.hash=e}(r);var i=L.lastIndexOf(p(G.location)),a=L.slice(0,i+1);a.push(t),L=a,T({action:"PUSH",location:n})}else T()}}))},replace:function(e,t){var n=m(e,void 0,void 0,G.location);S.confirmTransitionTo(n,"REPLACE",a,(function(e){if(e){var t=p(n),r=v(u+t);E()!==r&&(D=t,A(r));var i=L.indexOf(p(G.location));-1!==i&&(L[i]=t),T({action:"REPLACE",location:n})}}))},go:P,goBack:function(){P(-1)},goForward:function(){P(1)},block:function(e){void 0===e&&(e=!1);var t=S.setPrompt(e);return N||(F(1),N=!0),function(){return N&&(N=!1,F(-1)),t()}},listen:function(e){var t=S.appendListener(e);return F(1),function(){F(-1),t()}}};return G}function T(e,t,n){return Math.min(Math.max(e,t),n)}function C(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,i=t.initialEntries,a=void 0===i?["/"]:i,o=t.initialIndex,s=void 0===o?0:o,u=t.keyLength,l=void 0===u?6:u,c=g();function d(e){Object(r.a)(_,e),_.length=_.entries.length,c.notifyListeners(_.location,_.action)}function h(){return Math.random().toString(36).substr(2,l)}var f=T(s,0,a.length-1),v=a.map((function(e){return m(e,void 0,"string"===typeof e?h():e.key||h())})),y=p;function b(e){var t=T(_.index+e,0,_.entries.length-1),r=_.entries[t];c.confirmTransitionTo(r,"POP",n,(function(e){e?d({action:"POP",location:r,index:t}):d()}))}var _={length:v.length,action:"POP",location:v[f],index:f,entries:v,createHref:y,push:function(e,t){var r=m(e,t,h(),_.location);c.confirmTransitionTo(r,"PUSH",n,(function(e){if(e){var t=_.index+1,n=_.entries.slice(0);n.length>t?n.splice(t,n.length-t,r):n.push(r),d({action:"PUSH",location:r,index:t,entries:n})}}))},replace:function(e,t){var r=m(e,t,h(),_.location);c.confirmTransitionTo(r,"REPLACE",n,(function(e){e&&(_.entries[_.index]=r,d({action:"REPLACE",location:r}))}))},go:b,goBack:function(){b(-1)},goForward:function(){b(1)},canGo:function(e){var t=_.index+e;return t>=0&&t<_.entries.length},block:function(e){return void 0===e&&(e=!1),c.setPrompt(e)},listen:function(e){return c.appendListener(e)}};return _}},function(e,t,n){"use strict";var r=n(11);n.d(t,"Globals",(function(){return r}));n(14)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(1),i="undefined"!==typeof window&&window.document&&window.document.createElement?r.useLayoutEffect:r.useEffect},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(40);function i(e,t){if(e){if("string"===typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(11),i=n(2),a=function e(t,n,a){if(i.d.fun(t))return t;if(i.d.arr(t))return e({range:t,output:n,extrapolate:a});if(i.d.str(t.output[0]))return r.createStringInterpolator(t);var o=t,s=o.output,u=o.range||[0,1],l=o.extrapolateLeft||o.extrapolate||"extend",c=o.extrapolateRight||o.extrapolate||"extend",d=o.easing||function(e){return e};return function(e){var t=function(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}(e,u);return function(e,t,n,r,i,a,o,s,u){var l=u?u(e):e;if(l<t){if("identity"===o)return l;"clamp"===o&&(l=t)}if(l>n){if("identity"===s)return l;"clamp"===s&&(l=n)}if(r===i)return r;if(t===n)return e<=t?r:i;t===-1/0?l=-l:n===1/0?l-=t:l=(l-t)/(n-t);l=a(l),r===-1/0?l=-l:i===1/0?l+=r:l=l*(i-r)+r;return l}(e,u[t],u[t+1],s[t],s[t+1],d,l,c,o.map)}}},function(e,t,n){"use strict";t.a=function(e){return function(t){e.forEach((function(e){"function"===typeof e?e(t):null!=e&&(e.current=t)}))}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return o}));var r=n(1),i=function(e){return Object(r.useEffect)(e,[])},a=function(){var e=Object(r.useState)(0)[1],t=Object(r.useRef)(!1);return i((function(){return function(){t.current=!0}})),function(){t.current||e({})}};function o(e){var t=Object(r.useRef)(void 0);return Object(r.useEffect)((function(){t.current=e})),t.current}},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}}(),e.exports=n(74)},function(e,t,n){"use strict";function r(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(l){return void n(l)}s.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function s(e){r(o,i,a,s,u,"next",e)}function u(e){r(o,i,a,s,u,"throw",e)}s(void 0)}))}}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(34),i=n(46);function a(e,t,n){return(a=Object(i.a)()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var a=new(Function.bind.apply(e,i));return n&&Object(r.a)(a,n.prototype),a}).apply(null,arguments)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(28);function i(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=Object(r.a)(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a,o=!0,s=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==i.return||i.return()}finally{if(s)throw a}}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(12);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a}));var r=n(11),i=function(e){return(0,r.requestAnimationFrame)(e)},a=function(e){void 0===e&&(e=i);var t=!0,n=!1,a=0,s=[],u=0,l=new Set,c=new Set,d=new Set,h=function(e){var t=s.indexOf(e);t<0&&(t=s.findIndex((function(t){return t.priority>e.priority})),s.splice(~t?t:s.length,0,e))},f=function n(){if(!t)try{v(),e(n)}catch(r){console.error(r)}},p=function(){t&&(t=!1,0==a&&(a=r.now(),e(f)))},m=[];this.setTimeout=function(e,t){var n=r.now()+t,i=o(m,(function(e){return e.time>n})),a={time:n,handler:e,cancel:function e(){var t=m.findIndex((function(t){return t.cancel==e}));t>=0&&m.splice(t,1)}};return m.splice(i,0,a),p(),a};var v=this.advance=function(){var e=r.now();if(l.size&&(l.forEach(h),l.clear()),m.length&&r.batchedUpdates((function(){var t=o(m,(function(t){return t.time>e}));m.splice(0,t).forEach((function(e){return e.handler()}))})),e>a){var t=Math.min(64,e-a);a=e,r.batchedUpdates((function(){s.length&&(r.willAdvance(s),s=s.filter((function(e){return u=e.priority,e.idle||e.advance(t),!e.idle})),u=0),c.size&&(c.forEach((function(t){return t(e)})),c.clear()),d.size&&(n=!0,d.forEach((function(t){return t(e)})),d.clear(),n=!1)}))}};this.start=function(e){u>e.priority?l.add(e):(h(e),p())},this.onFrame=function(e){c.add(e),p()},this.onWrite=function(e){n?e(a):d.add(e)}};function o(e,t){var n=e.findIndex(t);return n<0?e.length:n}}).call(this,n(90))},function(e,t,n){e.exports=n(92)()},function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";e.exports=n(79)},function(e,t,n){"use strict";n.d(t,"a",(function(){return D}));var r=n(7),i=n(9),a=n(4),o=n(5),s=n(6),u=n(10),l=n(26),c=n(52);n.o(c,"useTransition")&&n.d(t,"useTransition",(function(){return c.useTransition}));var d=n(32),h=n(48),f=n(67),p=n(15),m=n(2),v=n(14),g=/^--/;function y(e,t){return null==t||"boolean"===typeof t||""===t?"":"number"!==typeof t||0===t||g.test(e)||_.hasOwnProperty(e)&&_[e]?(""+t).trim():t+"px"}var b={};var _={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},x=["Webkit","Ms","Moz","O"];_=Object.keys(_).reduce((function(e,t){return x.forEach((function(n){return e[function(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}(n,t)]=e[t]})),e}),_);var w=/^(matrix|translate|scale|rotate|skew)/,M=/^(translate)/,E=/^(rotate|skew)/,A=function(e,t){return m.d.num(e)&&0!==e?e+t:e},S=function e(t,n){return m.d.arr(t)?t.every((function(t){return e(t,n)})):m.d.num(t)?t===n:parseFloat(t)===n},T=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){Object(a.a)(this,n);var r=e.x,o=e.y,s=e.z,l=Object(u.a)(e,["x","y","z"]),c=[],d=[];return(r||o||s)&&(c.push([r||0,o||0,s||0]),d.push((function(e){return["translate3d("+e.map((function(e){return A(e,"px")})).join(",")+")",S(e,0)]}))),Object(m.b)(l,(function(e,t){if("transform"===t)c.push([e||""]),d.push((function(e){return[e,""===e]}));else if(w.test(t)){if(delete l[t],m.d.und(e))return;var n=M.test(t)?"px":E.test(t)?"deg":"";c.push(Object(m.h)(e)),d.push("rotate3d"===t?function(e){var t=Object(i.a)(e,4),r=t[0],a=t[1],o=t[2],s=t[3];return["rotate3d("+r+","+a+","+o+","+A(s,n)+")",S(s,0)]}:function(e){return[t+"("+e.map((function(e){return A(e,n)})).join(",")+")",S(e,t.startsWith("scale")?1:0)]})}})),c.length&&(l.transform=new C(c,d)),t.call(this,l)}return n}(p.b),C=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e,r){var i;return Object(a.a)(this,n),(i=t.call(this)).inputs=e,i.transforms=r,i._value=null,i._children=new Set,i}return Object(r.a)(n,[{key:"get",value:function(){return this._value||(this._value=this._get())}},{key:"_get",value:function(){var e=this,t="",n=!0;return Object(m.b)(this.inputs,(function(r,a){var o=Object(v.c)(r[0]),s=e.transforms[a](m.d.arr(o)?o:r.map(v.c)),u=Object(i.a)(s,2),l=u[0],c=u[1];t+=" "+l,n=n&&c})),n?"none":t}},{key:"addChild",value:function(e){var t=this;this._children.size||Object(m.b)(this.inputs,(function(e){return Object(m.b)(e,(function(e){var n=Object(v.b)(e);n&&n.addChild(t)}))})),this._children.add(e)}},{key:"removeChild",value:function(e){var t=this;this._children.delete(e),this._children.size||Object(m.b)(this.inputs,(function(e){return Object(m.b)(e,(function(e){var n=Object(v.b)(e);n&&n.removeChild(t)}))}))}},{key:"onParentChange",value:function(e){"change"==e.type&&(this._value=null),Object(m.b)(this._children,(function(t){t.onParentChange(e)}))}}]),n}(v.a);l.Globals.assign({colorNames:f.a,createStringInterpolator:h.a,batchedUpdates:d.unstable_batchedUpdates});var D=Object(p.e)(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],{applyAnimatedValues:function(e,t){if(!e.nodeType||!e.setAttribute)return!1;var n="filter"===e.nodeName||e.parentNode&&"filter"===e.parentNode.nodeName,r=t,i=r.style,a=r.children,o=r.scrollTop,s=r.scrollLeft,c=Object(u.a)(r,["style","children","scrollTop","scrollLeft"]),d=Object.values(c),h=Object.keys(c).map((function(t){return n||e.hasAttribute(t)?t:b[t]||(b[t]=t.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()})))}));l.Globals.frameLoop.onWrite((function(){for(var t in void 0!==a&&(e.textContent=a),i)if(i.hasOwnProperty(t)){var n=y(t,i[t]);"float"===t?t="cssFloat":g.test(t)?e.style.setProperty(t,n):e.style[t]=n}h.forEach((function(t,n){e.setAttribute(t,d[n])})),void 0!==o&&(e.scrollTop=o),void 0!==s&&(e.scrollLeft=s)}))},createAnimatedStyle:function(e){return new T(e)},getComponentProps:function(e){return Object(u.a)(e,["scrollTop","scrollLeft"])}}).animated},function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function o(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,s,u=o(e),l=1;l<arguments.length;l++){for(var c in n=Object(arguments[l]))i.call(n,c)&&(u[c]=n[c]);if(r){s=r(n);for(var d=0;d<s.length;d++)a.call(n,s[d])&&(u[s[d]]=n[s[d]])}}return u}},function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};var i=n(14),a=n(29),o="[-+]?\\d*\\.?\\d+";function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}var u=new RegExp("rgb"+s(o,o,o)),l=new RegExp("rgba"+s(o,o,o,o)),c=new RegExp("hsl"+s(o,"[-+]?\\d*\\.?\\d+%","[-+]?\\d*\\.?\\d+%")),d=new RegExp("hsla"+s(o,"[-+]?\\d*\\.?\\d+%","[-+]?\\d*\\.?\\d+%",o)),h=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,f=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,p=/^#([0-9a-fA-F]{6})$/,m=/^#([0-9a-fA-F]{8})$/,v=n(11);function g(e,t,n){var r=(1-Math.abs(2*n-1))*t,i=n-r/2,a=function(e,t,n){return e<60?[t,n,0]:e<120?[n,t,0]:e<180?[0,t,n]:e<240?[0,n,t]:e<300?[n,0,t]:[t,0,n]}(e,r,r*(1-Math.abs(e/60%2-1))),o=a[0],s=a[1],u=a[2];return Math.round(255*(o+i))<<24|Math.round(255*(s+i))<<16|Math.round(255*(u+i))<<8}function y(e){var t=parseInt(e,10);return t<0?0:t>255?255:t}function b(e){return(parseFloat(e)%360+360)%360/360}function _(e){var t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function x(e){var t=parseFloat(e);return t<0?0:t>100?1:t/100}function w(e){var t=function(e){var t;return"number"===typeof e?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=p.exec(e))?parseInt(t[1]+"ff",16)>>>0:v.colorNames&&void 0!==v.colorNames[e]?v.colorNames[e]:(t=u.exec(e))?(y(t[1])<<24|y(t[2])<<16|y(t[3])<<8|255)>>>0:(t=l.exec(e))?(y(t[1])<<24|y(t[2])<<16|y(t[3])<<8|_(t[4]))>>>0:(t=h.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=m.exec(e))?parseInt(t[1],16)>>>0:(t=f.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=c.exec(e))?(255|g(b(t[1]),x(t[2]),x(t[3])))>>>0:(t=d.exec(e))?(g(b(t[1]),x(t[2]),x(t[3]))|_(t[4]))>>>0:null}(e);return null===t?e:"rgba("+((4278190080&(t=t||0))>>>24)+", "+((16711680&t)>>>16)+", "+((65280&t)>>>8)+", "+(255&t)/255+")"}var M,E=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,A=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,S=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,T=function(e,t,n,r,i){return"rgba("+Math.round(t)+", "+Math.round(n)+", "+Math.round(r)+", "+i+")"},C=function(e){M||(M=v.colorNames?new RegExp("("+Object.keys(v.colorNames).join("|")+")","g"):/^\b$/);var t=e.output.map((function(e){return Object(i.c)(e).replace(A,w).replace(M,w)})),n=t.map((function(e){return e.match(E).map(Number)})),o=n[0].map((function(e,t){return n.map((function(e){if(!(t in e))throw Error('The arity of each "output" value must be equal');return e[t]}))})).map((function(t){return Object(a.a)(r(r({},e),{output:t}))}));return function(e){var n=0;return t[0].replace(E,(function(){return String(o[n++](e))})).replace(S,T)}}},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",(function(){return a}));var i=n(18);function a(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?Object(i.a)(e):t}},,function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.d(t,"useTransition",(function(){return Se}));var r=n(18),i=n(9),a=n(21),o=n.n(a),s=n(16),u=n(13),l=n(7),c=n(5),d=n(6),h=n(70),f=n(33),p=n(36),m=n(4),v=n(19),g=n(27),y=n(2),b=n(14),_=n(26),x=n(31),w=n(29),M=n(3),E=n(1),A=n(15),S=n(11),T=n(54),C=n(55),D=n(10),R=n(48);var I=Object(M.a)(Object(M.a)({},{tension:170,friction:26}),{},{mass:1,damping:1,easing:function(e){return e},clamp:!1}),k=function e(){Object(m.a)(this,e),this.tension=void 0,this.friction=void 0,this.frequency=void 0,this.damping=void 0,this.mass=void 0,this.velocity=0,this.restVelocity=void 0,this.precision=void 0,this.progress=void 0,this.duration=void 0,this.easing=void 0,this.clamp=void 0,this.bounce=void 0,this.decay=void 0,this.round=void 0,Object.assign(this,I)};function O(e,t){if(y.d.und(t.decay)){var n=!y.d.und(t.tension)||!y.d.und(t.friction);!n&&y.d.und(t.frequency)&&y.d.und(t.damping)&&y.d.und(t.mass)||(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}else e.duration=void 0}var L=[],P=function e(){Object(m.a)(this,e),this.changed=!1,this.values=L,this.toValues=null,this.fromValues=L,this.to=void 0,this.from=void 0,this.config=new k,this.immediate=!1,this.onStart=void 0,this.onChange=void 0,this.onRest=[]},B=function(e,t){return Object(T.b)(e,t||[{}])};function F(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return y.d.fun(e)?e.apply(void 0,n):e}var N=function(e,t){return!0===e||!!(t&&e&&(y.d.fun(e)?e(t):Object(y.h)(e).includes(t)))},G=function(e,t,n){return e&&(y.d.fun(e)?e(t,n):y.d.arr(e)?e[t]:Object(M.a)({},e))},j=function(e,t){return!0===e.default?e[t]:e.default?e.default[t]:void 0},U=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=z;e.default&&!0!==e.default&&(e=e.default,r=Object.keys(e));var i,a=Object(p.a)(r);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=e[o];y.d.und(s)||t.includes(o)||(n[o]=s)}}catch(u){a.e(u)}finally{a.f()}return n},z=["pause","cancel","config","immediate","onDelayEnd","onProps","onStart","onChange","onRest"],V={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onDelayEnd:1,onProps:1,onStart:1,onChange:1,onRest:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,keys:1,callId:1,parentId:1};function H(e){var t=function(e){var t={},n=0;if(Object(y.b)(e,(function(e,r){V[r]||(t[r]=e,n++)})),n)return t}(e);if(t){var n={to:t};return Object(y.b)(e,(function(e,r){return r in t||(n[r]=e)})),n}return Object(M.a)({},e)}function W(e){var t=Object(b.b)(e);return t?W(t.get()):y.d.arr(e)?e.map(W):Object(y.e)(e)?Object(S.createStringInterpolator)({range:[0,1],output:[e,e]})(1):e}function X(e,t){var n=t.key,r=t.props,i=t.state,a=t.actions;return new Promise((function(t,o){var s,u,l=!1,c=N(r.cancel,n);function d(){i.resumeQueue.add(h),u.cancel(),s=u.time-_.Globals.now()}function h(){s>0?(i.pauseQueue.add(d),u=_.Globals.frameLoop.setTimeout(f,s)):f()}function f(){i.pauseQueue.delete(d),e<=(i.cancelId||0)&&(c=!0);try{a.start(Object(M.a)(Object(M.a)({},r),{},{callId:e,delay:s,cancel:c,pause:l}),t)}catch(n){o(n)}}c?f():(s=F(r.delay||0,n),(l=N(r.pause,n))?(i.resumeQueue.add(h),a.pause()):(a.resume(),h()))}))}var q=function(e,t){return 1==t.length?t[0]:t.some((function(e){return e.cancelled}))?Z(e):t.every((function(e){return e.noop}))?Y(e):Q(e,t.every((function(e){return e.finished})))},Y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.get();return{value:t,noop:!0,finished:!0,target:e}},Q=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.get();return{value:n,finished:t,target:e}},Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.get();return{value:t,cancelled:!0,target:e}};function K(e,t,n,r){return J.apply(this,arguments)}function J(){return(J=Object(f.a)(o.a.mark((function e(t,n,r,i){var a,s,u,l,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.pause){e.next=3;break}return e.next=3,new Promise((function(e){r.resumeQueue.add(e)}));case 3:if(a=n.callId,s=n.parentId,u=n.onRest,l=r.asyncTo,c=r.promise,s||t!==l||n.reset){e.next=7;break}return e.abrupt("return",c);case 7:return e.abrupt("return",r.promise=Object(f.a)(o.a.mark((function e(){var d,h,m,v,g,b,_,x;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.asyncId=a,r.asyncTo=t,d=U(n,["onRest"]),v=new Promise((function(e,t){return h=e,m=t})),g=function(e){var t=a<=(r.cancelId||0)&&Z(i)||a!==r.asyncId&&Q(i,!1);if(t)throw e.result=t,e},b=function(e){return function(){var t=function(e){throw e instanceof ee&&m(e),e};try{return e.apply(void 0,arguments).catch(t)}catch(n){t(n)}}}((function(e,t){var n=new ee;g(n);var s=y.d.obj(e)?Object(M.a)({},e):Object(M.a)(Object(M.a)({},t),{},{to:e});return s.parentId=a,Object(y.b)(d,(function(e,t){y.d.und(s[t])&&(s[t]=e)})),i.start(s).then(function(){var e=Object(f.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g(n),!i.is("PAUSED")){e.next=4;break}return e.next=4,new Promise((function(e){r.resumeQueue.add(e)}));case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})),e.prev=7,y.d.arr(t)?x=function(){var e=Object(f.a)(o.a.mark((function e(t){var n,r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object(p.a)(t),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,b(i);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})));return function(t){return e.apply(this,arguments)}}()(t):y.d.fun(t)&&(x=Promise.resolve(t(b,i.stop.bind(i)))),e.next=11,Promise.all([x.then(h),v]);case 11:_=Q(i,!0),e.next=21;break;case 14:if(e.prev=14,e.t0=e.catch(7),!(e.t0 instanceof ee)){e.next=20;break}_=e.t0.result,e.next=21;break;case 20:throw e.t0;case 21:return e.prev=21,a==r.asyncId&&(r.asyncId=s,r.asyncTo=s?l:void 0,r.promise=s?c:void 0),e.finish(21);case 24:return y.d.fun(u)&&Object(S.batchedUpdates)((function(){u(_)})),e.abrupt("return",_);case 26:case"end":return e.stop()}}),e,null,[[7,14,21,24]])})))());case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(e,t){e.cancelId=t,e.asyncId=e.asyncTo=e.promise=void 0}var ee=function(e){Object(c.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(m.a)(this,n),(e=t.call(this,"An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")).result=void 0,e}return n}(Object(h.a)(Error)),te=function(e){return e instanceof re},ne=1,re=function(e){Object(c.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(m.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).id=ne++,e.key=void 0,e._priority=0,e._children=new Set,e}return Object(l.a)(n,[{key:"priority",get:function(){return this._priority},set:function(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}},{key:"get",value:function(){var e=Object(A.f)(this);return e&&e.getValue()}},{key:"to",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(S.to)(this,t)}},{key:"interpolate",value:function(){Object(C.a)();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(S.to)(this,t)}},{key:"addChild",value:function(e){this._children.size||this._attach(),this._children.add(e)}},{key:"removeChild",value:function(e){this._children.delete(e),this._children.size||this._detach()}},{key:"onParentChange",value:function(e){var t=e.type;this.idle?"start"==t&&(this._reset(),this._start()):"reset"==t&&this._reset()}},{key:"_attach",value:function(){}},{key:"_detach",value:function(){}},{key:"_reset",value:function(){this._emit({type:"reset",parent:this})}},{key:"_start",value:function(){this._emit({type:"start",parent:this})}},{key:"_onChange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._emit({type:"change",parent:this,value:e,idle:t})}},{key:"_onPriorityChange",value:function(e){this.idle||S.frameLoop.start(this),this._emit({type:"priority",parent:this,priority:e})}},{key:"_emit",value:function(e){Object(y.b)(Array.from(this._children),(function(t){t.onParentChange(e)}))}}]),n}(b.a),ie="ACTIVE",ae=function(e){Object(c.a)(n,e);var t=Object(d.a)(n);function n(e,r){var i;if(Object(m.a)(this,n),(i=t.call(this)).key=void 0,i.animation=new P,i.queue=void 0,i._phase="CREATED",i._state={pauseQueue:new Set,resumeQueue:new Set},i._defaultProps={},i._lastCallId=0,i._lastToId=0,!y.d.und(e)||!y.d.und(r)){var a=y.d.obj(e)?Object(M.a)({},e):Object(M.a)(Object(M.a)({},r),{},{from:e});a.default=!0,i.start(a)}return i}return Object(l.a)(n,[{key:"idle",get:function(){return!this.is(ie)&&!this._state.asyncTo}},{key:"goal",get:function(){return Object(b.c)(this.animation.to)}},{key:"velocity",get:function(){var e=Object(A.f)(this);return e instanceof A.d?e.lastVelocity||0:e.getPayload().map((function(e){return e.lastVelocity||0}))}},{key:"advance",value:function(e){var t=this,n=!0,r=!1,i=this.animation,a=i.config,o=i.toValues,s=Object(A.g)(i.to);if(!s){var u=Object(b.b)(i.to);u&&(o=Object(y.h)(u.get()))}return i.values.forEach((function(u,l){if(!u.done){var c=s?s[l].lastPosition:o[l],d=i.immediate,h=c;if(!d){if(h=u.lastPosition,a.tension<=0)return void(u.done=!0);var f,p=u.elapsedTime+=e,m=i.fromValues[l],v=null!=u.v0?u.v0:u.v0=y.d.arr(a.velocity)?a.velocity[l]:a.velocity;if(y.d.und(a.duration))if(a.decay){var g=!0===a.decay?.998:a.decay,b=Math.exp(-(1-g)*p);h=m+v/(1-g)*(1-b),d=Math.abs(u.lastPosition-h)<.1,f=v*b}else{f=null==u.lastVelocity?v:u.lastVelocity;for(var _=a.precision||(m==c?.005:Math.min(1,.001*Math.abs(c-m))),x=a.restVelocity||_/10,w=a.clamp?0:a.bounce,M=!y.d.und(w),E=m==c?u.v0>0:m<c,A=Math.ceil(e/1),S=0;S<A&&(Math.abs(f)>x||!(d=Math.abs(c-h)<=_));++S){M&&(h==c||h>c==E)&&(f=-f*w,h=c),h+=1*(f+=1*((1e-6*-a.tension*(h-c)+.001*-a.friction*f)/a.mass))}}else{var T=a.progress||0;a.duration<=0?T=1:T+=(1-T)*Math.min(1,p/a.duration),f=((h=m+a.easing(T)*(c-m))-u.lastPosition)/e,d=1==T}u.lastVelocity=f,Number.isNaN(h)&&(console.warn("Got NaN while animating:",t),d=!0)}s&&!s[l].done&&(d=!1),d?u.done=!0:n=!1,u.setValue(h,a.round)&&(r=!0)}})),n?this.finish():r&&this._onChange(this.get()),n}},{key:"is",value:function(e){return this._phase==e}},{key:"set",value:function(e){var t=this;return Object(S.batchedUpdates)((function(){if(t._focus(e),t._set(e)&&!t.is(ie))return t._onChange(t.get(),!0);t._stop()})),this}},{key:"pause",value:function(){oe(this,"pause"),this.is("PAUSED")||(this._phase="PAUSED",Object(y.c)(this._state.pauseQueue,(function(e){return e()})))}},{key:"resume",value:function(){oe(this,"resume"),this.is("PAUSED")&&(this._start(),Object(y.c)(this._state.resumeQueue,(function(e){return e()})))}},{key:"finish",value:function(e){var t=this;if(this.resume(),this.is(ie)){var n=this.animation;!n.config.decay&&y.d.und(e)&&(e=n.to),y.d.und(e)||this._set(e),Object(S.batchedUpdates)((function(){n.changed||(n.changed=!0,n.onStart&&n.onStart(t)),t._stop()}))}return this}},{key:"update",value:function(e){return oe(this,"update"),(this.queue||(this.queue=[])).push(e),this}},{key:"start",value:function(){var e=Object(f.a)(o.a.mark((function e(t,n){var r,i,a=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return oe(this,"start"),y.d.und(t)?(r=this.queue||[],this.queue=[]):r=[y.d.obj(t)?t:Object(M.a)(Object(M.a)({},n),{},{to:t})],e.next=4,Promise.all(r.map((function(e){return a._update(e)})));case 4:return i=e.sent,e.abrupt("return",q(this,i));case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"stop",value:function(e){var t=this;return this.is("DISPOSED")||($(this._state,this._lastCallId),this._focus(this.get()),Object(S.batchedUpdates)((function(){return t._stop(e)}))),this}},{key:"reset",value:function(){this._update({reset:!0})}},{key:"dispose",value:function(){this.is("DISPOSED")||(this.animation&&(this.animation.onRest=[]),this.stop(),this._phase="DISPOSED")}},{key:"onParentChange",value:function(e){Object(s.a)(Object(u.a)(n.prototype),"onParentChange",this).call(this,e),"change"==e.type?this.is(ie)||(this._reset(),this.is("PAUSED")||this._start()):"priority"==e.type&&(this.priority=e.priority+1)}},{key:"_prepareNode",value:function(e){var t=e.to,n=e.from,r=e.reverse,i=this.key||"",a={to:t=!y.d.obj(t)||Object(b.b)(t)?t:t[i],from:n=!y.d.obj(n)||Object(b.b)(n)?n:n[i]};if(this.is("CREATED")){if(r){var o=[n,t];t=o[0],n=o[1]}n=Object(b.c)(n);var s=this._updateNode(y.d.und(n)?Object(b.c)(t):n);s&&!y.d.und(n)&&s.setValue(n)}return a}},{key:"_updateNode",value:function(e){var t=Object(A.f)(this);if(!y.d.und(e)){var n=this._getNodeType(e);t&&t.constructor===n||Object(A.h)(this,t=n.create(e))}return t}},{key:"_getNodeType",value:function(e){var t=Object(A.f)(e);return t?t.constructor:y.d.arr(e)?A.a:Object(y.e)(e)?A.c:A.d}},{key:"_update",value:function(e,t){var n=this,r=this._defaultProps,i=function(t){var n=j(e,t);y.d.und(n)||(r[t]=n),r[t]&&(e[t]=r[t])};i("cancel"),i("pause");var a=this._prepareNode(e);return X(++this._lastCallId,{key:this.key,props:e,state:this._state,actions:{pause:this.pause.bind(this),resume:this.resume.bind(this),start:this._merge.bind(this,a)}}).then((function(r){if(e.loop&&r.finished&&(!t||!r.noop)){var i=le(e);if(i)return n._update(i,!0)}return r}))}},{key:"_merge",value:function(e,t,n){if(t.cancel)return this.stop(!0),n(Z(this));var r=this.key,i=this.animation,a=this._defaultProps,o=!y.d.und(e.to),s=!y.d.und(e.from);if(o||s){if(!(t.callId>this._lastToId))return n(Z(this));this._lastToId=t.callId}var u=function(e){return y.d.und(t[e])?a[e]:t[e]},l=se(u("onDelayEnd"),r);l&&l(t,this),t.default&&function(e,t,n){U(t,n,e)}(a,t,["pause","cancel"]);var c=i.to,d=i.from,h=e.to,f=void 0===h?c:h,p=e.from,m=void 0===p?d:p;if(s&&!o&&(f=m),t.reverse){var v=[m,f];f=v[0],m=v[1]}var g=!Object(y.f)(m,d);g&&(i.from=m);var _=!Object(y.f)(f,c);_&&this._focus(f);var x=Object(b.b)(f),w=Object(b.b)(m);w&&(m=w.get());var E=y.d.arr(t.to)||y.d.fun(t.to),T=i.config,C=T.decay,D=T.velocity;t.config&&!E&&function(e,t,n){for(var r in n&&(O(n=Object(M.a)({},n),t),t=Object(M.a)(Object(M.a)({},n),t)),O(e,t),Object.assign(e,t),I)null==e[r]&&(e[r]=I[r]);var i=e.mass,a=e.frequency,o=e.damping;y.d.und(a)||(a<.01&&(a=.01),o<0&&(o=0),e.tension=Math.pow(2*Math.PI/a,2)*i,e.friction=4*Math.PI*o*i/a)}(T,F(t.config,r),t.config!==a.config?F(a.config,r):void 0);var R=Object(A.f)(this);if(!R||y.d.und(f))return n(Q(this,!0));var k=y.d.und(t.reset)?s&&!t.default:!y.d.und(m)&&N(t.reset,r),L=k?m:this.get(),P=W(f),B=y.d.num(P)||y.d.arr(P)||Object(y.e)(P),G=!E&&(!B||N(a.immediate||t.immediate,r));if(_)if(G)R=this._updateNode(P);else{var j=this._getNodeType(f);if(j!==R.constructor)throw Error("Cannot animate between "+R.constructor.name+" and "+j.name+', as the "to" prop suggests')}var z=R.constructor,V=!!x,H=!1;if(!V){var X=k||this.is("CREATED")&&g;(_||X)&&(V=!(H=Object(y.f)(W(L),P))),Object(y.f)(T.decay,C)&&Object(y.f)(T.velocity,D)||(V=!0)}if(H&&this.is(ie)&&(i.changed&&!k?V=!0:V||this._stop()),!E){(V||Object(b.b)(c))&&(i.values=R.getPayload(),i.toValues=x?null:z==A.c?[1]:Object(y.h)(P)),i.immediate=G,i.onStart=se(u("onStart"),r),i.onChange=se(u("onChange"),r);var q=i.onRest,J=k&&!t.onRest?q[0]||y.g:ue(se(u("onRest"),r),this);if(V){i.onRest=[J,ue(n,this)];var $=k?0:1;$<q.length&&Object(S.batchedUpdates)((function(){for(;$<q.length;$++)q[$]()}))}else(k||t.onRest)&&(i.onRest[0]=J)}var ee=se(u("onProps"),r);ee&&ee(t,this),k&&R.setValue(L),E?n(K(t.to,t,this._state,this)):V?(k&&(this._phase="IDLE"),this._reset(),this._start()):this.is(ie)&&!_?i.onRest.push(ue(n,this)):n(Y(this,L))}},{key:"_focus",value:function(e){var t=this.animation;if(e!==t.to){var n=Object(b.b)(t.to);n&&n.removeChild(this),t.to=e;var r=0;(n=Object(b.b)(e))&&(n.addChild(this),te(e)&&(r=(e.priority||0)+1)),this.priority=r}}},{key:"_set",value:function(e){var t=Object(b.b)(e);t&&(e=t.get());var n=Object(A.f)(this),r=n&&n.getValue();return n?n.setValue(e):this._updateNode(e),!Object(y.f)(e,r)}},{key:"_onChange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.animation;r.changed||t||(r.changed=!0,r.onStart&&r.onStart(this)),r.onChange&&r.onChange(e,this),Object(s.a)(Object(u.a)(n.prototype),"_onChange",this).call(this,e,t)}},{key:"_reset",value:function(){var e=this.animation;Object(A.f)(this).reset(e.to),this.is(ie)||(e.changed=!1),e.immediate||(e.fromValues=e.values.map((function(e){return e.lastPosition}))),Object(s.a)(Object(u.a)(n.prototype),"_reset",this).call(this)}},{key:"_start",value:function(){this.is(ie)||(this._phase=ie,Object(s.a)(Object(u.a)(n.prototype),"_start",this).call(this),S.skipAnimation?this.finish():S.frameLoop.start(this))}},{key:"_stop",value:function(e){if(this.resume(),this.is(ie)){this._phase="IDLE",this._onChange(this.get(),!0);var t=this.animation;Object(y.b)(t.values,(function(e){e.done=!0}));var n=t.onRest;n.length&&(t.onRest=[t.toValues?y.g:n[0]],t.changed||(n[0]=y.g),Object(y.b)(n,(function(t){return t(e)})))}}}]),n}(re);function oe(e,t){if(e.is("DISPOSED"))throw Error('Cannot call "'+t+'" of disposed "'+e.constructor.name+'" object')}function se(e,t){return y.d.fun(e)?e:t&&e?e[t]:void 0}var ue=function(e,t){var n=t.animation.to;return e?function(r){if(r)e(Z(t));else{var i=W(n),a=W(t.get()),o=Object(y.f)(a,i);e(Q(t,o))}}:y.g};function le(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.loop,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.to,r=F(t);if(r){var i=!0!==r&&H(r),a=(i||e).reverse,o=!i||i.reset;return ce(Object(M.a)(Object(M.a)({},e),{},{loop:t,default:!1,to:!a||y.d.arr(n)||y.d.fun(n)?n:void 0,from:o?e.from:void 0,reset:o},i))}}function ce(e){var t=e=H(e),n=t.to,r=t.from,i=new Set;return r?de(r,i):delete e.from,y.d.obj(n)?de(n,i):n||delete e.to,e.keys=i.size?Array.from(i):null,e}function de(e,t){Object(y.b)(e,(function(e,n){return null!=e&&t.add(n)}))}var he=["onStart","onChange","onRest"],fe=1,pe=function(){function e(t,n){Object(m.a)(this,e),this.id=fe++,this.springs={},this.queue=[],this._flush=void 0,this._initialProps=void 0,this._phase="CREATED",this._lastAsyncId=0,this._active=new Set,this._state={pauseQueue:new Set,resumeQueue:new Set},this._events={onStart:new Set,onChange:new Set,onRest:new Map},this._onFrame=this._onFrame.bind(this),n&&(this._flush=n),t&&this.start(t)}return Object(l.a)(e,[{key:"idle",get:function(){return!this._state.asyncTo&&Object.values(this.springs).every((function(e){return e.idle}))}},{key:"is",value:function(e){return this._phase==e}},{key:"get",value:function(){var e={};return this.each((function(t,n){return e[n]=t.get()})),e}},{key:"update",value:function(e){return e&&this.queue.push(ce(e)),this}},{key:"start",value:function(e){var t=e?Object(y.h)(e).map(ce):this.queue;return e||(this.queue=[]),this._flush?this._flush(this,t):(_e(this,t),me(this,t))}},{key:"stop",value:function(e){if(y.d.und(e))this.each((function(e){return e.stop()})),$(this._state,this._lastAsyncId);else{var t=this.springs;Object(y.b)(Object(y.h)(e),(function(e){return t[e].stop()}))}return this}},{key:"pause",value:function(e){if(y.d.und(e))this.each((function(e){return e.pause()}));else{var t=this.springs;Object(y.b)(Object(y.h)(e),(function(e){return t[e].pause()}))}return this}},{key:"resume",value:function(e){if(y.d.und(e))this.each((function(e){return e.resume()}));else{var t=this.springs;Object(y.b)(Object(y.h)(e),(function(e){return t[e].resume()}))}return this}},{key:"reset",value:function(){return this.each((function(e){return e.reset()})),this}},{key:"each",value:function(e){Object(y.b)(this.springs,e)}},{key:"dispose",value:function(){this._state.asyncTo=void 0,this.each((function(e){return e.dispose()})),this.springs={}}},{key:"_onFrame",value:function(){var e=this,t=this._events,n=t.onStart,r=t.onChange,a=t.onRest,o=this._active.size>0;o&&this._phase!=ie&&(this._phase=ie,Object(y.c)(n,(function(t){return t(e)})));var s=(r.size||!o&&a.size)&&this.get();Object(y.c)(r,(function(e){return e(s)})),o||(this._phase="IDLE",Object(y.c)(a,(function(e){var t=Object(i.a)(e,2),n=t[0],r=t[1];r.value=s,n(r)})))}},{key:"onParentChange",value:function(e){"change"==e.type&&(this._active[e.idle?"delete":"add"](e.parent),S.frameLoop.onFrame(this._onFrame))}}]),e}();function me(e,t){return Promise.all(t.map((function(t){return function e(t,n,r){var i=n.to,a=n.loop,o=n.onRest;a&&(n.loop=!1);var s=y.d.arr(i)||y.d.fun(i)?i:void 0;s?(n.to=void 0,n.onRest=void 0):Object(y.b)(he,(function(e){var r=n[e];if(y.d.fun(r)){var i=t._events[e];i instanceof Set?n[e]=function(){return i.add(r)}:n[e]=function(e){var t=e.finished,n=e.cancelled,a=i.get(r);a?(t||(a.finished=!1),n&&(a.cancelled=!0)):i.set(r,{value:null,finished:t,cancelled:n})}}}));var u=(n.keys||Object.keys(t.springs)).map((function(e){return t.springs[e].start(n)})),l=t._state;s?u.push(X(++t._lastAsyncId,{props:n,state:l,actions:{pause:y.g,resume:y.g,start:function(e,n){e.onRest=o,e.cancel?function(e,t){return!y.d.und(j(e,t))}(e,"cancel")&&$(l,e.callId):n(K(s,e,l,t))}}})):n.keys||!0!==n.cancel||$(l,t._lastAsyncId);return Promise.all(u).then((function(o){var s=q(t,o);if(a&&s.finished&&(!r||!s.noop)){var u=le(n,a,i);if(u)return _e(t,[u]),e(t,u,!0)}return s}))}(e,t)}))).then((function(t){return q(e,t)}))}function ve(e,t){var n=Object(M.a)({},e.springs);return t&&Object(y.b)(Object(y.h)(t),(function(e){y.d.und(e.keys)&&(e=ce(e)),y.d.obj(e.to)||(e=Object(M.a)(Object(M.a)({},e),{},{to:void 0})),be(n,e,(function(e){return ye(e)}))})),n}function ge(e,t){Object(y.b)(t,(function(t,n){e.springs[n]||(e.springs[n]=t,t.addChild(e))}))}function ye(e,t){var n=new ae;return n.key=e,t&&n.addChild(t),n}function be(e,t,n){t.keys&&Object(y.b)(t.keys,(function(r){(e[r]||(e[r]=n(r)))._prepareNode(t)}))}function _e(e,t){Object(y.b)(t,(function(t){be(e.springs,t,(function(t){return ye(t,e)}))}))}var xe=Object(E.createContext)({}),we=function(e){var t=e.children,n=Object(D.a)(e,["children"]),r=Object(E.useContext)(xe);n=B((function(){return Object(M.a)(Object(M.a)({},r),n)}),[r,n.pause,n.cancel,n.immediate,n.config]);var i=xe.Provider;return Object(E.createElement)(i,{value:n},t)};we.Provider=xe.Provider,we.Consumer=xe.Consumer;var Me=function(){return Object(E.useContext)(xe)},Ee=function(e){return{get controllers(){return e()},update:function(t){return Object(y.b)(e(),(function(e,n){e.update(G(t,n,e))})),this},start:function(t){return Object(f.a)(o.a.mark((function n(){var r;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all(e().map((function(e,n){var r=G(t,n,e);return e.start(r)})));case 2:return r=n.sent,n.abrupt("return",{value:r.map((function(e){return e.value})),finished:r.every((function(e){return e.finished}))});case 4:case"end":return n.stop()}}),n)})))()},stop:function(t){return Object(y.b)(e(),(function(e){return e.stop(t)}))},pause:function(t){return Object(y.b)(e(),(function(e){return e.pause(t)}))},resume:function(t){return Object(y.b)(e(),(function(e){return e.resume(t)}))}}};var Ae="enter";function Se(e,t,n){var r=t.ref,i=t.reset,a=t.sort,o=t.trail,s=void 0===o?0:o,u=t.expires,l=void 0===u||u,c=Object(y.h)(e),d=[],h=Te(c,t),f=Object(E.useRef)(null),p=i?null:f.current;Object(g.a)((function(){f.current=d})),Object(x.b)((function(){return function(){return Object(y.b)(f.current,(function(e){e.expired&&clearTimeout(e.expirationId),e.ctrl.dispose()}))}}));var m=[];if(p&&Object(y.b)(p,(function(e,t){e.expired?clearTimeout(e.expirationId):~(t=m[t]=h.indexOf(e.key))&&(d[t]=e)})),Object(y.b)(c,(function(e,t){d[t]||(d[t]={key:h[t],item:e,phase:"mount",ctrl:new pe})})),m.length){var v=-1;Object(y.b)(m,(function(e,n){var r=p[n];~e?(v=d.indexOf(r),d[v]=Object(M.a)(Object(M.a)({},r),{},{item:c[e]})):t.leave&&d.splice(++v,0,r)}))}y.d.fun(a)&&d.sort((function(e,t){return a(e.item,t.item)}));var b=-s,_=Object(x.a)(),w=U(t),A=new Map;Object(y.b)(d,(function(e,n){var r,i,a=e.key,o=e.phase;if("mount"==o)r=t.enter,i=Ae;else{var u=h.indexOf(a)<0;if("leave"!=o)if(u)r=t.leave,i="leave";else{if(!(r=t.update))return;i="update"}else{if(u)return;r=t.enter,i=Ae}}if(r=F(r,e.item,n),!(r=y.d.obj(r)?H(r):{to:r}).config){var c=t.config||w.config;r.config=F(c,e.item,n)}var d=Object(M.a)(Object(M.a)({},w),{},{delay:b+=s,reset:!1},r);if(i==Ae&&y.d.und(d.from)){var m=y.d.und(t.initial)||p?t.from:t.initial;d.from=F(m,e.item,n)}var v=d.onRest;d.onRest=function(e){var t=f.current,n=t.find((function(e){return e.key===a}));if(n)if(y.d.fun(v)&&v(e,n),e.cancelled&&"update"!=n.phase)n.phase=o;else if(n.ctrl.idle){var r=t.every((function(e){return e.ctrl.idle}));if("leave"==n.phase){var i=F(l,n.item);if(!1!==i){var s=!0===i?0:i;if(n.expired=!0,!r&&s>0)return void(s<=2147483647&&(n.expirationId=setTimeout(_,s)))}}r&&t.some((function(e){return e.expired}))&&_()}};var g=ve(e.ctrl,d);A.set(e,{phase:i,springs:g,payload:d})}));var S=Me();Object(g.a)((function(){Object(y.b)(d,(function(e){e.ctrl.start({default:S})}))}),[S]);var T=Object(E.useMemo)((function(){return Ee((function(){return f.current.map((function(e){return e.ctrl}))}))}),[]);Object(E.useImperativeHandle)(r,(function(){return T})),Object(g.a)((function(){Object(y.b)(A,(function(e,t){var n=e.phase,i=e.springs,a=e.payload;ge(t.ctrl,i),S.cancel||(t.phase=n,n==Ae&&t.ctrl.start({default:S}),t.ctrl[r?"update":"start"](a))}))}),i?void 0:n);var C=function(e){return Object(E.createElement)(E.Fragment,null,d.map((function(t,n){var r=(A.get(t)||t.ctrl).springs,i=e(Object(M.a)({},r),t.item,t,n);return i&&i.type?Object(E.createElement)(i.type,Object(M.a)({},i.props,{key:y.d.str(t.key)||y.d.num(t.key)?t.key:t.ctrl.id,ref:i.ref})):i})))};return 3==arguments.length?[C,T.start,T.stop]:C}function Te(e,t){var n=t.key,r=t.keys,i=void 0===r?n:r;return y.d.und(i)?e:y.d.fun(i)?e.map(i):Object(y.h)(i)}var Ce=function(e){Object(c.a)(n,e);var t=Object(d.a)(n);function n(e,i){var a;Object(m.a)(this,n),(a=t.call(this)).source=e,a.key=void 0,a.idle=!0,a.calc=void 0,a.calc=w.a.apply(void 0,Object(v.a)(i));var o=a._get(),s=y.d.arr(o)?A.a:A.d;return Object(A.h)(Object(r.a)(a),s.create(o)),a}return Object(l.a)(n,[{key:"advance",value:function(e){var t=this._get(),n=this.get();Object(y.f)(t,n)||(Object(A.f)(this).setValue(t),this._onChange(t,this.idle))}},{key:"_get",value:function(){var e=y.d.arr(this.source)?this.source.map((function(e){return e.get()})):Object(y.h)(this.source.get());return this.calc.apply(this,Object(v.a)(e))}},{key:"_reset",value:function(){Object(y.b)(Object(A.g)(this),(function(e){return e.reset()})),Object(s.a)(Object(u.a)(n.prototype),"_reset",this).call(this)}},{key:"_start",value:function(){this.idle=!1,Object(s.a)(Object(u.a)(n.prototype),"_start",this).call(this),S.skipAnimation?(this.idle=!0,this.advance()):S.frameLoop.start(this)}},{key:"_attach",value:function(){var e=this,t=!0,n=1;Object(y.b)(Object(y.h)(this.source),(function(r){te(r)&&(r.idle||(t=!1),n=Math.max(n,r.priority+1)),r.addChild(e)})),this.priority=n,t||(this._reset(),this._start())}},{key:"_detach",value:function(){var e=this;Object(y.b)(Object(y.h)(this.source),(function(t){t.removeChild(e)})),this.idle=!0}},{key:"onParentChange",value:function(e){"start"==e.type?this.advance():"change"==e.type?this.idle?this.advance():e.idle&&(this.idle=Object(y.h)(this.source).every((function(e){return!1!==e.idle})),this.idle&&(this.advance(),Object(y.b)(Object(A.g)(this),(function(e){e.done=!0})))):"priority"==e.type&&(this.priority=Object(y.h)(this.source).reduce((function(e,t){return Math.max(e,(t.priority||0)+1)}),0)),Object(s.a)(Object(u.a)(n.prototype),"onParentChange",this).call(this,e)}}]),n}(re);_.Globals.assign({createStringInterpolator:R.a,to:function(e,t){return new Ce(e,t)}})},function(e,t){function n(e,t,n){var r,i,a,o,s;function u(){var l=Date.now()-o;l<t&&l>=0?r=setTimeout(u,t-l):(r=null,n||(s=e.apply(a,i),a=i=null))}null==t&&(t=100);var l=function(){a=this,i=arguments,o=Date.now();var l=n&&!r;return r||(r=setTimeout(u,t)),l&&(s=e.apply(a,i),a=i=null),s};return l.clear=function(){r&&(clearTimeout(r),r=null)},l.flush=function(){r&&(s=e.apply(a,i),a=i=null,clearTimeout(r),r=null)},l}n.debounce=n,e.exports=n},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}));var r=n(1);function i(e,t){var n=Object(r.useState)((function(){return{inputs:t,result:e()}}))[0],i=Object(r.useRef)(!0),a=Object(r.useRef)(n),o=i.current||Boolean(t&&a.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,a.current.inputs))?a.current:{inputs:t,result:e()};return Object(r.useEffect)((function(){i.current=!1,a.current=o}),[o]),o.result}function a(e,t){return i((function(){return e}),t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=!1;function i(){r||(r=!0,console.warn('react-spring: The "interpolate" function is deprecated in v10 (use "to" instead)'))}},function(e,t,n){"use strict";(function(e){var r=n(1),i=n.n(r),a=n(24),o=n(39),s=n.n(o),u="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:{};function l(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var c=i.a.createContext||function(e,t){var n,i,o="__create-react-context-"+function(){var e="__global_unique_id__";return u[e]=(u[e]||0)+1}()+"__",c=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).emitter=l(t.props.value),t}Object(a.a)(n,e);var r=n.prototype;return r.getChildContext=function(){var e;return(e={})[o]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,i=e.value;((a=r)===(o=i)?0!==a||1/a===1/o:a!==a&&o!==o)?n=0:(n="function"===typeof t?t(r,i):1073741823,0!==(n|=0)&&this.emitter.set(e.value,n))}var a,o},r.render=function(){return this.props.children},n}(r.Component);c.childContextTypes=((n={})[o]=s.a.object.isRequired,n);var d=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}Object(a.a)(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?1073741823:t},r.componentDidMount=function(){this.context[o]&&this.context[o].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?1073741823:e},r.componentWillUnmount=function(){this.context[o]&&this.context[o].off(this.onUpdate)},r.getValue=function(){return this.context[o]?this.context[o].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(r.Component);return d.contextTypes=((i={})[o]=s.a.object,i),{Provider:c,Consumer:d}};t.a=c}).call(this,n(51))},function(e,t,n){var r=n(94);e.exports=f,e.exports.parse=a,e.exports.compile=function(e,t){return s(a(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(e,t){for(var n,r=[],a=0,o=0,s="",c=t&&t.delimiter||"/";null!=(n=i.exec(e));){var d=n[0],h=n[1],f=n.index;if(s+=e.slice(o,f),o=f+d.length,h)s+=h[1];else{var p=e[o],m=n[2],v=n[3],g=n[4],y=n[5],b=n[6],_=n[7];s&&(r.push(s),s="");var x=null!=m&&null!=p&&p!==m,w="+"===b||"*"===b,M="?"===b||"*"===b,E=n[2]||c,A=g||y;r.push({name:v||a++,prefix:m||"",delimiter:E,optional:M,repeat:w,partial:x,asterisk:!!_,pattern:A?l(A):_?".*":"[^"+u(E)+"]+?"})}}return o<e.length&&(s+=e.substr(o)),s&&r.push(s),r}function o(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",d(t)));return function(t,i){for(var a="",s=t||{},u=(i||{}).pretty?o:encodeURIComponent,l=0;l<e.length;l++){var c=e[l];if("string"!==typeof c){var d,h=s[c.name];if(null==h){if(c.optional){c.partial&&(a+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(r(h)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var f=0;f<h.length;f++){if(d=u(h[f]),!n[l].test(d))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(d)+"`");a+=(0===f?c.prefix:c.delimiter)+d}}else{if(d=c.asterisk?encodeURI(h).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):u(h),!n[l].test(d))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+d+'"');a+=c.prefix+d}}else a+=c}return a}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function l(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function c(e,t){return e.keys=t,e}function d(e){return e&&e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,a=!1!==n.end,o="",s=0;s<e.length;s++){var l=e[s];if("string"===typeof l)o+=u(l);else{var h=u(l.prefix),f="(?:"+l.pattern+")";t.push(l),l.repeat&&(f+="(?:"+h+f+")*"),o+=f=l.optional?l.partial?h+"("+f+")?":"(?:"+h+"("+f+"))?":h+"("+f+")"}}var p=u(n.delimiter||"/"),m=o.slice(-p.length)===p;return i||(o=(m?o.slice(0,-p.length):o)+"(?:"+p+"(?=$))?"),o+=a?"$":i&&m?"":"(?="+p+"|$)",c(new RegExp("^"+o,d(n)),t)}function f(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return c(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(f(e[i],t,n).source);return c(new RegExp("(?:"+r.join("|")+")",d(n)),t)}(e,t,n):function(e,t,n){return h(a(e,n),t,n)}(e,t,n)}},function(e,t,n){"use strict";e.exports=n(95)},function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"===typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}},i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},a=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e},o=n(78),s=[];e.exports=function(e,t,n){var i,u;void 0===n&&(n=0);try{for(var l=r(s),c=l.next();!c.done;c=l.next()){var d=c.value;if(o(t,d.inputs)){if(Object.prototype.hasOwnProperty.call(d,"error"))throw d.error;if(Object.prototype.hasOwnProperty.call(d,"response"))return d.response;throw d.promise}}}catch(f){i={error:f}}finally{try{c&&!c.done&&(u=l.return)&&u.call(l)}finally{if(i)throw i.error}}var h={promise:e.apply(void 0,a(t)).then((function(e){h.response=e})).catch((function(e){h.error=e})).then((function(){n>0&&setTimeout((function(){var e=s.indexOf(h);-1!==e&&s.splice(e,1)}),n)})),inputs:t};throw s.push(h),h.promise}},function(e,t){function n(){}n.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var r=this;function i(){r.off(e,i),t.apply(n,arguments)}return i._=t,this.on(e,i,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,i=n.length;r<i;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],i=[];if(r&&t)for(var a=0,o=r.length;a<o;a++)r[a].fn!==t&&r[a].fn._!==t&&i.push(r[a]);return i.length?n[e]=i:delete n[e],this}},e.exports=n,e.exports.TinyEmitter=n},function(e,t,n){"use strict";(function(e){var r=n(19),i=n(9),a=n(4),o=n(1),s=n(53);function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{debounce:0,scroll:!1},t=e.debounce,n=e.scroll,r=e.polyfill,u=r||("undefined"===typeof window?function e(){Object(a.a)(this,e)}:window.ResizeObserver);if(!u)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");var h=Object(o.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),p=Object(i.a)(h,2),m=p[0],v=p[1],g=Object(o.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:m}),y=t?"number"===typeof t?t:t.scroll:null,b=t?"number"===typeof t?t:t.resize:null,_=Object(o.useMemo)((function(){var e=function(){if(g.current.element){var e=g.current.element.getBoundingClientRect(),t={left:e.left,top:e.top,width:e.width,height:e.height,bottom:e.bottom,right:e.right,x:e.x,y:e.y};Object.freeze(t),f(g.current.lastBounds,t)||v(g.current.lastBounds=t)}};return[e,b?Object(s.debounce)(e,b):e,y?Object(s.debounce)(e,y):e]}),[v,y,b]),x=Object(i.a)(_,3),w=x[0],M=x[1],E=x[2];function A(){g.current.scrollContainers&&(g.current.scrollContainers.forEach((function(e){return e.removeEventListener("scroll",E,!0)})),g.current.scrollContainers=null),g.current.resizeObserver&&(g.current.resizeObserver.disconnect(),g.current.resizeObserver=null)}function S(){g.current.element&&(g.current.resizeObserver=new u(E),g.current.resizeObserver.observe(g.current.element),n&&g.current.scrollContainers&&g.current.scrollContainers.forEach((function(e){return e.addEventListener("scroll",E,{capture:!0,passive:!0})})))}var T=function(e){e&&e!==g.current.element&&(A(),g.current.element=e,g.current.scrollContainers=d(e),S())};return c(E,Boolean(n)),l(M),Object(o.useEffect)((function(){A(),S()}),[n,E,M]),Object(o.useEffect)((function(){return A}),[]),[T,m,w]}function l(e){Object(o.useEffect)((function(){var t=e;return window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}}),[e])}function c(e,t){Object(o.useEffect)((function(){if(t){var n=e;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),function(){window.removeEventListener("scroll",n,!0)}}}),[e,t])}function d(e){var t=[];if(!e||e===document.body)return t;var n=window.getComputedStyle(e);return[n.overflow,n.overflowX,n.overflowY].some((function(e){return"auto"===e||"scroll"===e}))&&t.push(e),[].concat(t,Object(r.a)(d(e.parentElement)))}var h=["x","y","top","bottom","left","right","width","height"],f=function(e,t){return h.every((function(n){return e[n]===t[n]}))};Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(e,"exports").writable&&(e.exports=u),t.a=u}).call(this,n(80)(e))},function(e,t,n){!function(e,t,n,r){"use strict";var i,a=n.defineWorkerModule({name:"Typr Font Parser",dependencies:[function(){var e=self,t={parse:function(e){var n=t._bin,r=new Uint8Array(e);if("ttcf"==n.readASCII(r,0,4)){var i=4;n.readUshort(r,i),i+=2,n.readUshort(r,i),i+=2;var a=n.readUint(r,i);i+=4;for(var o=[],s=0;s<a;s++){var u=n.readUint(r,i);i+=4,o.push(t._readFont(r,u))}return o}return[t._readFont(r,0)]},_readFont:function(e,n){var r=t._bin,i=n;r.readFixed(e,n),n+=4;var a=r.readUshort(e,n);n+=2,r.readUshort(e,n),n+=2,r.readUshort(e,n),n+=2,r.readUshort(e,n),n+=2;for(var o=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GPOS","GSUB","SVG "],s={_data:e,_offset:i},u={},l=0;l<a;l++){var c=r.readASCII(e,n,4);n+=4,r.readUint(e,n),n+=4;var d=r.readUint(e,n);n+=4;var h=r.readUint(e,n);n+=4,u[c]={offset:d,length:h}}for(l=0;l<o.length;l++){var f=o[l];u[f]&&(s[f.trim()]=t[f.trim()].parse(e,u[f].offset,u[f].length,s))}return s},_tabOffset:function(e,n,r){for(var i=t._bin,a=i.readUshort(e,r+4),o=r+12,s=0;s<a;s++){var u=i.readASCII(e,o,4);o+=4,i.readUint(e,o),o+=4;var l=i.readUint(e,o);if(o+=4,i.readUint(e,o),o+=4,u==n)return l}return 0}};return t._bin={readFixed:function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<8|e[t+3])/65540},readF2dot14:function(e,n){return t._bin.readShort(e,n)/16384},readInt:function(e,n){var r=t._bin.t.uint8;return r[0]=e[n+3],r[1]=e[n+2],r[2]=e[n+1],r[3]=e[n],t._bin.t.int32[0]},readInt8:function(e,n){return t._bin.t.uint8[0]=e[n],t._bin.t.int8[0]},readShort:function(e,n){var r=t._bin.t.uint8;return r[1]=e[n],r[0]=e[n+1],t._bin.t.int16[0]},readUshort:function(e,t){return e[t]<<8|e[t+1]},readUshorts:function(e,n,r){for(var i=[],a=0;a<r;a++)i.push(t._bin.readUshort(e,n+2*a));return i},readUint:function(e,n){var r=t._bin.t.uint8;return r[3]=e[n],r[2]=e[n+1],r[1]=e[n+2],r[0]=e[n+3],t._bin.t.uint32[0]},readUint64:function(e,n){return 4294967296*t._bin.readUint(e,n)+t._bin.readUint(e,n+4)},readASCII:function(e,t,n){for(var r="",i=0;i<n;i++)r+=String.fromCharCode(e[t+i]);return r},readUnicode:function(e,t,n){for(var r="",i=0;i<n;i++){var a=e[t++]<<8|e[t++];r+=String.fromCharCode(a)}return r},_tdec:e.TextDecoder?new e.TextDecoder:null,readUTF8:function(e,n,r){var i=t._bin._tdec;return i&&0==n&&r==e.length?i.decode(e):t._bin.readASCII(e,n,r)},readBytes:function(e,t,n){for(var r=[],i=0;i<n;i++)r.push(e[t+i]);return r},readASCIIArray:function(e,t,n){for(var r=[],i=0;i<n;i++)r.push(String.fromCharCode(e[t+i]));return r}},t._bin.t={buff:new ArrayBuffer(8)},t._bin.t.int8=new Int8Array(t._bin.t.buff),t._bin.t.uint8=new Uint8Array(t._bin.t.buff),t._bin.t.int16=new Int16Array(t._bin.t.buff),t._bin.t.uint16=new Uint16Array(t._bin.t.buff),t._bin.t.int32=new Int32Array(t._bin.t.buff),t._bin.t.uint32=new Uint32Array(t._bin.t.buff),t._lctf={},t._lctf.parse=function(e,n,r,i,a){var o=t._bin,s={},u=n;o.readFixed(e,n),n+=4;var l=o.readUshort(e,n);n+=2;var c=o.readUshort(e,n);n+=2;var d=o.readUshort(e,n);return n+=2,s.scriptList=t._lctf.readScriptList(e,u+l),s.featureList=t._lctf.readFeatureList(e,u+c),s.lookupList=t._lctf.readLookupList(e,u+d,a),s},t._lctf.readLookupList=function(e,n,r){var i=t._bin,a=n,o=[],s=i.readUshort(e,n);n+=2;for(var u=0;u<s;u++){var l=i.readUshort(e,n);n+=2;var c=t._lctf.readLookupTable(e,a+l,r);o.push(c)}return o},t._lctf.readLookupTable=function(e,n,r){var i=t._bin,a=n,o={tabs:[]};o.ltype=i.readUshort(e,n),n+=2,o.flag=i.readUshort(e,n),n+=2;var s=i.readUshort(e,n);n+=2;for(var u=0;u<s;u++){var l=i.readUshort(e,n);n+=2;var c=r(e,o.ltype,a+l);o.tabs.push(c)}return o},t._lctf.numOfOnes=function(e){for(var t=0,n=0;n<32;n++)0!=(e>>>n&1)&&t++;return t},t._lctf.readClassDef=function(e,n){var r=t._bin,i=[],a=r.readUshort(e,n);if(n+=2,1==a){var o=r.readUshort(e,n);n+=2;var s=r.readUshort(e,n);n+=2;for(var u=0;u<s;u++)i.push(o+u),i.push(o+u),i.push(r.readUshort(e,n)),n+=2}if(2==a){var l=r.readUshort(e,n);for(n+=2,u=0;u<l;u++)i.push(r.readUshort(e,n)),n+=2,i.push(r.readUshort(e,n)),n+=2,i.push(r.readUshort(e,n)),n+=2}return i},t._lctf.getInterval=function(e,t){for(var n=0;n<e.length;n+=3){var r=e[n],i=e[n+1];if(e[n+2],r<=t&&t<=i)return n}return-1},t._lctf.readCoverage=function(e,n){var r=t._bin,i={};i.fmt=r.readUshort(e,n),n+=2;var a=r.readUshort(e,n);return n+=2,1==i.fmt&&(i.tab=r.readUshorts(e,n,a)),2==i.fmt&&(i.tab=r.readUshorts(e,n,3*a)),i},t._lctf.coverageIndex=function(e,n){var r=e.tab;if(1==e.fmt)return r.indexOf(n);if(2==e.fmt){var i=t._lctf.getInterval(r,n);if(-1!=i)return r[i+2]+(n-r[i])}return-1},t._lctf.readFeatureList=function(e,n){var r=t._bin,i=n,a=[],o=r.readUshort(e,n);n+=2;for(var s=0;s<o;s++){var u=r.readASCII(e,n,4);n+=4;var l=r.readUshort(e,n);n+=2,a.push({tag:u.trim(),tab:t._lctf.readFeatureTable(e,i+l)})}return a},t._lctf.readFeatureTable=function(e,n){var r=t._bin;r.readUshort(e,n),n+=2;var i=r.readUshort(e,n);n+=2;for(var a=[],o=0;o<i;o++)a.push(r.readUshort(e,n+2*o));return a},t._lctf.readScriptList=function(e,n){var r=t._bin,i=n,a={},o=r.readUshort(e,n);n+=2;for(var s=0;s<o;s++){var u=r.readASCII(e,n,4);n+=4;var l=r.readUshort(e,n);n+=2,a[u.trim()]=t._lctf.readScriptTable(e,i+l)}return a},t._lctf.readScriptTable=function(e,n){var r=t._bin,i=n,a={},o=r.readUshort(e,n);n+=2,a.default=t._lctf.readLangSysTable(e,i+o);var s=r.readUshort(e,n);n+=2;for(var u=0;u<s;u++){var l=r.readASCII(e,n,4);n+=4;var c=r.readUshort(e,n);n+=2,a[l.trim()]=t._lctf.readLangSysTable(e,i+c)}return a},t._lctf.readLangSysTable=function(e,n){var r=t._bin,i={};r.readUshort(e,n),n+=2,i.reqFeature=r.readUshort(e,n),n+=2;var a=r.readUshort(e,n);return n+=2,i.features=r.readUshorts(e,n,a),i},t.CFF={},t.CFF.parse=function(e,n,r){var i=t._bin;(e=new Uint8Array(e.buffer,n,r))[n=0],e[++n],e[++n],e[++n],n++;var a=[];n=t.CFF.readIndex(e,n,a);for(var o=[],s=0;s<a.length-1;s++)o.push(i.readASCII(e,n+a[s],a[s+1]-a[s]));n+=a[a.length-1];var u=[];n=t.CFF.readIndex(e,n,u);var l=[];for(s=0;s<u.length-1;s++)l.push(t.CFF.readDict(e,n+u[s],n+u[s+1]));n+=u[u.length-1];var c=l[0],d=[];n=t.CFF.readIndex(e,n,d);var h=[];for(s=0;s<d.length-1;s++)h.push(i.readASCII(e,n+d[s],d[s+1]-d[s]));if(n+=d[d.length-1],t.CFF.readSubrs(e,n,c),c.CharStrings){n=c.CharStrings,d=[],n=t.CFF.readIndex(e,n,d);var f=[];for(s=0;s<d.length-1;s++)f.push(i.readBytes(e,n+d[s],d[s+1]-d[s]));c.CharStrings=f}if(c.ROS){n=c.FDArray;var p=[];for(n=t.CFF.readIndex(e,n,p),c.FDArray=[],s=0;s<p.length-1;s++){var m=t.CFF.readDict(e,n+p[s],n+p[s+1]);t.CFF._readFDict(e,m,h),c.FDArray.push(m)}n+=p[p.length-1],n=c.FDSelect,c.FDSelect=[];var v=e[n];if(n++,3!=v)throw v;var g=i.readUshort(e,n);for(n+=2,s=0;s<g+1;s++)c.FDSelect.push(i.readUshort(e,n),e[n+2]),n+=3}return c.Encoding&&(c.Encoding=t.CFF.readEncoding(e,c.Encoding,c.CharStrings.length)),c.charset&&(c.charset=t.CFF.readCharset(e,c.charset,c.CharStrings.length)),t.CFF._readFDict(e,c,h),c},t.CFF._readFDict=function(e,n,r){var i;for(var a in n.Private&&(i=n.Private[1],n.Private=t.CFF.readDict(e,i,i+n.Private[0]),n.Private.Subrs&&t.CFF.readSubrs(e,i+n.Private.Subrs,n.Private)),n)-1!=["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(a)&&(n[a]=r[n[a]-426+35])},t.CFF.readSubrs=function(e,n,r){var i=t._bin,a=[];n=t.CFF.readIndex(e,n,a);var o,s=a.length;o=s<1240?107:s<33900?1131:32768,r.Bias=o,r.Subrs=[];for(var u=0;u<a.length-1;u++)r.Subrs.push(i.readBytes(e,n+a[u],a[u+1]-a[u]))},t.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],t.CFF.glyphByUnicode=function(e,t){for(var n=0;n<e.charset.length;n++)if(e.charset[n]==t)return n;return-1},t.CFF.glyphBySE=function(e,n){return n<0||n>255?-1:t.CFF.glyphByUnicode(e,t.CFF.tableSE[n])},t.CFF.readEncoding=function(e,n,r){t._bin;var i=[".notdef"],a=e[n];if(n++,0!=a)throw"error: unknown encoding format: "+a;var o=e[n];n++;for(var s=0;s<o;s++)i.push(e[n+s]);return i},t.CFF.readCharset=function(e,n,r){var i=t._bin,a=[".notdef"],o=e[n];if(n++,0==o)for(var s=0;s<r;s++){var u=i.readUshort(e,n);n+=2,a.push(u)}else{if(1!=o&&2!=o)throw"error: format: "+o;for(;a.length<r;){u=i.readUshort(e,n),n+=2;var l=0;for(1==o?(l=e[n],n++):(l=i.readUshort(e,n),n+=2),s=0;s<=l;s++)a.push(u),u++}}return a},t.CFF.readIndex=function(e,n,r){var i=t._bin,a=i.readUshort(e,n)+1,o=e[n+=2];if(n++,1==o)for(var s=0;s<a;s++)r.push(e[n+s]);else if(2==o)for(s=0;s<a;s++)r.push(i.readUshort(e,n+2*s));else if(3==o)for(s=0;s<a;s++)r.push(16777215&i.readUint(e,n+3*s-1));else if(1!=a)throw"unsupported offset size: "+o+", count: "+a;return(n+=a*o)-1},t.CFF.getCharString=function(e,n,r){var i=t._bin,a=e[n],o=e[n+1],s=(e[n+2],e[n+3],e[n+4],1),u=null,l=null;a<=20&&(u=a,s=1),12==a&&(u=100*a+o,s=2),21<=a&&a<=27&&(u=a,s=1),28==a&&(l=i.readShort(e,n+1),s=3),29<=a&&a<=31&&(u=a,s=1),32<=a&&a<=246&&(l=a-139,s=1),247<=a&&a<=250&&(l=256*(a-247)+o+108,s=2),251<=a&&a<=254&&(l=256*-(a-251)-o-108,s=2),255==a&&(l=i.readInt(e,n+1)/65535,s=5),r.val=null!=l?l:"o"+u,r.size=s},t.CFF.readCharString=function(e,n,r){for(var i=n+r,a=t._bin,o=[];n<i;){var s=e[n],u=e[n+1],l=(e[n+2],e[n+3],e[n+4],1),c=null,d=null;s<=20&&(c=s,l=1),12==s&&(c=100*s+u,l=2),19!=s&&20!=s||(c=s,l=2),21<=s&&s<=27&&(c=s,l=1),28==s&&(d=a.readShort(e,n+1),l=3),29<=s&&s<=31&&(c=s,l=1),32<=s&&s<=246&&(d=s-139,l=1),247<=s&&s<=250&&(d=256*(s-247)+u+108,l=2),251<=s&&s<=254&&(d=256*-(s-251)-u-108,l=2),255==s&&(d=a.readInt(e,n+1)/65535,l=5),o.push(null!=d?d:"o"+c),n+=l}return o},t.CFF.readDict=function(e,n,r){for(var i=t._bin,a={},o=[];n<r;){var s=e[n],u=e[n+1],l=(e[n+2],e[n+3],e[n+4],1),c=null,d=null;if(28==s&&(d=i.readShort(e,n+1),l=3),29==s&&(d=i.readInt(e,n+1),l=5),32<=s&&s<=246&&(d=s-139,l=1),247<=s&&s<=250&&(d=256*(s-247)+u+108,l=2),251<=s&&s<=254&&(d=256*-(s-251)-u-108,l=2),255==s)throw d=i.readInt(e,n+1)/65535,l=5,"unknown number";if(30==s){var h=[];for(l=1;;){var f=e[n+l];l++;var p=f>>4,m=15&f;if(15!=p&&h.push(p),15!=m&&h.push(m),15==m)break}for(var v="",g=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],y=0;y<h.length;y++)v+=g[h[y]];d=parseFloat(v)}s<=21&&(c=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][s],l=1,12==s&&(c=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][u],l=2)),null!=c?(a[c]=1==o.length?o[0]:o,o=[]):o.push(d),n+=l}return a},t.cmap={},t.cmap.parse=function(e,n,r){e=new Uint8Array(e.buffer,n,r),n=0;var i=t._bin,a={};i.readUshort(e,n),n+=2;var o=i.readUshort(e,n);n+=2;var s=[];a.tables=[];for(var u=0;u<o;u++){var l=i.readUshort(e,n);n+=2;var c=i.readUshort(e,n);n+=2;var d=i.readUint(e,n);n+=4;var h="p"+l+"e"+c,f=s.indexOf(d);if(-1==f){var p;f=a.tables.length,s.push(d);var m=i.readUshort(e,d);0==m?p=t.cmap.parse0(e,d):4==m?p=t.cmap.parse4(e,d):6==m?p=t.cmap.parse6(e,d):12==m?p=t.cmap.parse12(e,d):console.log("unknown format: "+m,l,c,d),a.tables.push(p)}if(null!=a[h])throw"multiple tables for one platform+encoding";a[h]=f}return a},t.cmap.parse0=function(e,n){var r=t._bin,i={};i.format=r.readUshort(e,n),n+=2;var a=r.readUshort(e,n);n+=2,r.readUshort(e,n),n+=2,i.map=[];for(var o=0;o<a-6;o++)i.map.push(e[n+o]);return i},t.cmap.parse4=function(e,n){var r=t._bin,i=n,a={};a.format=r.readUshort(e,n),n+=2;var o=r.readUshort(e,n);n+=2,r.readUshort(e,n),n+=2;var s=r.readUshort(e,n);n+=2;var u=s/2;a.searchRange=r.readUshort(e,n),n+=2,a.entrySelector=r.readUshort(e,n),n+=2,a.rangeShift=r.readUshort(e,n),n+=2,a.endCount=r.readUshorts(e,n,u),n+=2*u,n+=2,a.startCount=r.readUshorts(e,n,u),n+=2*u,a.idDelta=[];for(var l=0;l<u;l++)a.idDelta.push(r.readShort(e,n)),n+=2;for(a.idRangeOffset=r.readUshorts(e,n,u),n+=2*u,a.glyphIdArray=[];n<i+o;)a.glyphIdArray.push(r.readUshort(e,n)),n+=2;return a},t.cmap.parse6=function(e,n){var r=t._bin,i={};i.format=r.readUshort(e,n),n+=2,r.readUshort(e,n),n+=2,r.readUshort(e,n),n+=2,i.firstCode=r.readUshort(e,n),n+=2;var a=r.readUshort(e,n);n+=2,i.glyphIdArray=[];for(var o=0;o<a;o++)i.glyphIdArray.push(r.readUshort(e,n)),n+=2;return i},t.cmap.parse12=function(e,n){var r=t._bin,i={};i.format=r.readUshort(e,n),n+=2,n+=2,r.readUint(e,n),n+=4,r.readUint(e,n),n+=4;var a=r.readUint(e,n);n+=4,i.groups=[];for(var o=0;o<a;o++){var s=n+12*o,u=r.readUint(e,s+0),l=r.readUint(e,s+4),c=r.readUint(e,s+8);i.groups.push([u,l,c])}return i},t.glyf={},t.glyf.parse=function(e,t,n,r){for(var i=[],a=0;a<r.maxp.numGlyphs;a++)i.push(null);return i},t.glyf._parseGlyf=function(e,n){var r=t._bin,i=e._data,a=t._tabOffset(i,"glyf",e._offset)+e.loca[n];if(e.loca[n]==e.loca[n+1])return null;var o={};if(o.noc=r.readShort(i,a),a+=2,o.xMin=r.readShort(i,a),a+=2,o.yMin=r.readShort(i,a),a+=2,o.xMax=r.readShort(i,a),a+=2,o.yMax=r.readShort(i,a),a+=2,o.xMin>=o.xMax||o.yMin>=o.yMax)return null;if(o.noc>0){o.endPts=[];for(var s=0;s<o.noc;s++)o.endPts.push(r.readUshort(i,a)),a+=2;var u=r.readUshort(i,a);if(a+=2,i.length-a<u)return null;o.instructions=r.readBytes(i,a,u),a+=u;var l=o.endPts[o.noc-1]+1;for(o.flags=[],s=0;s<l;s++){var c=i[a];if(a++,o.flags.push(c),0!=(8&c)){var d=i[a];a++;for(var h=0;h<d;h++)o.flags.push(c),s++}}for(o.xs=[],s=0;s<l;s++){var f=0!=(2&o.flags[s]),p=0!=(16&o.flags[s]);f?(o.xs.push(p?i[a]:-i[a]),a++):p?o.xs.push(0):(o.xs.push(r.readShort(i,a)),a+=2)}for(o.ys=[],s=0;s<l;s++)f=0!=(4&o.flags[s]),p=0!=(32&o.flags[s]),f?(o.ys.push(p?i[a]:-i[a]),a++):p?o.ys.push(0):(o.ys.push(r.readShort(i,a)),a+=2);var m=0,v=0;for(s=0;s<l;s++)m+=o.xs[s],v+=o.ys[s],o.xs[s]=m,o.ys[s]=v}else{var g;o.parts=[];do{g=r.readUshort(i,a),a+=2;var y={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(o.parts.push(y),y.glyphIndex=r.readUshort(i,a),a+=2,1&g){var b=r.readShort(i,a);a+=2;var _=r.readShort(i,a);a+=2}else b=r.readInt8(i,a),a++,_=r.readInt8(i,a),a++;2&g?(y.m.tx=b,y.m.ty=_):(y.p1=b,y.p2=_),8&g?(y.m.a=y.m.d=r.readF2dot14(i,a),a+=2):64&g?(y.m.a=r.readF2dot14(i,a),a+=2,y.m.d=r.readF2dot14(i,a),a+=2):128&g&&(y.m.a=r.readF2dot14(i,a),a+=2,y.m.b=r.readF2dot14(i,a),a+=2,y.m.c=r.readF2dot14(i,a),a+=2,y.m.d=r.readF2dot14(i,a),a+=2)}while(32&g);if(256&g){var x=r.readUshort(i,a);for(a+=2,o.instr=[],s=0;s<x;s++)o.instr.push(i[a]),a++}}return o},t.GPOS={},t.GPOS.parse=function(e,n,r,i){return t._lctf.parse(e,n,r,i,t.GPOS.subt)},t.GPOS.subt=function(e,n,r){var i=t._bin,a=r,o={};if(o.fmt=i.readUshort(e,r),r+=2,1==n||2==n||3==n||7==n||8==n&&o.fmt<=2){var s=i.readUshort(e,r);r+=2,o.coverage=t._lctf.readCoverage(e,s+a)}if(1==n&&1==o.fmt){var u=i.readUshort(e,r);r+=2;var l=t._lctf.numOfOnes(u);0!=u&&(o.pos=t.GPOS.readValueRecord(e,r,u))}else if(2==n){u=i.readUshort(e,r),r+=2;var c=i.readUshort(e,r);r+=2,l=t._lctf.numOfOnes(u);var d=t._lctf.numOfOnes(c);if(1==o.fmt){o.pairsets=[];var h=i.readUshort(e,r);r+=2;for(var f=0;f<h;f++){var p=a+i.readUshort(e,r);r+=2;var m=i.readUshort(e,p);p+=2;for(var v=[],g=0;g<m;g++){var y=i.readUshort(e,p);p+=2,0!=u&&(E=t.GPOS.readValueRecord(e,p,u),p+=2*l),0!=c&&(A=t.GPOS.readValueRecord(e,p,c),p+=2*d),v.push({gid2:y,val1:E,val2:A})}o.pairsets.push(v)}}if(2==o.fmt){var b=i.readUshort(e,r);r+=2;var _=i.readUshort(e,r);r+=2;var x=i.readUshort(e,r);r+=2;var w=i.readUshort(e,r);for(r+=2,o.classDef1=t._lctf.readClassDef(e,a+b),o.classDef2=t._lctf.readClassDef(e,a+_),o.matrix=[],f=0;f<x;f++){var M=[];for(g=0;g<w;g++){var E=null,A=null;0!=o.valFmt1&&(E=t.GPOS.readValueRecord(e,r,o.valFmt1),r+=2*l),0!=o.valFmt2&&(A=t.GPOS.readValueRecord(e,r,o.valFmt2),r+=2*d),M.push({val1:E,val2:A})}o.matrix.push(M)}}}return o},t.GPOS.readValueRecord=function(e,n,r){var i=t._bin,a=[];return a.push(1&r?i.readShort(e,n):0),n+=1&r?2:0,a.push(2&r?i.readShort(e,n):0),n+=2&r?2:0,a.push(4&r?i.readShort(e,n):0),n+=4&r?2:0,a.push(8&r?i.readShort(e,n):0),n+=8&r?2:0,a},t.GSUB={},t.GSUB.parse=function(e,n,r,i){return t._lctf.parse(e,n,r,i,t.GSUB.subt)},t.GSUB.subt=function(e,n,r){var i=t._bin,a=r,o={};if(o.fmt=i.readUshort(e,r),r+=2,1!=n&&4!=n&&5!=n&&6!=n)return null;if(1==n||4==n||5==n&&o.fmt<=2||6==n&&o.fmt<=2){var s=i.readUshort(e,r);r+=2,o.coverage=t._lctf.readCoverage(e,a+s)}if(1==n){if(1==o.fmt)o.delta=i.readShort(e,r),r+=2;else if(2==o.fmt){var u=i.readUshort(e,r);r+=2,o.newg=i.readUshorts(e,r,u),r+=2*o.newg.length}}else if(4==n){o.vals=[],u=i.readUshort(e,r),r+=2;for(var l=0;l<u;l++){var c=i.readUshort(e,r);r+=2,o.vals.push(t.GSUB.readLigatureSet(e,a+c))}}else if(5==n){if(2==o.fmt){var d=i.readUshort(e,r);r+=2,o.cDef=t._lctf.readClassDef(e,a+d),o.scset=[];var h=i.readUshort(e,r);for(r+=2,l=0;l<h;l++){var f=i.readUshort(e,r);r+=2,o.scset.push(0==f?null:t.GSUB.readSubClassSet(e,a+f))}}}else if(6==n&&3==o.fmt){for(l=0;l<3;l++){u=i.readUshort(e,r),r+=2;for(var p=[],m=0;m<u;m++)p.push(t._lctf.readCoverage(e,a+i.readUshort(e,r+2*m)));r+=2*u,0==l&&(o.backCvg=p),1==l&&(o.inptCvg=p),2==l&&(o.ahedCvg=p)}u=i.readUshort(e,r),r+=2,o.lookupRec=t.GSUB.readSubstLookupRecords(e,r,u)}return o},t.GSUB.readSubClassSet=function(e,n){var r=t._bin.readUshort,i=n,a=[],o=r(e,n);n+=2;for(var s=0;s<o;s++){var u=r(e,n);n+=2,a.push(t.GSUB.readSubClassRule(e,i+u))}return a},t.GSUB.readSubClassRule=function(e,n){var r=t._bin.readUshort,i={},a=r(e,n),o=r(e,n+=2);n+=2,i.input=[];for(var s=0;s<a-1;s++)i.input.push(r(e,n)),n+=2;return i.substLookupRecords=t.GSUB.readSubstLookupRecords(e,n,o),i},t.GSUB.readSubstLookupRecords=function(e,n,r){for(var i=t._bin.readUshort,a=[],o=0;o<r;o++)a.push(i(e,n),i(e,n+2)),n+=4;return a},t.GSUB.readChainSubClassSet=function(e,n){var r=t._bin,i=n,a=[],o=r.readUshort(e,n);n+=2;for(var s=0;s<o;s++){var u=r.readUshort(e,n);n+=2,a.push(t.GSUB.readChainSubClassRule(e,i+u))}return a},t.GSUB.readChainSubClassRule=function(e,n){for(var r=t._bin,i={},a=["backtrack","input","lookahead"],o=0;o<a.length;o++){var s=r.readUshort(e,n);n+=2,1==o&&s--,i[a[o]]=r.readUshorts(e,n,s),n+=2*i[a[o]].length}return s=r.readUshort(e,n),n+=2,i.subst=r.readUshorts(e,n,2*s),n+=2*i.subst.length,i},t.GSUB.readLigatureSet=function(e,n){var r=t._bin,i=n,a=[],o=r.readUshort(e,n);n+=2;for(var s=0;s<o;s++){var u=r.readUshort(e,n);n+=2,a.push(t.GSUB.readLigature(e,i+u))}return a},t.GSUB.readLigature=function(e,n){var r=t._bin,i={chain:[]};i.nglyph=r.readUshort(e,n),n+=2;var a=r.readUshort(e,n);n+=2;for(var o=0;o<a-1;o++)i.chain.push(r.readUshort(e,n)),n+=2;return i},t.head={},t.head.parse=function(e,n,r){var i=t._bin,a={};return i.readFixed(e,n),n+=4,a.fontRevision=i.readFixed(e,n),n+=4,i.readUint(e,n),n+=4,i.readUint(e,n),n+=4,a.flags=i.readUshort(e,n),n+=2,a.unitsPerEm=i.readUshort(e,n),n+=2,a.created=i.readUint64(e,n),n+=8,a.modified=i.readUint64(e,n),n+=8,a.xMin=i.readShort(e,n),n+=2,a.yMin=i.readShort(e,n),n+=2,a.xMax=i.readShort(e,n),n+=2,a.yMax=i.readShort(e,n),n+=2,a.macStyle=i.readUshort(e,n),n+=2,a.lowestRecPPEM=i.readUshort(e,n),n+=2,a.fontDirectionHint=i.readShort(e,n),n+=2,a.indexToLocFormat=i.readShort(e,n),n+=2,a.glyphDataFormat=i.readShort(e,n),n+=2,a},t.hhea={},t.hhea.parse=function(e,n,r){var i=t._bin,a={};return i.readFixed(e,n),n+=4,a.ascender=i.readShort(e,n),n+=2,a.descender=i.readShort(e,n),n+=2,a.lineGap=i.readShort(e,n),n+=2,a.advanceWidthMax=i.readUshort(e,n),n+=2,a.minLeftSideBearing=i.readShort(e,n),n+=2,a.minRightSideBearing=i.readShort(e,n),n+=2,a.xMaxExtent=i.readShort(e,n),n+=2,a.caretSlopeRise=i.readShort(e,n),n+=2,a.caretSlopeRun=i.readShort(e,n),n+=2,a.caretOffset=i.readShort(e,n),n+=2,n+=8,a.metricDataFormat=i.readShort(e,n),n+=2,a.numberOfHMetrics=i.readUshort(e,n),n+=2,a},t.hmtx={},t.hmtx.parse=function(e,n,r,i){for(var a=t._bin,o={aWidth:[],lsBearing:[]},s=0,u=0,l=0;l<i.maxp.numGlyphs;l++)l<i.hhea.numberOfHMetrics&&(s=a.readUshort(e,n),n+=2,u=a.readShort(e,n),n+=2),o.aWidth.push(s),o.lsBearing.push(u);return o},t.kern={},t.kern.parse=function(e,n,r,i){var a=t._bin,o=a.readUshort(e,n);if(n+=2,1==o)return t.kern.parseV1(e,n-2,r,i);var s=a.readUshort(e,n);n+=2;for(var u={glyph1:[],rval:[]},l=0;l<s;l++){n+=2,r=a.readUshort(e,n),n+=2;var c=a.readUshort(e,n);n+=2;var d=c>>>8;if(0!=(d&=15))throw"unknown kern table format: "+d;n=t.kern.readFormat0(e,n,u)}return u},t.kern.parseV1=function(e,n,r,i){var a=t._bin;a.readFixed(e,n),n+=4;var o=a.readUint(e,n);n+=4;for(var s={glyph1:[],rval:[]},u=0;u<o;u++){a.readUint(e,n),n+=4;var l=a.readUshort(e,n);n+=2,a.readUshort(e,n),n+=2;var c=l>>>8;if(0!=(c&=15))throw"unknown kern table format: "+c;n=t.kern.readFormat0(e,n,s)}return s},t.kern.readFormat0=function(e,n,r){var i=t._bin,a=-1,o=i.readUshort(e,n);n+=2,i.readUshort(e,n),n+=2,i.readUshort(e,n),n+=2,i.readUshort(e,n),n+=2;for(var s=0;s<o;s++){var u=i.readUshort(e,n);n+=2;var l=i.readUshort(e,n);n+=2;var c=i.readShort(e,n);n+=2,u!=a&&(r.glyph1.push(u),r.rval.push({glyph2:[],vals:[]}));var d=r.rval[r.rval.length-1];d.glyph2.push(l),d.vals.push(c),a=u}return n},t.loca={},t.loca.parse=function(e,n,r,i){var a=t._bin,o=[],s=i.head.indexToLocFormat,u=i.maxp.numGlyphs+1;if(0==s)for(var l=0;l<u;l++)o.push(a.readUshort(e,n+(l<<1))<<1);if(1==s)for(l=0;l<u;l++)o.push(a.readUint(e,n+(l<<2)));return o},t.maxp={},t.maxp.parse=function(e,n,r){var i=t._bin,a={},o=i.readUint(e,n);return n+=4,a.numGlyphs=i.readUshort(e,n),n+=2,65536==o&&(a.maxPoints=i.readUshort(e,n),n+=2,a.maxContours=i.readUshort(e,n),n+=2,a.maxCompositePoints=i.readUshort(e,n),n+=2,a.maxCompositeContours=i.readUshort(e,n),n+=2,a.maxZones=i.readUshort(e,n),n+=2,a.maxTwilightPoints=i.readUshort(e,n),n+=2,a.maxStorage=i.readUshort(e,n),n+=2,a.maxFunctionDefs=i.readUshort(e,n),n+=2,a.maxInstructionDefs=i.readUshort(e,n),n+=2,a.maxStackElements=i.readUshort(e,n),n+=2,a.maxSizeOfInstructions=i.readUshort(e,n),n+=2,a.maxComponentElements=i.readUshort(e,n),n+=2,a.maxComponentDepth=i.readUshort(e,n),n+=2),a},t.name={},t.name.parse=function(e,n,r){var i=t._bin,a={};i.readUshort(e,n),n+=2;var o=i.readUshort(e,n);n+=2,i.readUshort(e,n);for(var s,u=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],l=n+=2,c=0;c<o;c++){var d=i.readUshort(e,n);n+=2;var h=i.readUshort(e,n);n+=2;var f=i.readUshort(e,n);n+=2;var p=i.readUshort(e,n);n+=2;var m=i.readUshort(e,n);n+=2;var v=i.readUshort(e,n);n+=2;var g,y=u[p],b=l+12*o+v;if(0==d)g=i.readUnicode(e,b,m/2);else if(3==d&&0==h)g=i.readUnicode(e,b,m/2);else if(0==h)g=i.readASCII(e,b,m);else if(1==h)g=i.readUnicode(e,b,m/2);else if(3==h)g=i.readUnicode(e,b,m/2);else{if(1!=d)throw"unknown encoding "+h+", platformID: "+d;g=i.readASCII(e,b,m),console.log("reading unknown MAC encoding "+h+" as ASCII")}var _="p"+d+","+f.toString(16);null==a[_]&&(a[_]={}),a[_][y]=g,a[_]._lang=f}for(var x in a)if(null!=a[x].postScriptName&&1033==a[x]._lang)return a[x];for(var x in a)if(null!=a[x].postScriptName&&0==a[x]._lang)return a[x];for(var x in a)if(null!=a[x].postScriptName&&3084==a[x]._lang)return a[x];for(var x in a)if(null!=a[x].postScriptName)return a[x];for(var x in a){s=x;break}return console.log("returning name table with languageID "+a[s]._lang),a[s]},t["OS/2"]={},t["OS/2"].parse=function(e,n,r){var i=t._bin.readUshort(e,n);n+=2;var a={};if(0==i)t["OS/2"].version0(e,n,a);else if(1==i)t["OS/2"].version1(e,n,a);else if(2==i||3==i||4==i)t["OS/2"].version2(e,n,a);else{if(5!=i)throw"unknown OS/2 table version: "+i;t["OS/2"].version5(e,n,a)}return a},t["OS/2"].version0=function(e,n,r){var i=t._bin;return r.xAvgCharWidth=i.readShort(e,n),n+=2,r.usWeightClass=i.readUshort(e,n),n+=2,r.usWidthClass=i.readUshort(e,n),n+=2,r.fsType=i.readUshort(e,n),n+=2,r.ySubscriptXSize=i.readShort(e,n),n+=2,r.ySubscriptYSize=i.readShort(e,n),n+=2,r.ySubscriptXOffset=i.readShort(e,n),n+=2,r.ySubscriptYOffset=i.readShort(e,n),n+=2,r.ySuperscriptXSize=i.readShort(e,n),n+=2,r.ySuperscriptYSize=i.readShort(e,n),n+=2,r.ySuperscriptXOffset=i.readShort(e,n),n+=2,r.ySuperscriptYOffset=i.readShort(e,n),n+=2,r.yStrikeoutSize=i.readShort(e,n),n+=2,r.yStrikeoutPosition=i.readShort(e,n),n+=2,r.sFamilyClass=i.readShort(e,n),n+=2,r.panose=i.readBytes(e,n,10),n+=10,r.ulUnicodeRange1=i.readUint(e,n),n+=4,r.ulUnicodeRange2=i.readUint(e,n),n+=4,r.ulUnicodeRange3=i.readUint(e,n),n+=4,r.ulUnicodeRange4=i.readUint(e,n),n+=4,r.achVendID=[i.readInt8(e,n),i.readInt8(e,n+1),i.readInt8(e,n+2),i.readInt8(e,n+3)],n+=4,r.fsSelection=i.readUshort(e,n),n+=2,r.usFirstCharIndex=i.readUshort(e,n),n+=2,r.usLastCharIndex=i.readUshort(e,n),n+=2,r.sTypoAscender=i.readShort(e,n),n+=2,r.sTypoDescender=i.readShort(e,n),n+=2,r.sTypoLineGap=i.readShort(e,n),n+=2,r.usWinAscent=i.readUshort(e,n),n+=2,r.usWinDescent=i.readUshort(e,n),n+=2},t["OS/2"].version1=function(e,n,r){var i=t._bin;return n=t["OS/2"].version0(e,n,r),r.ulCodePageRange1=i.readUint(e,n),n+=4,r.ulCodePageRange2=i.readUint(e,n),n+=4},t["OS/2"].version2=function(e,n,r){var i=t._bin;return n=t["OS/2"].version1(e,n,r),r.sxHeight=i.readShort(e,n),n+=2,r.sCapHeight=i.readShort(e,n),n+=2,r.usDefault=i.readUshort(e,n),n+=2,r.usBreak=i.readUshort(e,n),n+=2,r.usMaxContext=i.readUshort(e,n),n+=2},t["OS/2"].version5=function(e,n,r){var i=t._bin;return n=t["OS/2"].version2(e,n,r),r.usLowerOpticalPointSize=i.readUshort(e,n),n+=2,r.usUpperOpticalPointSize=i.readUshort(e,n),n+=2},t.post={},t.post.parse=function(e,n,r){var i=t._bin,a={};return a.version=i.readFixed(e,n),n+=4,a.italicAngle=i.readFixed(e,n),n+=4,a.underlinePosition=i.readShort(e,n),n+=2,a.underlineThickness=i.readShort(e,n),n+=2,a},t.SVG={},t.SVG.parse=function(e,n,r){var i=t._bin,a={entries:[]},o=n;i.readUshort(e,n),n+=2;var s=i.readUint(e,n);n+=4,i.readUint(e,n),n+=4,n=s+o;var u=i.readUshort(e,n);n+=2;for(var l=0;l<u;l++){var c=i.readUshort(e,n);n+=2;var d=i.readUshort(e,n);n+=2;var h=i.readUint(e,n);n+=4;var f=i.readUint(e,n);n+=4;for(var p=new Uint8Array(e.buffer,o+h+s,f),m=i.readUTF8(p,0,p.length),v=c;v<=d;v++)a.entries[v]=m}return a},t.SVG.toPath=function(e){var n={cmds:[],crds:[]};if(null==e)return n;for(var r=(new DOMParser).parseFromString(e,"image/svg+xml").firstChild;"svg"!=r.tagName;)r=r.nextSibling;var i=r.getAttribute("viewBox");i=i?i.trim().split(" ").map(parseFloat):[0,0,1e3,1e3],t.SVG._toPath(r.children,n);for(var a=0;a<n.crds.length;a+=2){var o=n.crds[a],s=n.crds[a+1];o-=i[0],s=-(s-=i[1]),n.crds[a]=o,n.crds[a+1]=s}return n},t.SVG._toPath=function(e,n,r){for(var i=0;i<e.length;i++){var a=e[i],o=a.tagName,s=a.getAttribute("fill");if(null==s&&(s=r),"g"==o)t.SVG._toPath(a.children,n,s);else if("path"==o){n.cmds.push(s||"#000000");var u=a.getAttribute("d"),l=t.SVG._tokens(u);t.SVG._toksToPath(l,n),n.cmds.push("X")}else"defs"==o||console.log(o,a)}},t.SVG._tokens=function(e){for(var t=[],n=0,r=!1,i="";n<e.length;){var a=e.charCodeAt(n),o=e.charAt(n);n++;var s=48<=a&&a<=57||"."==o||"-"==o;r?"-"==o?(t.push(parseFloat(i)),i=o):s?i+=o:(t.push(parseFloat(i)),","!=o&&" "!=o&&t.push(o),r=!1):s?(i=o,r=!0):","!=o&&" "!=o&&t.push(o)}return r&&t.push(parseFloat(i)),t},t.SVG._toksToPath=function(e,n){for(var r=0,i=0,a=0,o=0,s=0,u={M:2,L:2,H:1,V:1,S:4,C:6},l=n.cmds,c=n.crds;r<e.length;){var d=e[r];if(r++,"z"==d)l.push("Z"),i=o,a=s;else for(var h=d.toUpperCase(),f=u[h],p=t.SVG._reps(e,r,f),m=0;m<p;m++){var v=0,g=0;if(d!=h&&(v=i,g=a),"M"==h)i=v+e[r++],a=g+e[r++],l.push("M"),c.push(i,a),o=i,s=a;else if("L"==h)i=v+e[r++],a=g+e[r++],l.push("L"),c.push(i,a);else if("H"==h)i=v+e[r++],l.push("L"),c.push(i,a);else if("V"==h)a=g+e[r++],l.push("L"),c.push(i,a);else if("C"==h){var y=v+e[r++],b=g+e[r++],_=v+e[r++],x=g+e[r++],w=v+e[r++],M=g+e[r++];l.push("C"),c.push(y,b,_,x,w,M),i=w,a=M}else if("S"==h){var E=Math.max(c.length-4,0);y=i+i-c[E],b=a+a-c[E+1],_=v+e[r++],x=g+e[r++],w=v+e[r++],M=g+e[r++],l.push("C"),c.push(y,b,_,x,w,M),i=w,a=M}else console.log("Unknown SVG command "+d)}}},t.SVG._reps=function(e,t,n){for(var r=t;r<e.length&&"string"!=typeof e[r];)r+=n;return(r-t)/n},null==t&&(t={}),null==t.U&&(t.U={}),t.U.codeToGlyph=function(e,t){var n=e.cmap,r=-1;if(null!=n.p0e4?r=n.p0e4:null!=n.p3e1?r=n.p3e1:null!=n.p1e0?r=n.p1e0:null!=n.p0e3&&(r=n.p0e3),-1==r)throw"no familiar platform and encoding!";var i=n.tables[r];if(0==i.format)return t>=i.map.length?0:i.map[t];if(4==i.format){for(var a=-1,o=0;o<i.endCount.length;o++)if(t<=i.endCount[o]){a=o;break}return-1==a||i.startCount[a]>t?0:65535&(0!=i.idRangeOffset[a]?i.glyphIdArray[t-i.startCount[a]+(i.idRangeOffset[a]>>1)-(i.idRangeOffset.length-a)]:t+i.idDelta[a])}if(12==i.format){if(t>i.groups[i.groups.length-1][1])return 0;for(o=0;o<i.groups.length;o++){var s=i.groups[o];if(s[0]<=t&&t<=s[1])return s[2]+(t-s[0])}return 0}throw"unknown cmap table format "+i.format},t.U.glyphToPath=function(e,n){var r={cmds:[],crds:[]};if(e.SVG&&e.SVG.entries[n]){var i=e.SVG.entries[n];return null==i?r:("string"==typeof i&&(i=t.SVG.toPath(i),e.SVG.entries[n]=i),i)}if(e.CFF){var a={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:e.CFF.Private?e.CFF.Private.defaultWidthX:0,open:!1},o=e.CFF,s=e.CFF.Private;if(o.ROS){for(var u=0;o.FDSelect[u+2]<=n;)u+=2;s=o.FDArray[o.FDSelect[u+1]].Private}t.U._drawCFF(e.CFF.CharStrings[n],a,o,s,r)}else e.glyf&&t.U._drawGlyf(n,e,r);return r},t.U._drawGlyf=function(e,n,r){var i=n.glyf[e];null==i&&(i=n.glyf[e]=t.glyf._parseGlyf(n,e)),null!=i&&(i.noc>-1?t.U._simpleGlyph(i,r):t.U._compoGlyph(i,n,r))},t.U._simpleGlyph=function(e,n){for(var r=0;r<e.noc;r++){for(var i=0==r?0:e.endPts[r-1]+1,a=e.endPts[r],o=i;o<=a;o++){var s=o==i?a:o-1,u=o==a?i:o+1,l=1&e.flags[o],c=1&e.flags[s],d=1&e.flags[u],h=e.xs[o],f=e.ys[o];if(o==i)if(l){if(!c){t.U.P.moveTo(n,h,f);continue}t.U.P.moveTo(n,e.xs[s],e.ys[s])}else c?t.U.P.moveTo(n,e.xs[s],e.ys[s]):t.U.P.moveTo(n,(e.xs[s]+h)/2,(e.ys[s]+f)/2);l?c&&t.U.P.lineTo(n,h,f):d?t.U.P.qcurveTo(n,h,f,e.xs[u],e.ys[u]):t.U.P.qcurveTo(n,h,f,(h+e.xs[u])/2,(f+e.ys[u])/2)}t.U.P.closePath(n)}},t.U._compoGlyph=function(e,n,r){for(var i=0;i<e.parts.length;i++){var a={cmds:[],crds:[]},o=e.parts[i];t.U._drawGlyf(o.glyphIndex,n,a);for(var s=o.m,u=0;u<a.crds.length;u+=2){var l=a.crds[u],c=a.crds[u+1];r.crds.push(l*s.a+c*s.b+s.tx),r.crds.push(l*s.c+c*s.d+s.ty)}for(u=0;u<a.cmds.length;u++)r.cmds.push(a.cmds[u])}},t.U._getGlyphClass=function(e,n){var r=t._lctf.getInterval(n,e);return-1==r?0:n[r+2]},t.U.getPairAdjustment=function(e,n,r){if(e.GPOS)for(var i=e.GPOS,a=i.lookupList,o=i.featureList,s=[],u=0;u<o.length;u++){var l=o[u];if("kern"==l.tag)for(var c=0;c<l.tab.length;c++)if(!s[l.tab[c]]){s[l.tab[c]]=!0;for(var d=a[l.tab[c]],h=0;h<d.tabs.length;h++)if(null!=d.tabs[u]){var f,p=d.tabs[h];if(!p.coverage||-1!=(f=t._lctf.coverageIndex(p.coverage,n)))if(1==d.ltype);else if(2==d.ltype){var m;if(1==p.fmt){var v=p.pairsets[f];for(u=0;u<v.length;u++)v[u].gid2==r&&(m=v[u])}else if(2==p.fmt){var g=t.U._getGlyphClass(n,p.classDef1),y=t.U._getGlyphClass(r,p.classDef2);m=p.matrix[g][y]}if(m&&m.val2)return m.val2[2]}}}}if(e.kern){var b=e.kern.glyph1.indexOf(n);if(-1!=b){var _=e.kern.rval[b].glyph2.indexOf(r);if(-1!=_)return e.kern.rval[b].vals[_]}}return 0},t.U.stringToGlyphs=function(e,n){for(var r=[],i=0;i<n.length;i++)(a=n.codePointAt(i))>65535&&i++,r.push(t.U.codeToGlyph(e,a));for(i=0;i<n.length;i++){var a;if(2367==(a=n.codePointAt(i))){var o=r[i-1];r[i-1]=r[i],r[i]=o}a>65535&&i++}var s=e.GSUB;if(null==s)return r;for(var u=s.lookupList,l=s.featureList,c=["rlig","liga","mset","isol","init","fina","medi","half","pres","blws"],d=[],h=0;h<l.length;h++){var f=l[h];if(-1!=c.indexOf(f.tag))for(var p=0;p<f.tab.length;p++)if(!d[f.tab[p]]){d[f.tab[p]]=!0;for(var m=u[f.tab[p]],v=0;v<r.length;v++){var g=t.U._getWPfeature(n,v);-1!="isol,init,fina,medi".indexOf(f.tag)&&f.tag!=g||t.U._applySubs(r,v,m,u)}}}return r},t.U._getWPfeature=function(e,t){var n='\n\t" ,.:;!?()  \u060c',r="\u0622\u0623\u0624\u0625\u0627\u0629\u062f\u0630\u0631\u0632\u0648\u0671\u0672\u0673\u0675\u0676\u0677\u0688\u0689\u068a\u068b\u068c\u068d\u068e\u068f\u0690\u0691\u0692\u0693\u0694\u0695\u0696\u0697\u0698\u0699\u06c0\u06c3\u06c4\u06c5\u06c6\u06c7\u06c8\u06c9\u06ca\u06cb\u06cd\u06cf\u06d2\u06d3\u06d5\u06ee\u06ef\u0710\u0715\u0716\u0717\u0718\u0719\u071e\u0728\u072a\u072c\u072f\u074d\u0759\u075a\u075b\u076b\u076c\u0771\u0773\u0774\u0778\u0779\u0840\u0846\u0847\u0849\u0854\u0867\u0869\u086a\u08aa\u08ab\u08ac\u08ae\u08b1\u08b2\u08b9\u0ac5\u0ac7\u0ac9\u0aca\u0ace\u0acf\u0ad0\u0ad1\u0ad2\u0add\u0ae1\u0ae4\u0aef\u0b81\u0b83\u0b84\u0b85\u0b89\u0b8c\u0b8e\u0b8f\u0b91\u0ba9\u0baa\u0bab\u0bac",i=0==t||-1!=n.indexOf(e[t-1]),a=t==e.length-1||-1!=n.indexOf(e[t+1]);return i||-1==r.indexOf(e[t-1])||(i=!0),a||-1==r.indexOf(e[t])||(a=!0),a||-1=="\ua872\u0acd\u0ad7".indexOf(e[t+1])||(a=!0),i||-1=="\ua872\u0acd\u0ad7".indexOf(e[t])||(i=!0),i?a?"isol":"init":a?"fina":"medi"},t.U._applySubs=function(e,n,r,i){for(var a=e.length-n-1,o=0;o<r.tabs.length;o++)if(null!=r.tabs[o]){var s,u=r.tabs[o];if(!u.coverage||-1!=(s=t._lctf.coverageIndex(u.coverage,e[n])))if(1==r.ltype)e[n],1==u.fmt?e[n]=e[n]+u.delta:e[n]=u.newg[s];else if(4==r.ltype)for(var l=u.vals[s],c=0;c<l.length;c++){var d=l[c],h=d.chain.length;if(!(h>a)){for(var f=!0,p=0,m=0;m<h;m++){for(;-1==e[n+p+(1+m)];)p++;d.chain[m]!=e[n+p+(1+m)]&&(f=!1)}if(f){for(e[n]=d.nglyph,m=0;m<h+p;m++)e[n+m+1]=-1;break}}}else if(5==r.ltype&&2==u.fmt)for(var v=t._lctf.getInterval(u.cDef,e[n]),g=u.cDef[v+2],y=u.scset[g],b=0;b<y.length;b++){var _=y[b],x=_.input;if(!(x.length>a)){for(f=!0,m=0;m<x.length;m++){var w=t._lctf.getInterval(u.cDef,e[n+1+m]);if(-1==v&&u.cDef[w+2]!=x[m]){f=!1;break}}if(f){var M=_.substLookupRecords;for(c=0;c<M.length;c+=2)M[c],M[c+1]}}}else if(6==r.ltype&&3==u.fmt){if(!t.U._glsCovered(e,u.backCvg,n-u.backCvg.length))continue;if(!t.U._glsCovered(e,u.inptCvg,n))continue;if(!t.U._glsCovered(e,u.ahedCvg,n+u.inptCvg.length))continue;var E=u.lookupRec;for(b=0;b<E.length;b+=2){v=E[b];var A=i[E[b+1]];t.U._applySubs(e,n+v,A,i)}}}},t.U._glsCovered=function(e,n,r){for(var i=0;i<n.length;i++)if(-1==t._lctf.coverageIndex(n[i],e[r+i]))return!1;return!0},t.U.glyphsToPath=function(e,n,r){for(var i={cmds:[],crds:[]},a=0,o=0;o<n.length;o++){var s=n[o];if(-1!=s){for(var u=o<n.length-1&&-1!=n[o+1]?n[o+1]:0,l=t.U.glyphToPath(e,s),c=0;c<l.crds.length;c+=2)i.crds.push(l.crds[c]+a),i.crds.push(l.crds[c+1]);for(r&&i.cmds.push(r),c=0;c<l.cmds.length;c++)i.cmds.push(l.cmds[c]);r&&i.cmds.push("X"),a+=e.hmtx.aWidth[s],o<n.length-1&&(a+=t.U.getPairAdjustment(e,s,u))}}return i},t.U.pathToSVG=function(e,t){null==t&&(t=5);for(var n=[],r=0,i={M:2,L:2,Q:4,C:6},a=0;a<e.cmds.length;a++){var o=e.cmds[a],s=r+(i[o]?i[o]:0);for(n.push(o);r<s;){var u=e.crds[r++];n.push(parseFloat(u.toFixed(t))+(r==s?"":" "))}}return n.join("")},t.U.pathToContext=function(e,t){for(var n=0,r=e.crds,i=0;i<e.cmds.length;i++){var a=e.cmds[i];"M"==a?(t.moveTo(r[n],r[n+1]),n+=2):"L"==a?(t.lineTo(r[n],r[n+1]),n+=2):"C"==a?(t.bezierCurveTo(r[n],r[n+1],r[n+2],r[n+3],r[n+4],r[n+5]),n+=6):"Q"==a?(t.quadraticCurveTo(r[n],r[n+1],r[n+2],r[n+3]),n+=4):"#"==a.charAt(0)?(t.beginPath(),t.fillStyle=a):"Z"==a?t.closePath():"X"==a&&t.fill()}},t.U.P={},t.U.P.moveTo=function(e,t,n){e.cmds.push("M"),e.crds.push(t,n)},t.U.P.lineTo=function(e,t,n){e.cmds.push("L"),e.crds.push(t,n)},t.U.P.curveTo=function(e,t,n,r,i,a,o){e.cmds.push("C"),e.crds.push(t,n,r,i,a,o)},t.U.P.qcurveTo=function(e,t,n,r,i){e.cmds.push("Q"),e.crds.push(t,n,r,i)},t.U.P.closePath=function(e){e.cmds.push("Z")},t.U._drawCFF=function(e,n,r,i,a){for(var o=n.stack,s=n.nStems,u=n.haveWidth,l=n.width,c=n.open,d=0,h=n.x,f=n.y,p=0,m=0,v=0,g=0,y=0,b=0,_=0,x=0,w=0,M=0,E={val:0,size:0};d<e.length;){t.CFF.getCharString(e,d,E);var A=E.val;if(d+=E.size,"o1"==A||"o18"==A)o.length%2!==0&&!u&&(l=o.shift()+i.nominalWidthX),s+=o.length>>1,o.length=0,u=!0;else if("o3"==A||"o23"==A)o.length%2!==0&&!u&&(l=o.shift()+i.nominalWidthX),s+=o.length>>1,o.length=0,u=!0;else if("o4"==A)o.length>1&&!u&&(l=o.shift()+i.nominalWidthX,u=!0),c&&t.U.P.closePath(a),f+=o.pop(),t.U.P.moveTo(a,h,f),c=!0;else if("o5"==A)for(;o.length>0;)h+=o.shift(),f+=o.shift(),t.U.P.lineTo(a,h,f);else if("o6"==A||"o7"==A)for(var S=o.length,T="o6"==A,C=0;C<S;C++){var D=o.shift();T?h+=D:f+=D,T=!T,t.U.P.lineTo(a,h,f)}else if("o8"==A||"o24"==A){S=o.length;for(var R=0;R+6<=S;)p=h+o.shift(),m=f+o.shift(),v=p+o.shift(),g=m+o.shift(),h=v+o.shift(),f=g+o.shift(),t.U.P.curveTo(a,p,m,v,g,h,f),R+=6;"o24"==A&&(h+=o.shift(),f+=o.shift(),t.U.P.lineTo(a,h,f))}else{if("o11"==A)break;if("o1234"==A||"o1235"==A||"o1236"==A||"o1237"==A)"o1234"==A&&(m=f,v=(p=h+o.shift())+o.shift(),M=g=m+o.shift(),b=g,x=f,h=(_=(y=(w=v+o.shift())+o.shift())+o.shift())+o.shift(),t.U.P.curveTo(a,p,m,v,g,w,M),t.U.P.curveTo(a,y,b,_,x,h,f)),"o1235"==A&&(p=h+o.shift(),m=f+o.shift(),v=p+o.shift(),g=m+o.shift(),w=v+o.shift(),M=g+o.shift(),y=w+o.shift(),b=M+o.shift(),_=y+o.shift(),x=b+o.shift(),h=_+o.shift(),f=x+o.shift(),o.shift(),t.U.P.curveTo(a,p,m,v,g,w,M),t.U.P.curveTo(a,y,b,_,x,h,f)),"o1236"==A&&(p=h+o.shift(),m=f+o.shift(),v=p+o.shift(),M=g=m+o.shift(),b=g,_=(y=(w=v+o.shift())+o.shift())+o.shift(),x=b+o.shift(),h=_+o.shift(),t.U.P.curveTo(a,p,m,v,g,w,M),t.U.P.curveTo(a,y,b,_,x,h,f)),"o1237"==A&&(p=h+o.shift(),m=f+o.shift(),v=p+o.shift(),g=m+o.shift(),w=v+o.shift(),M=g+o.shift(),y=w+o.shift(),b=M+o.shift(),_=y+o.shift(),x=b+o.shift(),Math.abs(_-h)>Math.abs(x-f)?h=_+o.shift():f=x+o.shift(),t.U.P.curveTo(a,p,m,v,g,w,M),t.U.P.curveTo(a,y,b,_,x,h,f));else if("o14"==A){if(o.length>0&&!u&&(l=o.shift()+r.nominalWidthX,u=!0),4==o.length){var I=o.shift(),k=o.shift(),O=o.shift(),L=o.shift(),P=t.CFF.glyphBySE(r,O),B=t.CFF.glyphBySE(r,L);t.U._drawCFF(r.CharStrings[P],n,r,i,a),n.x=I,n.y=k,t.U._drawCFF(r.CharStrings[B],n,r,i,a)}c&&(t.U.P.closePath(a),c=!1)}else if("o19"==A||"o20"==A)o.length%2!==0&&!u&&(l=o.shift()+i.nominalWidthX),s+=o.length>>1,o.length=0,u=!0,d+=s+7>>3;else if("o21"==A)o.length>2&&!u&&(l=o.shift()+i.nominalWidthX,u=!0),f+=o.pop(),h+=o.pop(),c&&t.U.P.closePath(a),t.U.P.moveTo(a,h,f),c=!0;else if("o22"==A)o.length>1&&!u&&(l=o.shift()+i.nominalWidthX,u=!0),h+=o.pop(),c&&t.U.P.closePath(a),t.U.P.moveTo(a,h,f),c=!0;else if("o25"==A){for(;o.length>6;)h+=o.shift(),f+=o.shift(),t.U.P.lineTo(a,h,f);p=h+o.shift(),m=f+o.shift(),v=p+o.shift(),g=m+o.shift(),h=v+o.shift(),f=g+o.shift(),t.U.P.curveTo(a,p,m,v,g,h,f)}else if("o26"==A)for(o.length%2&&(h+=o.shift());o.length>0;)p=h,m=f+o.shift(),h=v=p+o.shift(),f=(g=m+o.shift())+o.shift(),t.U.P.curveTo(a,p,m,v,g,h,f);else if("o27"==A)for(o.length%2&&(f+=o.shift());o.length>0;)m=f,v=(p=h+o.shift())+o.shift(),g=m+o.shift(),h=v+o.shift(),f=g,t.U.P.curveTo(a,p,m,v,g,h,f);else if("o10"==A||"o29"==A){var F="o10"==A?i:r;if(0==o.length)console.log("error: empty stack");else{var N=o.pop(),G=F.Subrs[N+F.Bias];n.x=h,n.y=f,n.nStems=s,n.haveWidth=u,n.width=l,n.open=c,t.U._drawCFF(G,n,r,i,a),h=n.x,f=n.y,s=n.nStems,u=n.haveWidth,l=n.width,c=n.open}}else if("o30"==A||"o31"==A){var j=o.length,U=(R=0,"o31"==A);for(R+=j-(S=-3&j);R<S;)U?(m=f,v=(p=h+o.shift())+o.shift(),f=(g=m+o.shift())+o.shift(),S-R==5?(h=v+o.shift(),R++):h=v,U=!1):(p=h,m=f+o.shift(),v=p+o.shift(),g=m+o.shift(),h=v+o.shift(),S-R==5?(f=g+o.shift(),R++):f=g,U=!0),t.U.P.curveTo(a,p,m,v,g,h,f),R+=4}else{if("o"==(A+"").charAt(0))throw console.log("Unknown operation: "+A,e),A;o.push(A)}}}n.x=h,n.y=f,n.nStems=s,n.haveWidth=u,n.width=l,n.open=c},t},function(){var e=function(){var e={};function t(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function n(e,n){this.source=e,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=n,this.destLen=0,this.ltree=new t,this.dtree=new t}var r=new t,i=new t,a=new Uint8Array(30),o=new Uint16Array(30),s=new Uint8Array(30),u=new Uint16Array(30),l=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),c=new t,d=new Uint8Array(320);function h(e,t,n,r){var i,a;for(i=0;i<n;++i)e[i]=0;for(i=0;i<30-n;++i)e[i+n]=i/n|0;for(a=r,i=0;i<30;++i)t[i]=a,a+=1<<e[i]}var f=new Uint16Array(16);function p(e,t,n,r){var i,a;for(i=0;i<16;++i)e.table[i]=0;for(i=0;i<r;++i)e.table[t[n+i]]++;for(e.table[0]=0,a=0,i=0;i<16;++i)f[i]=a,a+=e.table[i];for(i=0;i<r;++i)t[n+i]&&(e.trans[f[t[n+i]]++]=i)}function m(e){e.bitcount--||(e.tag=e.source[e.sourceIndex++],e.bitcount=7);var t=1&e.tag;return e.tag>>>=1,t}function v(e,t,n){if(!t)return n;for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;var r=e.tag&65535>>>16-t;return e.tag>>>=t,e.bitcount-=t,r+n}function g(e,t){for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;var n=0,r=0,i=0,a=e.tag;do{r=2*r+(1&a),a>>>=1,++i,n+=t.table[i],r-=t.table[i]}while(r>=0);return e.tag=a,e.bitcount-=i,t.trans[n+r]}function y(e,t,n){var r,i,a,o,s,u;for(r=v(e,5,257),i=v(e,5,1),a=v(e,4,4),o=0;o<19;++o)d[o]=0;for(o=0;o<a;++o){var h=v(e,3,0);d[l[o]]=h}for(p(c,d,0,19),s=0;s<r+i;){var f=g(e,c);switch(f){case 16:var m=d[s-1];for(u=v(e,2,3);u;--u)d[s++]=m;break;case 17:for(u=v(e,3,3);u;--u)d[s++]=0;break;case 18:for(u=v(e,7,11);u;--u)d[s++]=0;break;default:d[s++]=f}}p(t,d,0,r),p(n,d,r,i)}function b(e,t,n){for(;;){var r,i,l,c,d=g(e,t);if(256===d)return 0;if(d<256)e.dest[e.destLen++]=d;else for(r=v(e,a[d-=257],o[d]),i=g(e,n),c=l=e.destLen-v(e,s[i],u[i]);c<l+r;++c)e.dest[e.destLen++]=e.dest[c]}}function _(e){for(var t,n;e.bitcount>8;)e.sourceIndex--,e.bitcount-=8;if((t=256*(t=e.source[e.sourceIndex+1])+e.source[e.sourceIndex])!==(65535&~(256*e.source[e.sourceIndex+3]+e.source[e.sourceIndex+2])))return-3;for(e.sourceIndex+=4,n=t;n;--n)e.dest[e.destLen++]=e.source[e.sourceIndex++];return e.bitcount=0,0}return function(e,t){var n;for(n=0;n<7;++n)e.table[n]=0;for(e.table[7]=24,e.table[8]=152,e.table[9]=112,n=0;n<24;++n)e.trans[n]=256+n;for(n=0;n<144;++n)e.trans[24+n]=n;for(n=0;n<8;++n)e.trans[168+n]=280+n;for(n=0;n<112;++n)e.trans[176+n]=144+n;for(n=0;n<5;++n)t.table[n]=0;for(t.table[5]=32,n=0;n<32;++n)t.trans[n]=n}(r,i),h(a,o,4,3),h(s,u,2,1),a[28]=0,o[28]=258,e.exports=function(e,t){var a,o,s=new n(e,t);do{switch(a=m(s),v(s,2,0)){case 0:o=_(s);break;case 1:o=b(s,r,i);break;case 2:y(s,s.ltree,s.dtree),o=b(s,s.ltree,s.dtree);break;default:o=-3}if(0!==o)throw new Error("Data error")}while(!a);return s.destLen<s.dest.length?"function"===typeof s.dest.slice?s.dest.slice(0,s.destLen):s.dest.subarray(0,s.destLen):s.dest},e.exports}();return function(t){return function(e,t){var n=new DataView(e),r=0;function i(){var e=n.getUint16(r);return r+=2,e}function a(){var e=n.getUint32(r);return r+=4,e}function o(e){y.setUint16(b,e),b+=2}function s(e){y.setUint32(b,e),b+=4}for(var u={signature:a(),flavor:a(),length:a(),numTables:i(),reserved:i(),totalSfntSize:a(),majorVersion:i(),minorVersion:i(),metaOffset:a(),metaLength:a(),metaOrigLength:a(),privOffset:a(),privLength:a()},l=0;Math.pow(2,l)<=u.numTables;)l++;l--;for(var c=16*Math.pow(2,l),d=16*u.numTables-c,h=12,f=[],p=0;p<u.numTables;p++)f.push({tag:a(),offset:a(),compLength:a(),origLength:a(),origChecksum:a()}),h+=16;var m,v=new Uint8Array(12+16*f.length+f.reduce((function(e,t){return e+t.origLength+4}),0)),g=v.buffer,y=new DataView(g),b=0;return s(u.flavor),o(u.numTables),o(c),o(l),o(d),f.forEach((function(e){s(e.tag),s(e.origChecksum),s(h),s(e.origLength),e.outOffset=h,(h+=e.origLength)%4!=0&&(h+=4-h%4)})),f.forEach((function(n){var r=e.slice(n.offset,n.offset+n.compLength);if(n.compLength!=n.origLength){var i=new Uint8Array(n.origLength);t(new Uint8Array(r,2),i)}else i=new Uint8Array(r);v.set(i,n.outOffset);var a=0;(h=n.outOffset+n.origLength)%4!=0&&(a=4-h%4),v.set(new Uint8Array(a).buffer,n.outOffset+n.origLength),m=h+a})),g.slice(0,m)}(t,e)}},function(e,t){var n={M:2,L:2,Q:4,C:6,Z:0};return function(r){var i=new Uint8Array(r,0,4),a=e._bin.readASCII(i,0,4);if("wOFF"===a)r=t(r);else if("wOF2"===a)throw new Error("woff2 fonts not supported");return function(t){var r=Object.create(null),i={unitsPerEm:t.head.unitsPerEm,ascender:t.hhea.ascender,descender:t.hhea.descender,forEachGlyph:function(a,o,s,u){var l=0,c=1/i.unitsPerEm*o,d=e.U.stringToGlyphs(t,a),h=0;return d.forEach((function(i){if(-1!==i){var d=r[i];if(!d){var f,p,m,v,g=e.U.glyphToPath(t,i),y=g.cmds,b=g.crds;if(b.length){f=p=1/0,m=v=-1/0;for(var _=0,x=b.length;_<x;_+=2){var w=b[_],M=b[_+1];w<f&&(f=w),M<p&&(p=M),w>m&&(m=w),M>v&&(v=M)}}else f=m=p=v=0;d=r[i]={index:i,advanceWidth:t.hmtx.aWidth[i],xMin:f,yMin:p,xMax:m,yMax:v,pathCommandCount:y.length,forEachPathCommand:function(e){for(var t=0,r=[],i=0,a=y.length;i<a;i++){var o=n[y[i]];r.length=1+o,r[0]=y[i];for(var s=1;s<=o;s++)r[s]=b[t++];e.apply(null,r)}}}}u.call(null,d,l,h),d.advanceWidth&&(l+=d.advanceWidth*c),s&&(l+=s*o)}h+=a.codePointAt(h)>65535?2:1})),l}};return i}(e.parse(r)[0])}}],init:function(e,t,n){return n(e(),t())}}),o={defaultFontURL:"https://fonts.gstatic.com/s/roboto/v18/KFOmCnqEu92Fr1Mu4mxM.woff",sdfGlyphSize:64,textureWidth:2048},s=new t.Color,u=Object.create(null);function l(e,n){if((e=c({},e)).font=(d=e.font||o.defaultFontURL,i||(i="undefined"===typeof document?{}:document.createElement("a")),i.href=d,i.href),e.text=""+e.text,e.sdfGlyphSize=e.sdfGlyphSize||o.sdfGlyphSize,null!=e.colorRanges){var r={};for(var a in e.colorRanges)if(e.colorRanges.hasOwnProperty(a)){var l=e.colorRanges[a];"number"!==typeof l&&(l=s.set(l).getHex()),r[a]=l}e.colorRanges=r}var d;Object.freeze(e);var f=o.textureWidth,p=e.sdfGlyphSize,m=e.font+"@"+p,v=u[m];v||((v=u[m]={sdfTexture:new t.DataTexture(new Uint8Array(p*f),f,p,t.LuminanceFormat,void 0,void 0,void 0,void 0,t.LinearFilter,t.LinearFilter)}).sdfTexture.font=e.font),h(e).then((function(t){t.newGlyphSDFs&&(t.newGlyphSDFs.forEach((function(e){for(var t=e.textureData,n=e.atlasIndex,r=v.sdfTexture.image;r.data.length<(n+1)*p*p;){var i=new Uint8Array(2*r.data.length);i.set(r.data),r.data=i,r.height*=2}for(var a=r.width/p,o=0;o<p;o++)for(var s=o*p,u=r.width*p*Math.floor(n/a)+n%a*p+o*r.width,l=0;l<p;l++)r.data[u+l]=t[s+l]})),v.sdfTexture.needsUpdate=!0),n(Object.freeze({parameters:e,sdfTexture:v.sdfTexture,sdfGlyphSize:p,sdfMinDistancePercent:1/8,glyphBounds:t.glyphBounds,glyphAtlasIndices:t.glyphAtlasIndices,glyphColors:t.glyphColors,caretPositions:t.caretPositions,caretHeight:t.caretHeight,chunkedBounds:t.chunkedBounds,ascender:t.ascender,descender:t.descender,lineHeight:t.lineHeight,topBaseline:t.topBaseline,totalBounds:t.totalBounds,totalBlockSize:t.totalBlockSize,timings:t.timings}))}))}function c(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var d=n.defineWorkerModule({name:"FontProcessor",dependencies:[o,1/8,a,function(e){var t=e.xMin,n=e.yMin,r=e.xMax-t,i=e.yMax-n,a={0:null,1:null,2:null,3:null,data:null,cx:Math.round(t+r/2),cy:Math.round(n+i/2),r:Math.pow(2,Math.floor(Math.log(Math.max(r,i))*Math.LOG2E)),minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};function o(e){!function e(t,n){if(!1!==n(t)&&!t.data)for(var r=0;r<4;r++)null!==t[r]&&e(t[r],n)}(a,e)}function s(e,t,n,r,i,a){var o=i-n,s=a-r,u=o*o+s*s,l=u?Math.max(0,Math.min(1,((e-n)*o+(t-r)*s)/u)):0,c=e-(n+l*o),d=t-(r+l*s);return c*c+d*d}return{addLineSegment:function(e,t,n,r){!function e(t,n){var r=t.minX,i=t.minY,a=t.maxX,o=t.maxY,s=t.cx,u=t.cy;r<n.minX&&(n.minX=r),i<n.minY&&(n.minY=i),a>n.maxX&&(n.maxX=a),o>n.maxY&&(n.maxY=o);var l=n.data;if(l)if(l.cx===s&&l.cy===u){for(;l.next;)l=l.next;l.next=t}else n.data=null,e(l,n),e(t,n);else{var c=(u<n.cy?0:2)+(s<n.cx?0:1);n[c]?e(t,n[c]):n[c]={0:null,1:null,2:null,3:null,data:t,cx:n.cx+n.r/2*(c%2?1:-1),cy:n.cy+n.r/2*(c<2?-1:1),r:n.r/2,minX:r,minY:i,maxX:a,maxY:o}}}({x0:e,y0:t,x1:n,y1:r,cx:(e+n)/2,cy:(t+r)/2,minX:Math.min(e,n),minY:Math.min(t,r),maxX:Math.max(e,n),maxY:Math.max(t,r),next:null},a)},findNearestSignedDistance:function(e,t,n){var r=n,i=r*r;return o((function(n){if(e-r>n.maxX||e+r<n.minX||t-r>n.maxY||t+r<n.minY)return!1;for(var a=n.data;a;a=a.next){var o=s(e,t,a.x0,a.y0,a.x1,a.y1);o<i&&(i=o,r=Math.sqrt(o))}})),function(e,t){var n=!1;return o((function(r){if(r.maxX<e||r.minY>t||r.maxY<t)return!1;for(var i=r.data;i;i=i.next){var a=i.x0,o=i.y0,s=i.x1,u=i.y1;o>t!==u>t&&e<(s-a)*(t-o)/(u-o)+a&&(n=!n)}})),n}(e,t)||(r=-r),r}}},function(e,t){var n=t.sdfDistancePercent;function r(e,t,n,r,i,a,o){var s=1-o;return{x:s*s*e+2*s*o*n+o*o*i,y:s*s*t+2*s*o*r+o*o*a}}function i(e,t,n,r,i,a,o,s,u){var l=1-u;return{x:l*l*l*e+3*l*l*u*n+3*l*u*u*i+u*u*u*o,y:l*l*l*t+3*l*l*u*r+3*l*u*u*a+u*u*u*s}}return function(t,a){var o=new Uint8Array(a*a),s=t.xMax-t.xMin,u=t.yMax-t.yMin,l=Math.max(s,u)*n,c=(s+2*l)/a,d=(u+2*l)/a,h=t.xMin-l-c,f=t.yMin-l-d,p=t.xMax+l+c,m=t.yMax+l+d;if(t.pathCommandCount){var v,g,y,b,_=e(t);t.forEachPathCommand((function(e,t,n,a,o,s,u){switch(e){case"M":y=v=t,b=g=n;break;case"L":t===y&&n===b||_.addLineSegment(y,b,y=t,b=n);break;case"Q":for(var l={x:y,y:b},c=1;c<16;c++){var d=r(y,b,t,n,a,o,c/15);_.addLineSegment(l.x,l.y,d.x,d.y),l=d}y=a,b=o;break;case"C":for(var h={x:y,y:b},f=1;f<16;f++){var p=i(y,b,t,n,a,o,s,u,f/15);_.addLineSegment(h.x,h.y,p.x,p.y),h=p}y=s,b=u;break;case"Z":y===v&&b===g||_.addLineSegment(y,b,v,g)}}));for(var x=0;x<a;x++)for(var w=0;w<a;w++){var M=_.findNearestSignedDistance(h+(p-h)*(x+.5)/a,f+(m-f)*(w+.5)/a,l),E=isFinite(M)?Math.round(255*(1+M/l)*.5):M;E=Math.max(0,Math.min(255,E)),o[w*a+x]=E}}return{textureData:o,renderingBounds:[h,f,p,m]}}},function(e,t,n){var r=n.defaultFontUrl,i=Object.create(null),a=Object.create(null);function o(t,n){t||(t=r);var i=a[t];i?i.pending?i.pending.push(n):n(i):(a[t]={pending:[n]},function(t,n){!function i(){var a=function(e){console.error("Failure loading font "+t+(t===r?"":"; trying fallback"),e),t!==r&&(t=r,i())};try{var o=new XMLHttpRequest;o.open("get",t,!0),o.responseType="arraybuffer",o.onload=function(){if(o.status>=400)a(new Error(o.statusText));else if(o.status>0)try{var t=e(o.response);n(t)}catch(r){a(r)}},o.onerror=a,o.send()}catch(s){a(s)}}()}(t,(function(e){var n=a[t].pending;a[t]=e,n.forEach((function(t){return t(e)}))})))}function s(e,n,a){var s=e.text;void 0===s&&(s="");var d=e.font;void 0===d&&(d=r);var h=e.sdfGlyphSize;void 0===h&&(h=64);var f=e.fontSize;void 0===f&&(f=1);var p=e.letterSpacing;void 0===p&&(p=0);var m=e.lineHeight;void 0===m&&(m="normal");var v=e.maxWidth;void 0===v&&(v=1/0);var g=e.textAlign;void 0===g&&(g="left");var y=e.textIndent;void 0===y&&(y=0);var b=e.whiteSpace;void 0===b&&(b="normal");var _=e.overflowWrap;void 0===_&&(_="normal");var x=e.anchorX;void 0===x&&(x=0);var w=e.anchorY;void 0===w&&(w=0);var M=e.includeCaretPositions;void 0===M&&(M=!1);var E=e.chunkedBoundsSize;void 0===E&&(E=8192);var A=e.colorRanges;void 0===A&&(A=null),void 0===a&&(a=!1);var S=l(),T={total:0,fontLoad:0,layout:0,sdf:{},sdfTotal:0};s.indexOf("\r")>-1&&(console.warn("FontProcessor.process: got text with \\r chars; normalizing to \\n"),s=s.replace(/\r\n/g,"\n").replace(/\r/g,"\n")),f=+f,p=+p,v=+v,m=m||"normal",y=+y,function(e,t,n){e||(e=r);var a=e+"@"+t,s=i[a];s?n(s):o(e,(function(e){s=i[a]||(i[a]={fontObj:e,glyphs:{},glyphCount:0}),n(s)}))}(d,h,(function(e){var r=e.fontObj,i=isFinite(v),o=null,d=null,C=null,D=null,R=null,I=null,k=null,O=0,L=0,P="nowrap"!==b,B=r.ascender,F=r.descender,N=r.unitsPerEm;T.fontLoad=l()-S;var G=l(),j=f/N;"normal"===m&&(m=(B-F)/N);var U=((m*=f)-(B-F)*j)/2,z=-(f+U),V=Math.min(m,(B-F)*j),H=(B+F)/2*j-V/2,W=y,X=new c,q=[X];if(r.forEachGlyph(s,f,p,(function(e,t,n){var r,a=s.charAt(n),o=e.advanceWidth*j,u=X.count;if("isEmpty"in e||(e.isWhitespace=!!a&&/\s/.test(a),e.isEmpty=e.xMin===e.xMax||e.yMin===e.yMax),e.isWhitespace||e.isEmpty||L++,P&&i&&!e.isWhitespace&&t+o+W>v&&u){if(X.glyphAt(u-1).glyphObj.isWhitespace)r=new c,W=-t;else for(var l=u;l--;){if(0===l&&"break-word"===_){r=new c,W=-t;break}if(X.glyphAt(l).glyphObj.isWhitespace){var d=(r=X.splitAt(l+1)).glyphAt(0).x;W-=d;for(var h=r.count;h--;)r.glyphAt(h).x-=d;break}}r&&(X.isSoftWrapped=!0,X=r,q.push(X),O=v)}var m=X.glyphAt(X.count);m.glyphObj=e,m.x=t+W,m.width=o,m.charIndex=n,"\n"===a&&(X=new c,q.push(X),W=-(t+o+p*f)+y)})),q.forEach((function(e){for(var t=e.count;t--;){var n=e.glyphAt(t),r=n.glyphObj,i=n.x,a=n.width;if(!r.isWhitespace)return e.width=i+a,void(e.width>O&&(O=e.width))}})),!a){var Y=0,Q=0;if(x&&("number"===typeof x?Y=-x:"string"===typeof x&&(Y=-O*("left"===x?0:"center"===x?.5:"right"===x?1:u(x)))),w)if("number"===typeof w)Q=-w;else if("string"===typeof w){var Z=q.length*m;Q="top"===w?0:"top-baseline"===w?-z:"middle"===w?Z/2:"bottom"===w?Z:"bottom-baseline"===w?Z-U+F*j:u(w)*Z}d=new Float32Array(4*L),C=new Float32Array(L),I=[1/0,1/0,-1/0,-1/0],k=[];var K=z;M&&(R=new Float32Array(3*s.length)),A&&(D=new Uint8Array(3*L));var J,$,ee=0,te=-1,ne=-1;q.forEach((function(n){var r=n.count,i=n.width;if(r>0){var a=0,u=0;if("center"===g)a=(O-i)/2;else if("right"===g)a=O-i;else if("justify"===g&&n.isSoftWrapped){for(var c=0,f=r;f--;)if(!n.glyphAt(f).glyphObj.isWhitespace){for(;f--;)n.glyphAt(f).glyphObj,n.glyphAt(f).glyphObj.isWhitespace&&c++;break}u=(O-i)/c}for(var p=0;p<r;p++){var v=n.glyphAt(p),y=v.glyphObj;if(a&&(v.x+=a),0!==u&&y.isWhitespace&&(a+=u,v.width+=u),M){var b=v.charIndex;for(R[3*b]=v.x+Y,R[3*b+1]=v.x+v.width+Y,R[3*b+2]=K+H+Q;b-te>1;)R[3*(te+1)]=R[3*te+1],R[3*(te+1)+1]=R[3*te+1],R[3*(te+1)+2]=R[3*te+2],te++;te=b}if(A)for(var _=v.charIndex;_>ne;)ne++,A.hasOwnProperty(ne)&&($=A[ne]);if(!y.isWhitespace&&!y.isEmpty){var x=ee++,w=e.glyphs[y.index];if(!w){var S=l(),L=t(y,h);T.sdf[s.charAt(v.charIndex)]=l()-S,L.atlasIndex=e.glyphCount++,o||(o=[]),o.push(L),w=e.glyphs[y.index]={atlasIndex:L.atlasIndex,glyphObj:y,renderingBounds:L.renderingBounds}}var P=w.renderingBounds,B=4*x,F=d[B]=v.x+P[0]*j+Y,N=d[B+1]=K+P[1]*j+Q,G=d[B+2]=v.x+P[2]*j+Y,U=d[B+3]=K+P[3]*j+Q;if(F<I[0]&&(I[0]=F),N<I[1]&&(I[1]=N),G>I[2]&&(I[2]=G),U>I[3]&&(I[3]=U),x%E===0&&(J={start:x,end:x,rect:[1/0,1/0,-1/0,-1/0]},k.push(J)),J.end++,F<J.rect[0]&&(J.rect[0]=F),N<J.rect[1]&&(J.rect[1]=N),G>J.rect[2]&&(J.rect[2]=G),U>J.rect[3]&&(J.rect[3]=U),C[x]=w.atlasIndex,A){var z=3*x;D[z]=$>>16&255,D[z+1]=$>>8&255,D[z+2]=255&$}}}}K-=m}))}for(var re in T.sdf)T.sdfTotal+=T.sdf[re];T.layout=l()-G-T.sdfTotal,T.total=l()-S,n({glyphBounds:d,glyphAtlasIndices:C,caretPositions:R,caretHeight:V,glyphColors:D,chunkedBounds:k,ascender:B*j,descender:F*j,lineHeight:m,topBaseline:z,totalBounds:I,totalBlockSize:[O,q.length*m],newGlyphSDFs:o,timings:T})}))}function u(e){var t=e.match(/^([\d.]+)%$/),n=t?parseFloat(t[1]):NaN;return isNaN(n)?0:n/100}function l(){return(self.performance||Date).now()}function c(){this.data=[]}return c.prototype={width:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/4)},glyphAt:function(e){var t=c.flyweight;return t.data=this.data,t.index=e,t},splitAt:function(e){var t=new c;return t.data=this.data.splice(4*e),t}},c.flyweight=["glyphObj","x","width","charIndex"].reduce((function(e,t,n,r){return Object.defineProperty(e,t,{get:function(){return this.data[4*this.index+n]},set:function(e){this.data[4*this.index+n]=e}}),e}),{data:null,index:0}),{process:s,measure:function(e,t){s(e,(function(e){t({width:e.totalBlockSize[0],height:e.totalBlockSize[1]})}),{metricsOnly:!0})},loadFont:o}}],init:function(e,t,n,r,i,a){return a(n,i(r,{sdfDistancePercent:t}),{defaultFontUrl:e.defaultFontURL})}}),h=n.defineWorkerModule({name:"TextBuilder",dependencies:[d,n.ThenableWorkerModule],init:function(e,t){return function(n){var r=new t;return e.process(n,r.resolve),r}},getTransferables:function(e){var t=[e.glyphBounds.buffer,e.glyphAtlasIndices.buffer];return e.caretPositions&&t.push(e.caretPositions.buffer),e.newGlyphSDFs&&e.newGlyphSDFs.forEach((function(e){t.push(e.textureData.buffer)})),t}}),f={},p=new t.Vector3,m=function(e){function n(){e.call(this),this.detail=1,this.boundingSphere=new t.Sphere,this.boundingBox=new t.Box3}e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n;var r={detail:{configurable:!0}};return n.prototype.computeBoundingSphere=function(){},n.prototype.computeBoundingBox=function(){},r.detail.set=function(e){var n=this;if(e!==this._detail){this._detail=e,("number"!==typeof e||e<1)&&(e=1);var r=function(e){var n=f[e];return n||(n=f[e]=new t.PlaneBufferGeometry(1,1,e,e).translate(.5,.5,0)),n}(e);["position","normal","uv"].forEach((function(e){n.attributes[e]=r.attributes[e].clone()})),this.setIndex(r.getIndex().clone())}},r.detail.get=function(){return this._detail},n.prototype.updateGlyphs=function(e,t,n,r,i){v(this,"aTroikaGlyphBounds",e,4),v(this,"aTroikaGlyphIndex",t,1),v(this,"aTroikaGlyphColor",i,3),this._chunkedBounds=r,g(this,t.length);var a=this.boundingSphere;a.center.set((n[0]+n[2])/2,(n[1]+n[3])/2,0),a.radius=a.center.distanceTo(p.set(n[0],n[1],0));var o=this.boundingBox;o.min.set(n[0],n[1],0),o.max.set(n[2],n[3],0)},n.prototype.applyClipRect=function(e){var t=this.getAttribute("aTroikaGlyphIndex").count,n=this._chunkedBounds;if(n)for(var r=n.length;r--;){t=n[r].end;var i=n[r].rect;if(i[1]<e.w&&i[3]>e.y&&i[0]<e.z&&i[2]>e.x)break}g(this,t)},Object.defineProperties(n.prototype,r),n}(t.InstancedBufferGeometry);function v(e,n,r,i){var a=e.getAttribute(n);r?a&&a.array.length===r.length?(a.array.set(r),a.needsUpdate=!0):(e.setAttribute(n,new t.InstancedBufferAttribute(r,i)),delete e._maxInstanceCount,e.dispose()):a&&e.deleteAttribute(n)}function g(e,t){e[e.hasOwnProperty("instanceCount")?"instanceCount":"maxInstancedCount"]=t}function y(e){var n=r.createDerivedMaterial(e,{extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new t.Vector2},uTroikaSDFGlyphSize:{value:0},uTroikaSDFMinDistancePct:{value:0},uTroikaTotalBounds:{value:new t.Vector4(0,0,0,0)},uTroikaClipRect:{value:new t.Vector4(0,0,0,0)},uTroikaOrient:{value:new t.Matrix3},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:"\nuniform vec2 uTroikaSDFTextureSize;\nuniform float uTroikaSDFGlyphSize;\nuniform vec4 uTroikaTotalBounds;\nuniform vec4 uTroikaClipRect;\nuniform mat3 uTroikaOrient;\nuniform bool uTroikaUseGlyphColors;\nattribute vec4 aTroikaGlyphBounds;\nattribute float aTroikaGlyphIndex;\nattribute vec3 aTroikaGlyphColor;\nvarying vec2 vTroikaSDFTextureUV;\nvarying vec2 vTroikaGlyphUV;\nvarying vec3 vTroikaGlyphColor;\n",vertexTransform:"\nvec4 bounds = aTroikaGlyphBounds;\nvec4 clippedBounds = vec4(\n  clamp(bounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),\n  clamp(bounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)\n);\nvec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);\nvTroikaGlyphUV = clippedXY.xy;\n\nfloat cols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;\nvTroikaSDFTextureUV = vec2(\n  mod(aTroikaGlyphIndex, cols) + clippedXY.x,\n  floor(aTroikaGlyphIndex / cols) + clippedXY.y\n) * uTroikaSDFGlyphSize / uTroikaSDFTextureSize;\n\nposition.xy = mix(bounds.xy, bounds.zw, clippedXY);\n\nuv = vec2(\n  (position.x - uTroikaTotalBounds.x) / (uTroikaTotalBounds.z - uTroikaTotalBounds.x),\n  (position.y - uTroikaTotalBounds.y) / (uTroikaTotalBounds.w - uTroikaTotalBounds.y)\n);\n\nposition = uTroikaOrient * position;\nnormal = uTroikaOrient * normal;\n",fragmentDefs:"\nuniform sampler2D uTroikaSDFTexture;\nuniform float uTroikaSDFMinDistancePct;\nuniform bool uTroikaSDFDebug;\nvarying vec2 vTroikaSDFTextureUV;\nvarying vec2 vTroikaGlyphUV;\n\nfloat troikaGetTextAlpha() {\n  float troikaSDFValue = texture2D(uTroikaSDFTexture, vTroikaSDFTextureUV).r;\n  \n  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)\n  float alpha = step(0.5, troikaSDFValue);\n  #else\n  \n  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300\n  float aaDist = min(\n    0.5,\n    0.5 * min(\n      fwidth(vTroikaGlyphUV.x),\n      fwidth(vTroikaGlyphUV.y)\n    )\n  ) / uTroikaSDFMinDistancePct;\n  #else\n  float aaDist = 0.01;\n  #endif\n  \n  float alpha = uTroikaSDFDebug ? troikaSDFValue : smoothstep(\n    0.5 - aaDist,\n    0.5 + aaDist,\n    troikaSDFValue\n  );\n  #endif\n  \n  return alpha;\n}\n",fragmentColorTransform:"\nfloat troikaAlphaMult = troikaGetTextAlpha();\nif (troikaAlphaMult == 0.0) {\n  discard;\n} else {\n  gl_FragColor.a *= troikaAlphaMult;\n}\n",customRewriter:function(e){var t=e.vertexShader,n=e.fragmentShader,i=/\buniform\s+vec3\s+diffuse\b/;return i.test(n)&&(n=n.replace(i,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),i.test(t)||(t=t.replace(r.voidMainRegExp,"uniform vec3 diffuse;\n$&\nvTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;\n"))),{vertexShader:t,fragmentShader:n}}});return n.transparent=!0,Object.defineProperties(n,{isTroikaTextMaterial:{value:!0},shadowSide:{get:function(){return this.side},set:function(){}}}),n}m.prototype.setAttribute||(m.prototype.setAttribute=function(e,t){return this.attributes[e]=t,this});var b=new t.MeshBasicMaterial({color:16777215,side:t.DoubleSide,transparent:!0}),_=new t.Matrix4,x=new t.Vector3,w=new t.Vector3,M=[],E=new t.Vector3,A=new t.Mesh(new t.PlaneBufferGeometry(1,1).translate(.5,.5,0),b),S={type:"syncstart"},T={type:"synccomplete"},C=["font","fontSize","letterSpacing","lineHeight","maxWidth","overflowWrap","text","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],D=C.concat("material","color","depthOffset","clipRect","orientation","glyphGeometryDetail"),R=function(e){function t(){var t=new m;e.call(this,t,null),this.text="",this.anchorX=0,this.anchorY=0,this.font=null,this.fontSize=.1,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.depthOffset=0,this.clipRect=null,this.orientation="+x+y",this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.debugSDF=!1}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={textRenderInfo:{configurable:!0},material:{configurable:!0},glyphGeometryDetail:{configurable:!0},customDepthMaterial:{configurable:!0},customDistanceMaterial:{configurable:!0}};return t.prototype.sync=function(e){var t=this;this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(S),l({text:this.text,font:this.font,fontSize:this.fontSize||.1,letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize},(function(n){t._isSyncing=!1,t._textRenderInfo=n,t.geometry.updateGlyphs(n.glyphBounds,n.glyphAtlasIndices,n.totalBounds,n.chunkedBounds,n.glyphColors);var r=t._queuedSyncs;r&&(t._queuedSyncs=null,t._needsSync=!0,t.sync((function(){r.forEach((function(e){return e&&e()}))}))),t.dispatchEvent(T),e&&e()}))))},t.prototype.onBeforeRender=function(){this.sync(),this._prepareForRender()},t.prototype.dispose=function(){this.geometry.dispose()},n.textRenderInfo.get=function(){return this._textRenderInfo||null},n.material.get=function(){var e=this._derivedMaterial,t=this._baseMaterial||b;return e&&e.baseMaterial===t||(e=this._derivedMaterial=y(t),t.addEventListener("dispose",(function n(){t.removeEventListener("dispose",n),e.dispose()}))),e},n.material.set=function(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e},n.glyphGeometryDetail.get=function(){return this.geometry.detail},n.glyphGeometryDetail.set=function(e){this.geometry.detail=e},n.customDepthMaterial.get=function(){return this.material.getDepthMaterial()},n.customDistanceMaterial.get=function(){return this.material.getDistanceMaterial()},t.prototype._prepareForRender=function(){var e=this._derivedMaterial,t=e.uniforms,n=this.textRenderInfo;if(n){var r=n.sdfTexture,i=n.totalBounds;t.uTroikaSDFTexture.value=r,t.uTroikaSDFTextureSize.value.set(r.image.width,r.image.height),t.uTroikaSDFGlyphSize.value=n.sdfGlyphSize,t.uTroikaSDFMinDistancePct.value=n.sdfMinDistancePercent,t.uTroikaTotalBounds.value.fromArray(i),t.uTroikaUseGlyphColors.value=!!n.glyphColors;var a=this.clipRect;a&&Array.isArray(a)&&4===a.length?t.uTroikaClipRect.value.set(Math.max(i[0],a[0]),Math.max(i[1],a[1]),Math.min(i[2],a[2]),Math.min(i[3],a[3])):t.uTroikaClipRect.value.fromArray(i),this.geometry.applyClipRect(t.uTroikaClipRect.value)}t.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;var o=this.color;null!=o&&e.color&&e.color.isColor&&o!==e._troikaColor&&e.color.set(e._troikaColor=o);var s=this.orientation||"+x+y";if(s!==e._orientation){var u=t.uTroikaOrient.value,l="+x+y"!==(s=s.replace(/[^-+xyz]/g,""))&&s.match(/^([-+])([xyz])([-+])([xyz])$/);if(l){var c=l[1],d=l[2],h=l[3],f=l[4];x.set(0,0,0)[d]="-"===c?1:-1,w.set(0,0,0)[f]="-"===h?-1:1,_.lookAt(E,x.cross(w),w),u.setFromMatrix4(_)}else u.identity();e._orientation=s}},t.prototype.raycast=function(e,t){var n=this.textRenderInfo;if(n){var r=n.totalBounds;A.matrixWorld.multiplyMatrices(this.matrixWorld,_.set(r[2]-r[0],0,0,r[0],0,r[3]-r[1],0,r[1],0,0,1,0,0,0,0,1)),M.length=0,A.raycast(e,M);for(var i=0;i<M.length;i++)M[i].object=this,t.push(M[i])}},t.prototype.copy=function(t){var n=this;return e.prototype.copy.call(this,t),D.forEach((function(e){n[e]=t[e]})),this},t.prototype.clone=function(){return(new this.constructor).copy(this)},Object.defineProperties(t.prototype,n),t}(t.Mesh);C.forEach((function(e){var t="_private_"+e;Object.defineProperty(R.prototype,e,{get:function(){return this[t]},set:function(e){e!==this[t]&&(this[t]=e,this._needsSync=!0)}})}));var I=!1;Object.defineProperty(R.prototype,"anchor",{get:function(){return this._deprecated_anchor},set:function(e){this._deprecated_anchor=e,I||(console.warn("TextMesh: `anchor` has been deprecated; use `anchorX` and `anchorY` instead."),I=!0),Array.isArray(e)?(this.anchorX=100*(+e[0]||0)+"%",this.anchorY=100*(+e[1]||0)+"%"):this.anchorX=this.anchorY=0}});var k=new WeakMap,O=new WeakMap;e.GlyphsGeometry=m,e.Text=R,e.configureTextBuilder=function(e){c(o,e)},e.createTextDerivedMaterial=y,e.fontProcessorWorkerModule=d,e.getCaretAtPoint=function(e,t,n){var r=null,i=e.caretHeight,a=function(e){var t=O.get(e);if(!t){var n=e.caretPositions,r=e.caretHeight;t=new Map;for(var i=0;i<n.length;i+=3){var a=n[i+2],o=t.get(a);o||t.set(a,o=[]),o.push({x:n[i],y:a,height:r,charIndex:i/3}),i+3>=n.length&&o.push({x:n[i+1],y:a,height:r,charIndex:i/3+1})}}return O.set(e,t),t}(e),o=1/0;return a.forEach((function(e,t){Math.abs(n-(t+i/2))<Math.abs(n-(o+i/2))&&(o=t)})),a.get(o).forEach((function(e){(!r||Math.abs(t-e.x)<Math.abs(t-r.x))&&(r=e)})),r},e.getSelectionRects=function(e,t,n){var r;if(e){var i=k.get(e);if(i&&i.start===t&&i.end===n)return i.rects;var a=e.caretPositions,o=e.caretHeight,s=e.totalBounds;if(n<t){var u=t;t=n,n=u}t=Math.max(t,0),n=Math.min(n,a.length+1);for(var l=new Map,c=t;c<n;c++){var d=a[3*c],h=a[3*c+1],f=a[3*c+2],p=l.get(f);p?(p.left=Math.max(Math.min(p.left,d),s[0]),p.right=Math.min(Math.max(p.right,h),s[2])):(p={left:d,right:h,bottom:f,top:f+o},l.set(f,p))}r=[],l.forEach((function(e){r.push(e)})),k.set(e,{start:t,end:n,rects:r})}return r},e.preloadFont=function(e,t){var n=e.font,r=e.characters;l({font:n,sdfGlyphSize:e.sdfGlyphSize,text:Array.isArray(r)?r.join("\n"):""+r},t)},Object.defineProperty(e,"__esModule",{value:!0})}(t,n(0),n(81),n(82))},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t,r="object"==typeof self&&self&&self.Object===Object&&self,i=n||r||Function("return this")();function a(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function o(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var s=Object.prototype,u=s.hasOwnProperty,l=s.toString,c=i.Symbol,d=s.propertyIsEnumerable,h=c?c.isConcatSpreadable:void 0,f=Math.max;function p(e){return v(e)||function(e){return function(e){return g(e)&&function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}(e.length)&&!function(e){var t=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}(e)?l.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)}(e)}(e)&&u.call(e,"callee")&&(!d.call(e,"callee")||"[object Arguments]"==l.call(e))}(e)||!!(h&&e&&e[h])}function m(e){if("string"==typeof e||function(e){return"symbol"==typeof e||g(e)&&"[object Symbol]"==l.call(e)}(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}var v=Array.isArray;function g(e){return!!e&&"object"==typeof e}var y,b,_=(y=function(e,t){return null==e?{}:function(e,t){return function(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],s=e[o];n(s,o)&&(a[o]=s)}return a}(e=Object(e),t,(function(t,n){return n in e}))}(e,function(e,t){for(var n=-1,r=e?e.length:0,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}(function e(t,n,r,i,a){var s=-1,u=t.length;for(r||(r=p),a||(a=[]);++s<u;){var l=t[s];n>0&&r(l)?n>1?e(l,n-1,r,i,a):o(a,l):i||(a[a.length]=l)}return a}(t,1),m))},b=f(void 0===b?y.length-1:b,0),function(){for(var e=arguments,t=-1,n=f(e.length-b,0),r=Array(n);++t<n;)r[t]=e[b+t];t=-1;for(var i=Array(b+1);++t<b;)i[t]=e[t];return i[b]=r,a(y,this,i)});e.exports=_}).call(this,n(51))},function(e,t,n){(function(t){var n=/^\[object .+?Constructor\]$/,r=/^(?:0|[1-9]\d*)$/,i="object"==typeof t&&t&&t.Object===Object&&t,a="object"==typeof self&&self&&self.Object===Object&&self,o=i||a||Function("return this")();function s(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function u(e,t){return!!(e?e.length:0)&&function(e,t,n){if(t!==t)return function(e,t,n,r){var i=e.length,a=n+(r?1:-1);for(;r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}(e,h,n);var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,0)>-1}function l(e,t,n){for(var r=-1,i=e?e.length:0;++r<i;)if(n(t,e[r]))return!0;return!1}function c(e,t){for(var n=-1,r=e?e.length:0,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function d(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function h(e){return e!==e}function f(e,t){return e.has(t)}function p(e,t){return function(n){return e(t(n))}}var m=Array.prototype,v=Function.prototype,g=Object.prototype,y=o["__core-js_shared__"],b=function(){var e=/[^.]+$/.exec(y&&y.keys&&y.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),_=v.toString,x=g.hasOwnProperty,w=g.toString,M=RegExp("^"+_.call(x).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),E=o.Symbol,A=p(Object.getPrototypeOf,Object),S=g.propertyIsEnumerable,T=m.splice,C=E?E.isConcatSpreadable:void 0,D=Object.getOwnPropertySymbols,R=Math.max,I=V(o,"Map"),k=V(Object,"create");function O(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function L(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function P(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function B(e){var t=-1,n=e?e.length:0;for(this.__data__=new P;++t<n;)this.add(e[t])}function F(e,t){var n=Z(e)||Q(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,i=!!r;for(var a in e)!t&&!x.call(e,a)||i&&("length"==a||q(a,r))||n.push(a);return n}function N(e,t){for(var n,r,i=e.length;i--;)if((n=e[i][0])===(r=t)||n!==n&&r!==r)return i;return-1}function G(e){return!(!$(e)||(t=e,b&&b in t))&&(J(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}(e)?M:n).test(function(e){if(null!=e){try{return _.call(e)}catch(t){}try{return e+""}catch(t){}}return""}(e));var t}function j(e){if(!$(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=function(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||g;return e===n}(e),n=[];for(var r in e)("constructor"!=r||!t&&x.call(e,r))&&n.push(r);return n}function U(e){return function(e,t,n){var r=t(e);return Z(e)?r:d(r,n(e))}(e,te,W)}function z(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function V(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return G(n)?n:void 0}O.prototype.clear=function(){this.__data__=k?k(null):{}},O.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},O.prototype.get=function(e){var t=this.__data__;if(k){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return x.call(t,e)?t[e]:void 0},O.prototype.has=function(e){var t=this.__data__;return k?void 0!==t[e]:x.call(t,e)},O.prototype.set=function(e,t){return this.__data__[e]=k&&void 0===t?"__lodash_hash_undefined__":t,this},L.prototype.clear=function(){this.__data__=[]},L.prototype.delete=function(e){var t=this.__data__,n=N(t,e);return!(n<0)&&(n==t.length-1?t.pop():T.call(t,n,1),!0)},L.prototype.get=function(e){var t=this.__data__,n=N(t,e);return n<0?void 0:t[n][1]},L.prototype.has=function(e){return N(this.__data__,e)>-1},L.prototype.set=function(e,t){var n=this.__data__,r=N(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},P.prototype.clear=function(){this.__data__={hash:new O,map:new(I||L),string:new O}},P.prototype.delete=function(e){return z(this,e).delete(e)},P.prototype.get=function(e){return z(this,e).get(e)},P.prototype.has=function(e){return z(this,e).has(e)},P.prototype.set=function(e,t){return z(this,e).set(e,t),this},B.prototype.add=B.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},B.prototype.has=function(e){return this.__data__.has(e)};var H=D?p(D,Object):ae,W=D?function(e){for(var t=[];e;)d(t,H(e)),e=A(e);return t}:ae;function X(e){return Z(e)||Q(e)||!!(C&&e&&e[C])}function q(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||r.test(e))&&e>-1&&e%1==0&&e<t}function Y(e){if("string"==typeof e||function(e){return"symbol"==typeof e||ee(e)&&"[object Symbol]"==w.call(e)}(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Q(e){return function(e){return ee(e)&&K(e)}(e)&&x.call(e,"callee")&&(!S.call(e,"callee")||"[object Arguments]"==w.call(e))}var Z=Array.isArray;function K(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}(e.length)&&!J(e)}function J(e){var t=$(e)?w.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}function $(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function ee(e){return!!e&&"object"==typeof e}function te(e){return K(e)?F(e,!0):j(e)}var ne,re,ie=(ne=function(e,t){return null==e?{}:(t=c(function e(t,n,r,i,a){var o=-1,s=t.length;for(r||(r=X),a||(a=[]);++o<s;){var u=t[o];n>0&&r(u)?n>1?e(u,n-1,r,i,a):d(a,u):i||(a[a.length]=u)}return a}(t,1),Y),function(e,t){return function(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],s=e[o];n(s,o)&&(a[o]=s)}return a}(e=Object(e),t,(function(t,n){return n in e}))}(e,function(e,t,n,r){var i,a=-1,o=u,s=!0,d=e.length,h=[],p=t.length;if(!d)return h;n&&(t=c(t,(i=n,function(e){return i(e)}))),r?(o=l,s=!1):t.length>=200&&(o=f,s=!1,t=new B(t));e:for(;++a<d;){var m=e[a],v=n?n(m):m;if(m=r||0!==m?m:0,s&&v===v){for(var g=p;g--;)if(t[g]===v)continue e;h.push(m)}else o(t,v,r)||h.push(m)}return h}(U(e),t)))},re=R(void 0===re?ne.length-1:re,0),function(){for(var e=arguments,t=-1,n=R(e.length-re,0),r=Array(n);++t<n;)r[t]=e[re+t];t=-1;for(var i=Array(re+1);++t<re;)i[t]=e[t];return i[re]=r,s(ne,this,i)});function ae(){return[]}e.exports=ie}).call(this,n(51))},function(e,t,n){var r=function e(){function t(e){return i.appendChild(e.dom),e}function n(e){for(var t=0;t<i.children.length;t++)i.children[t].style.display=t===e?"block":"none";r=e}var r=0,i=document.createElement("div");i.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",i.addEventListener("click",(function(e){e.preventDefault(),n(++r%i.children.length)}),!1);var a=(performance||Date).now(),o=a,s=0,u=t(new e.Panel("FPS","#0ff","#002")),l=t(new e.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var c=t(new e.Panel("MB","#f08","#201"));return n(0),{REVISION:16,dom:i,addPanel:t,showPanel:n,begin:function(){a=(performance||Date).now()},end:function(){s++;var e=(performance||Date).now();if(l.update(e-a,200),e>o+1e3&&(u.update(1e3*s/(e-o),100),o=e,s=0,c)){var t=performance.memory;c.update(t.usedJSHeapSize/1048576,t.jsHeapSizeLimit/1048576)}return e},update:function(){a=this.end()},domElement:i,setMode:n}};r.Panel=function(e,t,n){var r=1/0,i=0,a=Math.round,o=a(window.devicePixelRatio||1),s=80*o,u=48*o,l=3*o,c=2*o,d=3*o,h=15*o,f=74*o,p=30*o,m=document.createElement("canvas");m.width=s,m.height=u,m.style.cssText="width:80px;height:48px";var v=m.getContext("2d");return v.font="bold "+9*o+"px Helvetica,Arial,sans-serif",v.textBaseline="top",v.fillStyle=n,v.fillRect(0,0,s,u),v.fillStyle=t,v.fillText(e,l,c),v.fillRect(d,h,f,p),v.fillStyle=n,v.globalAlpha=.9,v.fillRect(d,h,f,p),{dom:m,update:function(u,g){r=Math.min(r,u),i=Math.max(i,u),v.fillStyle=n,v.globalAlpha=1,v.fillRect(0,0,s,h),v.fillStyle=t,v.fillText(a(u)+" "+e+" ("+a(r)+"-"+a(i)+")",l,c),v.drawImage(m,d+o,h,f-o,p,d,h,f-o,p),v.fillRect(d+f-o,h,o,p),v.fillStyle=n,v.globalAlpha=.9,v.fillRect(d+f-o,h,o,a((1-u/g)*p))}}},e.exports=r},function(e,t,n){var r=n(83);!function(e){"use strict";var t=["992 - Silicon Motion SM502","991 - ATI Mobility 128 M3","990 - VIA S3 Graphics ProSavage8","989 - SIS Mirage M661FX ","988 - SIS Mirage 2 M760","987 - VIA Castle Rock","986 - VIA S3G UniChrome Pro","985 - VIA S3G UniChrome Pro II","984 - ATI Radeon IGP 320M","983 - ATI Radeon IGP 340M","982 - ATI Mobility Radeon 7000 IGP","981 - Intel Extreme Graphics 2","980 - VIA Chrome9 HC","979 - ATI Mobility Radeon M6","978 - ATI Mobility Radeon M7","977 - ATI Mobility Radeon 9000 IGP","976 - ATI Mobility Radeon 9100 IGP","975 - NVIDIA GeForce 2 Go (200 / 100)","974 - NVIDIA GeForce 3 Go","965 - Intel Graphics Media Accelerator (GMA) 500","963 - Intel Graphics Media Accelerator (GMA) 600","952 - SIS Mirage 3 671MX","951 - SIS Mirage 3+ 672MX","950 - ATI Radeon Xpress 1100","949 - ATI Radeon Xpress 200M","948 - Intel Graphics Media Accelerator (GMA) 900","947 - ATI Mobility FireGL 7800","946 - ATI Mobility Radeon 7500","934 - Intel Graphics Media Accelerator (GMA) 950","933 - Intel Graphics Media Accelerator (GMA) 3150","931 - NVIDIA GeForce 4 420 Go","930 - NVIDIA GeForce 4 440 Go","929 - NVIDIA GeForce 4 460 Go","928 - NVIDIA GeForce 4 488 Go","927 - ATI Mobility Radeon 9000","926 - NVIDIA GeForce FX Go 5200","925 - ATI Mobility FireGL 9000","924 - ATI Mobility Radeon 9200","923 - Intel Graphics Media Accelerator (GMA) 3600","921 - NVIDIA GeForce 7000M","920 - NVIDIA GeForce Go 6100","919 - NVIDIA GeForce Go 6150","918 - ATI Radeon Xpress 1150","917 - NVIDIA GeForce 7150M","916 - NVIDIA GeForce 7190M","915 - Intel Graphics Media Accelerator (GMA) 3650","904 - Intel Graphics Media Accelerator (GMA) X3100","903 - ATI Radeon Xpress X1200","902 - ATI Radeon Xpress 1250","901 - ATI Radeon Xpress X1250","900 - ATI Radeon Xpress X1270","899 - NVIDIA GeForce FX Go 5600 / 5650","898 - NVIDIA Quadro FX Go 1000","897 - NVIDIA GeForce FX Go 5700","896 - NVIDIA GeForce Go 6200","895 - NVIDIA GeForce Go 6250","894 - ATI Mobility Radeon X300","893 - NVIDIA GeForce Go 6400","892 - NVIDIA GeForce Go 7200","891 - ATI Mobility Radeon 9550","890 - ATI Mobility FireGL T2","889 - ATI Mobility Radeon 9600","888 - NVIDIA GeForce4 4200 Go","887 - ATI Mobility Radeon X1300","886 - ATI Mobility FireGL T2e","885 - ATI Mobility Radeon 9700","884 - ATI Mobility Radeon HD 2300","883 - ATI Mobility Radeon X2300","882 - ATI Mobility FireGL V3100","881 - ATI Mobility FireGL V3200","880 - ATI Mobility Radeon X600","879 - NVIDIA Quadro NVS 110M","874 - NVIDIA GeForce Go 7300","873 - NVIDIA Quadro NVS 120M","872 - NVIDIA Quadro FX 350M","871 - NVIDIA GeForce Go 7400","869 - Intel Graphics Media Accelerator (GMA) 4500M","868 - Intel Graphics Media Accelerator (GMA) 4500MHD","867 - Intel Graphics Media Accelerator (GMA) 4700MHD","866 - NVIDIA GeForce 8200M G","865 - NVIDIA Quadro NVS 130M","862 - NVIDIA GeForce 8400M G","861 - ATI Radeon HD 3100","860 - ATI Mobility Radeon HD 3400","851 - ATI Radeon HD 4100","850 - ATI Radeon HD 4225","849 - ATI Radeon HD 3200","848 - ATI Mobility Radeon HD 2400","847 - NVIDIA Quadro NVS 135M","846 - NVIDIA GeForce 8400M GS","845 - NVIDIA GeForce 9100M G","844 - ATI Mobility Radeon X1400","843 - ATI Mobility Radeon X1350","842 - NVIDIA Quadro FX 360M","841 - NVIDIA Quadro NVS 150M","840 - AMD Radeon HD 6250","839 - Intel Graphics Media Accelerator (GMA) HD Graphics","838 - ATI Radeon HD 4200","837 - ATI Radeon HD 4250","836 - ATI Radeon HD 4270","835 - ATI Mobility Radeon HD 2400 XT","834 - ATI Mobility Radeon HD 3410","833 - ATI Mobility Radeon HD 3430","832 - ATI Mobility Radeon HD 3450","831 - AMD Radeon HD 6290","830 - AMD Radeon HD 7290","829 - NVIDIA GeForce 9200M GS","828 - NVIDIA Quadro NVS 160M","827 - NVIDIA Quadro FX 370M","826 - NVIDIA GeForce 9300M GS","825 - NVIDIA ION 2","824 - NVIDIA GeForce 9300M G","823 - ATI Mobility Radeon HD 3470","822 - NVIDIA GeForce 9400M GeForceBoost","821 - ATI Mobility Radeon HD 3470 Hybrid X2","820 - AMD Radeon HD 8180","819 - AMD Radeon HD 6310","818 - AMD Radeon HD 7310","817 - AMD Radeon HD 6320","816 - AMD Radeon HD 7340","812 - Intel HD Graphics (Bay Trail)","803 - Intel HD Graphics (Sandy Bridge)","802 - NVIDIA GeForce 9400M (G) / ION (LE)","801 - NVIDIA GeForce G 205M","800 - NVIDIA GeForce G 102M","799 - NVIDIA GeForce 9500M GE","798 - NVIDIA GeForce G 103M","797 - NVIDIA GeForce G 105M","795 - Intel HD Graphics 2000","794 - NVIDIA Quadro NVS 140M","793 - NVIDIA GeForce 8400M GT","792 - ATI Mobility Radeon HD 4330","791 - AMD Radeon HD 6330M","790 - NVIDIA GeForce G 110M","789 - ATI Mobility FireGL V5000","788 - ATI Mobility Radeon X700","787 - ATI Mobility Radeon X1450","786 - NVIDIA GeForce Go 6600","785 - ATI Mobility Radeon 9800","784 - ATI Mobility FireGL V5200","783 - ATI Mobility Radeon X1600","782 - ATI Mobility Radeon X800","781 - NVIDIA Quadro NVS 300M","780 - NVIDIA GeForce Go 7600","779 - ATI Mobility Radeon X2500","778 - ATI Mobility FireGL V5250","777 - ATI Mobility Radeon X1700","776 - NVIDIA GeForce 305M","775 - ATI Mobility Radeon HD 530v","774 - ATI Radeon HD 4350","773 - ATI Mobility Radeon HD 4350","772 - ATI Mobility Radeon HD 4530","771 - AMD Radeon HD 6350M","770 - AMD Radeon HD 7350M","769 - Intel HD Graphics (Ivy Bridge)","768 - Intel HD Graphics 2500","767 - ATI Mobility Radeon HD 4550","766 - ATI Mobility Radeon HD 540v","765 - AMD Radeon HD 8210","764 - ATI Mobility Radeon HD 5430","763 - AMD Radeon HD 6380G","762 - AMD Radeon HD 6430M","761 - ATI Mobility Radeon X800XT","760 - NVIDIA Quadro FX Go 1400","759 - NVIDIA GeForce Go 6800","758 - NVIDIA GeForce Go 7700","757 - NVIDIA NVS 2100M","756 - NVIDIA GeForce 8600M GS","755 - NVIDIA GeForce 9500M G","754 - NVIDIA GeForce Go 7600 GT","753 - NVIDIA GeForce 315M","752 - NVIDIA GeForce 405M","751 - NVIDIA NVS 3100M","750 - NVIDIA GeForce G210M","749 - NVIDIA GeForce 310M","748 - NVIDIA Quadro FX 380M","747 - Intel HD Graphics 3000","746 - ATI Mobility Radeon HD 2600","745 - NVIDIA GeForce 8600M GT","744 - ATI Mobility Radeon HD 5450","743 - NVIDIA Quadro FX 570M","742 - ATI Mobility Radeon HD 4570","741 - Intel HD Graphics (Cherry Trail)","740 - AMD Radeon HD 8250","739 - AMD Radeon R6 (Mullins)","738 - AMD Radeon HD 8240","737 - ATI Mobility Radeon HD 545v","736 - ATI Mobility Radeon HD 5145","735 - ATI Mobility FireGL V5700","734 - ATI Mobility Radeon HD 3650","733 - AMD Radeon HD 7430M","732 - AMD Radeon HD 6450M","731 - ATI Mobility Radeon HD 5470","730 - AMD Radeon HD 8280","729 - AMD Radeon HD 6370M","727 - AMD Radeon R2 (Mullins/Beema/Carrizo-L)","723 - AMD Radeon HD 7370M","722 - NVIDIA GeForce 410M","721 - NVIDIA GeForce GT 415M","720 - ATI Mobility Radeon HD 2700","719 - AMD Radeon HD 6480G","718 - AMD Radeon HD 7400G","717 - NVIDIA GeForce 9500M GS","716 - NVIDIA GeForce 9600M GS","715 - NVIDIA GeForce Go 7800","714 - NVIDIA GeForce Go 6800 Ultra","713 - ATI Mobility Radeon X1800","712 - ATI Mobility Radeon X1800XT","711 - ATI Mobility Radeon X1900","710 - ATI Mobility Radeon HD 2600 XT","709 - NVIDIA GeForce GT 320M","708 - NVIDIA GeForce 320M","707 - AMD Radeon HD 8310G","706 - AMD Radeon HD 6520G","705 - Intel HD Graphics (Haswell)","701 - ATI Mobility FireGL V5725","700 - ATI Mobility Radeon HD 3670","699 - AMD Radeon HD 7420G","698 - NVIDIA GeForce GT 520M","697 - AMD FirePro M3900","696 - AMD Radeon HD 6470M","695 - Intel HD Graphics 400 (Braswell)","694 - Intel HD Graphics (Braswell)","693 - Intel HD Graphics 405 (Braswell)","690 - NVIDIA GeForce 705M","689 - NVIDIA GeForce 610M","688 - AMD Radeon HD 7450M","687 - AMD Radeon HD 6510G2","686 - NVIDIA GeForce GT 120M","685 - NVIDIA Quadro FX 770M","684 - NVIDIA GeForce GT 220M","683 - NVIDIA GeForce 9600M GT","682 - NVIDIA Quadro FX 1500M","681 - NVIDIA Quadro NVS 320M","680 - NVIDIA GeForce Go 7900 GS","679 - NVIDIA GeForce Go 7800 GTX","678 - NVIDIA Quadro FX 1600M","677 - NVIDIA Quadro FX 1700M","676 - NVIDIA GeForce 8700M GT","675 - NVIDIA GeForce 9650M GT","674 - NVIDIA GeForce 9650M GS","673 - Intel HD Graphics 500","672 - Intel UHD Graphics 600","671 - AMD Radeon HD 8330","670 - AMD Radeon HD 8350G","669 - NVIDIA Quadro FX 2500M","668 - NVIDIA GeForce Go 7900 GTX","667 - NVIDIA NVS 4200M","666 - NVIDIA GeForce GT 130M","665 - NVIDIA GeForce Go 7900 GS SLI","664 - NVIDIA GeForce 8600M GT SLI","663 - NVIDIA GeForce Go 7800 GTX SLI","662 - NVIDIA GeForce GT 325M","661 - AMD Radeon HD 7520G","660 - NVIDIA GeForce GT 520MX","654 - AMD Radeon HD 8400","653 - AMD Radeon HD 8410G","652 - AMD Radeon HD 6490M","651 - AMD Radeon HD 7470M","650 - AMD Radeon HD 8450G","649 - AMD Radeon HD 6515G2","648 - AMD Radeon HD 6480G + HD 7450M Dual Graphics","647 - AMD Radeon HD 7500G","646 - AMD Radeon HD 6540G2","645 - AMD Radeon HD 6520G + HD 7450M Dual Graphics","644 - AMD Radeon HD 6545G2","643 - AMD Radeon HD 6450 GDDR5","642 - Intel HD Graphics (Skylake)","641 - Intel HD Graphics 4200","640 - Intel HD Graphics (Broadwell)","639 - AMD Radeon R2 (Stoney Ridge)","638 - AMD Radeon R3 (Mullins/Beema)","637 - AMD Radeon R4 (Kaveri)","636 - AMD Radeon R4 (Beema)","635 - AMD Radeon R5 (Beema/Carrizo-L)","633 - AMD Radeon R4 (Stoney Ridge)","632 - AMD Radeon HD 6620G","629 - Intel HD Graphics 4000","628 - AMD Radeon HD 7480D","627 - ATI Mobility Radeon HD 550v","626 - NVIDIA GeForce GT 230M","625 - NVIDIA GeForce 9700M GT","624 - NVIDIA GeForce 8700M GT SLI","623 - NVIDIA Quadro FX 3500M","622 - NVIDIA GeForce Go 7950 GTX","621 - AMD Radeon HD 7510M","620 - Intel HD Graphics 5300","619 - Intel HD Graphics 505","618 - Intel UHD Graphics 605","617 - AMD Radeon HD 7490M","616 - NVIDIA GeForce GT 240M","615 - NVIDIA Quadro NVS 5100M","614 - NVIDIA Quadro FX 880M","613 - NVIDIA GeForce GT 330M","612 - ATI Mobility Radeon HD 3850","611 - AMD Radeon HD 7530M","610 - NVIDIA GeForce GT 420M","609 - NVIDIA GeForce Go 7900 GTX SLI","608 - NVIDIA GeForce GT 220","607 - NVIDIA GeForce Go 7950 GTX SLI","606 - ATI Mobility Radeon HD 4650","605 - ATI Mobility Radeon HD 560v","604 - ATI Mobility Radeon HD 5165","603 - AMD Radeon HD 6640G2","602 - AMD Radeon HD 6620G + HD 7450M Dual Graphics","601 - ATI Mobility Radeon HD 3870","600 - AMD Radeon HD 7600G","599 - AMD Radeon HD 7500G + HD 7550M Dual Graphics","598 - NVIDIA GeForce GT 335M","597 - NVIDIA Quadro FX 2700M","596 - AMD Radeon HD 6645G2","595 - NVIDIA GeForce 9700M GTS","594 - NVIDIA GeForce GT 425M","593 - ATI Mobility Radeon HD 4670","592 - AMD Radeon HD 7550M","591 - ATI Mobility Radeon HD 565v","590 - NVIDIA NVS 5200M","589 - Intel HD Graphics 510","588 - AMD Radeon HD 8610G","587 - Intel HD Graphics 4400","586 - Intel HD Graphics 610","585 - Intel UHD Graphics 610","584 - Intel HD Graphics 515","576 - AMD Radeon HD 7640G","575 - AMD Radeon HD 8470D","574 - AMD Radeon HD 7620G","573 - AMD Radeon HD 7610M","572 - AMD Radeon HD 7640G + HD 7610M Dual Graphics","571 - AMD Radeon HD 6550D","570 - NVIDIA GeForce GT 525M","569 - NVIDIA GeForce GT 620M","568 - NVIDIA GeForce GT 625M","567 - NVIDIA Quadro K500M","566 - AMD Radeon HD 8550G","565 - AMD Radeon HD 6530M","564 - AMD Radeon HD 8510G","563 - ATI Mobility Radeon HD 5650","562 - NVIDIA Quadro FX 1800M","561 - AMD Radeon HD 7630M","560 - AMD Radeon HD 7570M","559 - AMD FirePro M2000","558 - AMD Radeon HD 7650M","557 - AMD Radeon HD 6630M","556 - NVIDIA GeForce GTS 250M","555 - NVIDIA GeForce GTS 350M","554 - AMD Radeon HD 7590M","553 - AMD Radeon HD 6550M","552 - ATI Radeon HD 5570","551 - NVIDIA Quadro K510M","550 - Intel HD Graphics 5000","549 - AMD Radeon HD 6680G2","548 - NVIDIA GeForce GT 435M","547 - AMD Radeon HD 7660G","546 - NVIDIA GeForce 710M","545 - NVIDIA NVS 5400M","544 - ATI FirePro M5800","543 - AMD Radeon R5 (Kaveri)","542 - AMD Radeon R5 (Carrizo)","541 - Intel HD Graphics 615","540 - Intel UHD Graphics 615","539 - Intel UHD Graphics 617","530 - Qualcomm Adreno 630","526 - Intel HD Graphics 5500","525 - ATI Mobility Radeon HD 5730","524 - Intel HD Graphics 4600","523 - AMD Radeon HD 6650M","522 - AMD Radeon HD 6690G2","521 - NVIDIA GeForce GT 540M","520 - Intel Iris Graphics 5100","519 - AMD Radeon HD 8550M","518 - NVIDIA Quadro K610M","517 - Intel HD Graphics 6000","516 - AMD Radeon HD 8570M","515 - AMD Radeon HD 8450G + Radeon HD 8570M Dual Graphics","514 - AMD Radeon HD 6720G2","513 - ATI Mobility Radeon HD 5750","511 - AMD Radeon R5 (Stoney Ridge)","510 - AMD Radeon RX Vega 2","509 - AMD Radeon R5 M420","508 - AMD Radeon R5 M315","507 - AMD Radeon R5 M230","506 - AMD Radeon R5 M320","505 - AMD Radeon R5 M240","504 - NVIDIA GeForce 8800M GTS","503 - NVIDIA GeForce GT 720M","502 - Intel UHD Graphics G4 (Lakefield GT1 48 EU)","501 - Intel Iris Graphics 6100","500 - Intel HD Graphics 520","499 - NVIDIA GeForce 820M","498 - NVIDIA GeForce 910M","497 - NVIDIA Quadro 1000M","496 - AMD Radeon RX Vega 3","495 - AMD Radeon R5 M255","494 - AMD Radeon R5 M430","493 - AMD Radeon R5 M330","492 - AMD Radeon R5 M335","491 - NVIDIA GeForce GTS 150M","490 - AMD Radeon HD 7560D","489 - NVIDIA GeForce GT 630M","488 - AMD Radeon HD 7670M","487 - AMD Radeon HD 7520G + HD 7670M Dual Graphics","486 - AMD Radeon HD 6620G + HD 7670M Dual Graphics","485 - AMD Radeon HD 7640G + HD 7670M Dual Graphics","484 - AMD Radeon HD 8650G","483 - AMD Radeon HD 6570M","482 - ATI Mobility Radeon HD 5770","481 - ATI Mobility Radeon HD 4830","480 - NVIDIA GeForce 9800M GS","479 - AMD Radeon HD 6730M","478 - AMD Radeon HD 6740G2","477 - AMD Radeon HD 6760G2","476 - ATI Mobility Radeon HD 5830","475 - AMD Radeon HD 6830M","474 - NVIDIA GeForce GT 430","473 - NVIDIA GeForce 9800M GTS","472 - NVIDIA GeForce GTS 160M","471 - NVIDIA GeForce GTS 260M","470 - AMD Radeon HD 8590M","469 - NVIDIA GeForce GT 550M","468 - NVIDIA Quadro K1000M","467 - AMD Radeon HD 6750M","466 - AMD Radeon HD 7660D","465 - AMD Radeon R6 M255DX","464 - AMD Radeon HD 8670M","463 - AMD Radeon HD 8550G + HD 8670M Dual Graphics","462 - AMD Radeon HD 7660G + HD 7670M Dual Graphics","461 - AMD Radeon HD 8650G + HD 8570M Dual Graphics","460 - AMD Radeon HD 8650G + HD 8670M Dual Graphics","459 - AMD Radeon HD 8570D","458 - Intel HD Graphics 5600","457 - AMD Radeon HD 7690M","456 - AMD Radeon HD 6755G2","455 - NVIDIA GeForce GT 240 GDDR5","454 - NVIDIA GeForce GTS 360M","453 - NVIDIA GeForce GT 445M","452 - NVIDIA Quadro FX 3600M","451 - NVIDIA GeForce 8800M GTX","450 - NVIDIA GeForce 9800M GT","449 - NVIDIA Quadro 2000M","448 - AMD FirePro W2100","447 - AMD Radeon HD 6850M","446 - ATI Mobility Radeon HD 5850","445 - ATI Radeon HD 5670","444 - NVIDIA GeForce GT 555M","443 - NVIDIA GeForce GT 635M","442 - AMD Radeon HD 6770M","441 - AMD Radeon HD 8730M","440 - AMD Radeon HD 8650M","439 - AMD Radeon R6 (Kaveri)","438 - NVIDIA GeForce GT 640M LE","437 - AMD FirePro M5950","436 - AMD Radeon HD 7690M XT","435 - AMD Radeon HD 8670D","434 - AMD Radeon HD 6775G2","433 - NVIDIA Quadro FX 2800M","432 - NVIDIA GeForce 9800M GTX","431 - NVIDIA GeForce GTX 260M","430 - ATI Mobility Radeon HD 4850","429 - ATI FirePro M7740","428 - ATI Mobility Radeon HD 4860","427 - Qualcomm Adreno 680","426 - Qualcomm Adreno 685","425 - AMD Radeon R6 (Carrizo)","424 - Intel HD Graphics 620","423 - Intel UHD Graphics 620","422 - AMD Radeon R5 (Bristol Ridge)","420 - Intel HD Graphics P530","419 - Intel HD Graphics 530","418 - Intel UHD Graphics G7 (Lakefield GT2 64 EU)","417 - Intel HD Graphics P630","416 - Intel HD Graphics 630","415 - Intel UHD Graphics P630","414 - Intel UHD Graphics 630","413 - Intel UHD Graphics G1 (Ice Lake 32 EU)","412 - AMD Radeon RX Vega 5","411 - AMD Radeon RX Vega 6 (Ryzen 2000/3000)","410 - AMD Radeon R6 M340DX","409 - AMD Radeon 610","408 - AMD Radeon 520","407 - AMD Radeon R7 M340","406 - AMD Radeon R7 M260","405 - NVIDIA Quadro FX 3700M","404 - ATI Mobility Radeon HD 3850 X2","403 - NVIDIA GeForce 8800M GTX SLI","402 - ATI Mobility Radeon HD 3870 X2","401 - NVIDIA GeForce 9800M GTS SLI","400 - AMD Radeon R7 M440","399 - AMD Radeon 620","398 - AMD Radeon R8 M445DX","397 - AMD Radeon HD 8690M","396 - NVIDIA GeForce 9800M GT SLI","395 - NVIDIA GeForce 920M","394 - NVIDIA GeForce GTX 280M","393 - AMD Radeon R7 M360","391 - AMD Radeon HD 7730M","390 - AMD Radeon R7 M460","389 - AMD Radeon R8 M365DX","388 - AMD Radeon R7 (Kaveri)","387 - AMD Radeon R7 (Carrizo)","386 - NVIDIA GeForce GT 640M","385 - AMD Radeon R7 (Bristol Ridge)","384 - ATI Mobility Radeon HD 4870","383 - NVIDIA GeForce GTX 285M","382 - NVIDIA Quadro FX 3800M","381 - AMD Radeon R7 M265","380 - AMD Radeon R7 M270","379 - NVIDIA Quadro 3000M","378 - AMD Radeon HD 8750M","377 - AMD FirePro M4100","376 - AMD Radeon HD 7750M","375 - NVIDIA GeForce GT 645M","374 - NVIDIA GeForce GT 730M","373 - AMD Radeon HD 8550G + HD 8750M Dual Graphics","372 - NVIDIA GeForce GTX 460M","371 - AMD Radeon R7 M260X","370 - AMD Radeon HD 8770M","369 - AMD Radeon HD 8830M","368 - NVIDIA GeForce 9800M GTX SLI","367 - ATI Radeon HD 4850","366 - AMD Radeon HD 6870M","365 - ATI FirePro M7820","364 - AMD FirePro M4000","363 - NVIDIA Quadro 5000M","362 - NVIDIA GeForce 825M","361 - ATI Mobility Radeon HD 5870","360 - NVIDIA GeForce GT 735M","359 - NVIDIA GeForce GTX 260M SLI","358 - NVIDIA GeForce GTS 450","357 - NVIDIA Quadro K2000M","352 - Intel Iris Graphics 540","351 - NVIDIA GeForce 920MX","350 - Intel Iris Plus Graphics 640","349 - NVIDIA GeForce MX110","348 - NVIDIA GeForce 830M","346 - Intel Iris Plus Graphics 645","345 - AMD Radeon RX Vega 6 (Ryzen 4000)","344 - AMD Radeon 625","343 - AMD Radeon 530","342 - Intel Iris Graphics 550","341 - NVIDIA GeForce 930M","340 - Intel Iris Plus Graphics 650","339 - NVIDIA GeForce GT 740M","338 - AMD Radeon R7 384 Cores (Kaveri Desktop)","337 - Intel Iris Pro Graphics 5200","336 - AMD Radeon R7 512 Cores (Kaveri Desktop)","335 - NVIDIA GeForce GTX 560M","334 - AMD Radeon HD 7770M","333 - NVIDIA GeForce GT 745M","332 - AMD Radeon R7 M275DX","331 - NVIDIA GeForce 840M","330 - NVIDIA Quadro M500M","329 - NVIDIA Quadro K620M","328 - NVIDIA GeForce GT 650M","327 - AMD Radeon R7 M370","326 - AMD Radeon R7 M380","325 - AMD Radeon R7 M445","324 - Intel Iris Plus Graphics 655","323 - AMD Radeon R9 M375","322 - AMD FirePro W4190M","321 - NVIDIA Quadro M600M","318 - NVIDIA GeForce 930MX","317 - Intel Iris Plus Graphics G4 (Ice Lake 48 EU)","316 - NVIDIA GeForce 940M","315 - AMD Radeon RX Vega 7","314 - AMD Radeon RX Vega 8 (Ryzen 2000/3000)","313 - NVIDIA Quadro K1100M","312 - NVIDIA Quadro M520","311 - NVIDIA GeForce 940MX","310 - NVIDIA GeForce MX130","309 - Intel Iris Pro Graphics 6200","308 - NVIDIA GeForce GT 750M","307 - NVIDIA GeForce GTX 480M","306 - NVIDIA GeForce GTX 470M","305 - NVIDIA Quadro 4000M","304 - ATI Mobility Radeon HD 4870 X2","303 - AMD FirePro W4100","302 - AMD FirePro W4170M","301 - AMD Radeon HD 8790M","300 - AMD Radeon R7 M465","299 - AMD Radeon HD 7850M","298 - AMD Radeon R9 M265X","297 - AMD Radeon R9 M365X","296 - AMD Radeon HD 8850M","295 - NVIDIA GeForce 845M","294 - NVIDIA GeForce GTX 660M","293 - NVIDIA GeForce GT 755M","292 - AMD Radeon R7 250","291 - AMD Radeon HD 6950M","290 - NVIDIA GeForce GTX 280M SLI","289 - NVIDIA GeForce GTX 550 Ti","288 - ATI Radeon HD 5770","287 - NVIDIA Quadro K2100M","286 - AMD Radeon RX Vega 8 (Ryzen 4000)","285 - NVIDIA GeForce MX230","284 - AMD FirePro M5100","283 - AMD FirePro M6000","282 - Intel UHD Graphics Xe G4 48EUs","281 - NVIDIA GeForce GTX 570M","280 - NVIDIA Quadro K3000M","279 - AMD Radeon HD 7870M","278 - AMD Radeon HD 8870M","277 - AMD Radeon R9 M270","276 - AMD Radeon HD 6970M","275 - AMD FirePro M8900","274 - AMD FirePro W5130M","273 - NVIDIA Maxwell GPU Surface Book","272 - AMD Radeon RX Vega 9","271 - NVIDIA GeForce GTX 670M","270 - AMD Radeon R9 M275","269 - NVIDIA GeForce GTX 760M","268 - NVIDIA Quadro 5010M","267 - NVIDIA GeForce GTX 670MX","266 - AMD Radeon R9 M370X","265 - AMD FirePro W5170M","264 - NVIDIA Quadro K3100M","263 - NVIDIA GeForce GTX 285M SLI","262 - AMD Radeon HD 6790","261 - NVIDIA GeForce GTX 460 768MB","260 - NVIDIA GeForce GTX 485M","259 - ATI Mobility Radeon HD 5870 Crossfire","258 - NVIDIA GeForce GTX 460M SLI","257 - NVIDIA GeForce GT 650M SLI","256 - AMD Radeon HD 7770","255 - AMD Radeon R9 M380","254 - AMD Radeon R9 M385","253 - AMD Radeon R9 M470","252 - AMD Radeon HD 6990M","251 - NVIDIA GeForce GTX 580M","250 - NVIDIA GeForce GTX 675M","249 - ATI Radeon HD 5850","248 - Intel Iris Pro Graphics 580","247 - Intel Iris Pro Graphics P580","246 - AMD Radeon RX Vega 10","245 - Intel Iris Plus Graphics G7 (Ice Lake 64 EU)","244 - NVIDIA Quadro P500","243 - NVIDIA Quadro K4000M","242 - NVIDIA GeForce GTX 560M SLI","241 - NVIDIA GeForce GTX 480M SLI","240 - NVIDIA GeForce GTX 470M SLI","239 - NVIDIA GeForce GTX 765M","238 - NVIDIA GeForce 945M","237 - NVIDIA GeForce GTX 470","236 - AMD Radeon HD 6870","235 - NVIDIA GeForce GTX 560 Ti","234 - AMD Radeon HD 7950M","233 - AMD Radeon R9 M280X","232 - AMD Radeon RX Vega 11","231 - NVIDIA Quadro M620","230 - NVIDIA Quadro M1000M","229 - NVIDIA GeForce GTX 850M","228 - NVIDIA Quadro P520","227 - AMD Radeon R9 M385X","226 - AMD Radeon R9 M470X","225 - AMD Radeon 540X","224 - AMD Radeon 630","223 - AMD Radeon Pro 450","222 - NVIDIA GeForce GTX 950M","221 - NVIDIA GeForce GT 750M SLI","220 - NVIDIA GeForce GTX 675MX","219 - AMD Radeon HD 6970M Crossfire","218 - NVIDIA GeForce GTX 485M SLI","217 - NVIDIA GeForce GT 755M SLI","216 - AMD Radeon HD 6990M Crossfire","215 - NVIDIA GeForce GTX 580M SLI","214 - NVIDIA GeForce GTX 860M","213 - AMD Radeon Pro WX 3100","212 - AMD Radeon RX 540","211 - AMD Radeon Pro WX 2100","210 - AMD Radeon RX 540X","209 - NVIDIA GeForce GTX 770M","208 - Intel Iris Xe Graphics G7 80EUs","207 - NVIDIA Quadro K4100M","206 - NVIDIA Quadro K5000M","205 - NVIDIA Quadro M2000M","204 - NVIDIA GeForce MX330","203 - NVIDIA GeForce MX150","202 - NVIDIA GeForce MX250","201 - NVIDIA Quadro P600","200 - NVIDIA GeForce GT 1030","199 - AMD Radeon Pro 455","198 - AMD Radeon Pro 555","197 - AMD Radeon Pro 555X","196 - AMD Radeon Pro WX 3200","195 - AMD Radeon RX 640","194 - AMD Radeon RX 550","193 - AMD Radeon RX 550X","192 - NVIDIA Quadro P620","191 - NVIDIA Quadro M1200","190 - NVIDIA GeForce GTX 480","189 - NVIDIA GeForce GTX 570","188 - NVIDIA GeForce GTX 670MX SLI","187 - NVIDIA GeForce GTX 750 Ti","186 - NVIDIA GeForce GTX 960M","185 - AMD Radeon Pro WX 4130","184 - AMD Radeon Pro 460","183 - AMD Radeon Pro 560","182 - AMD Radeon Pro 560X","181 - AMD Radeon HD 7970M","180 - AMD FirePro M6100","179 - AMD Radeon R9 M390","178 - NVIDIA GeForce GTX 775M","177 - NVIDIA GeForce GTX 680M","176 - AMD Radeon RX 460","175 - NVIDIA GeForce GTX 765M SLI","174 - NVIDIA GeForce GTX 675M SLI","173 - AMD Radeon HD 6970","172 - NVIDIA GeForce GTX 580","171 - AMD Radeon HD 8970M","170 - AMD Radeon R9 M290X","169 - NVIDIA GeForce GTX 870M","168 - NVIDIA Quadro M2200","167 - AMD Radeon RX 560","166 - AMD Radeon RX 560X","165 - NVIDIA GeForce GTX 965M","164 - AMD Radeon HD 7870","163 - AMD Radeon Pro WX 4150","162 - AMD Radeon RX 460","161 - NVIDIA GeForce GTX 680MX","160 - NVIDIA GeForce MX350","159 - NVIDIA Quadro P1000","158 - NVIDIA Quadro K5100M","157 - NVIDIA GeForce GTX 780M","156 - NVIDIA GeForce GTX 760","155 - NVIDIA GeForce GTX 660 Ti","154 - AMD Radeon R9 270X","153 - NVIDIA GeForce GTX 950","152 - NVIDIA GeForce GTX 1050 Max-Q","151 - NVIDIA GeForce GTX 880M","150 - NVIDIA GeForce GTX 590","149 - Intel Iris Xe Graphics G7 96EUs","148 - AMD Radeon R7 370","147 - AMD Radeon R9 M395","146 - AMD FirePro W7170M","145 - Intel Xe DG1 LP (iDG1LP) Mobile","144 - NVIDIA GeForce GTX 1050 Mobile","143 - NVIDIA GeForce GTX 1050","142 - NVIDIA Quadro M3000M","141 - AMD Radeon R9 M390X","140 - AMD Radeon R9 M295X","139 - AMD Radeon R9 M485X","138 - AMD Radeon Pro Vega 16","137 - AMD Radeon Pro WX Vega M GL","136 - AMD Radeon RX Vega M GL / 870","135 - NVIDIA GeForce GTX 1050 Ti Max-Q","134 - AMD Radeon R9 M395X","133 - NVIDIA GeForce GTX 770M SLI","132 - AMD Radeon HD 7970","131 - NVIDIA GeForce GTX 680","130 - NVIDIA GeForce GTX 860M SLI","129 - NVIDIA GeForce GTX 970M","128 - NVIDIA Quadro M4000M","127 - NVIDIA Quadro P2000 Max-Q","126 - NVIDIA Quadro P2000","125 - NVIDIA GeForce GTX 1050 Ti","124 - NVIDIA GeForce GTX 1050 Ti Mobile","123 - NVIDIA GeForce GTX 960","122 - AMD Radeon R9 380","121 - AMD Radeon R9 280X","120 - NVIDIA Quadro M5000M","119 - AMD Radeon Pro Vega 20","118 - AMD Radeon RX Vega M GH","117 - NVIDIA GeForce GTX 980M","116 - AMD Radeon HD 7970M Crossfire","115 - NVIDIA GeForce GTX 680M SLI","114 - AMD Radeon HD 8970M Crossfire","113 - AMD Radeon R9 M290X Crossfire","112 - NVIDIA GeForce GTX 965M SLI","111 - AMD Radeon RX 490M","110 - AMD Radeon R9 290X","109 - NVIDIA GeForce GTX 780M SLI","108 - NVIDIA GeForce GTX 880M SLI","107 - NVIDIA GeForce MX450","106 - NVIDIA Quadro T1000 Max-Q","105 - NVIDIA Quadro T1000","104 - NVIDIA GeForce GTX 1650 Max-Q","103 - AMD Radeon RX 470","102 - AMD Radeon RX 570","101 - AMD Radeon RX 570X","100 - AMD Radeon RX 470","99 - AMD Radeon Pro WX 7100","98 - AMD Radeon RX 480","97 - NVIDIA Quadro P3000 Max-Q","96 - NVIDIA GeForce GTX 1060 Max-Q","95 - NVIDIA GeForce GTX 1650 Ti Max-Q","94 - NVIDIA GeForce GTX 1650","93 - NVIDIA GeForce GTX 1650 Mobile","92 - NVIDIA GeForce GTX 970","91 - NVIDIA Quadro P3000","90 - AMD Radeon RX 5300M","89 - AMD Radeon Pro 5300M","88 - AMD Radeon RX Vega Mobile","87 - NVIDIA GeForce GTX 780 Ti","86 - AMD Radeon RX 580","85 - AMD Radeon RX 580X","84 - NVIDIA Quadro P3200","83 - NVIDIA Quadro P4000 Max-Q","82 - AMD Radeon Pro 5500M","81 - AMD Radeon RX 5500M","80 - NVIDIA GeForce GTX 1060 Mobile","79 - AMD Radeon RX 480","78 - NVIDIA GeForce GTX 1650 Ti Mobile","76 - NVIDIA Quadro T2000 Max-Q","75 - NVIDIA Quadro T2000","74 - NVIDIA Quadro P4000","73 - AMD Radeon RX 570","72 - NVIDIA GeForce GTX 1060","71 - NVIDIA GeForce GTX 970M SLI","70 - AMD Radeon R9 390X","69 - NVIDIA Quadro M5500","68 - NVIDIA GeForce GTX 980","67 - AMD Radeon RX 580","66 - AMD Radeon RX 590","65 - NVIDIA GeForce GTX 980","64 - AMD Radeon R9 Nano","63 - AMD Radeon R9 Fury","62 - NVIDIA GeForce GTX 980M SLI","61 - NVIDIA Quadro P5000 Max-Q","60 - NVIDIA GeForce GTX 1660 Ti Max-Q","59 - AMD Radeon Pro 5600M","58 - NVIDIA GeForce GTX 1070 Max-Q","57 - NVIDIA GeForce GTX 1660","56 - NVIDIA GeForce GTX 980 Ti","55 - AMD Radeon RX 5600M","54 - NVIDIA GeForce GTX 1660 Ti Mobile","53 - NVIDIA Quadro P5000","52 - NVIDIA GeForce GTX 1660 Super","51 - NVIDIA GeForce GTX 1660 Ti","50 - NVIDIA Quadro P4200","49 - NVIDIA GeForce GTX 1070 Mobile","48 - NVIDIA GeForce RTX 2060 Max-Q","47 - AMD Radeon Pro Vega 56","46 - NVIDIA GeForce GTX 1080 Max-Q","45 - AMD Radeon RX 5600 XT","44 - NVIDIA GeForce GTX 1070","43 - NVIDIA Quadro P5200","42 - NVIDIA GeForce GTX 980 SLI","41 - NVIDIA GeForce RTX 2060 Mobile","40 - AMD Radeon RX Vega 56","39 - NVIDIA Quadro RTX 3000 Max-Q","38 - NVIDIA Quadro RTX 3000","37 - NVIDIA GeForce RTX 2070 Max-Q","36 - NVIDIA GeForce GTX 1070 Ti","35 - NVIDIA GeForce RTX 2070 Super Max-Q","34 - NVIDIA GeForce RTX 2060","33 - NVIDIA Quadro RTX 4000 Max-Q","32 - NVIDIA Quadro RTX 4000","31 - NVIDIA GeForce GTX 1080 Mobile","30 - AMD Radeon RX Vega 64","29 - AMD Radeon RX 5700M","28 - AMD Radeon RX 5700","27 - NVIDIA GeForce RTX 2060 Super","26 - NVIDIA GeForce RTX 2070 Mobile","25 - NVIDIA GeForce RTX 2070 Super Mobile","24 - NVIDIA GeForce GTX 1080","22 - NVIDIA GeForce RTX 2070","21 - AMD Radeon RX 5700 XT","20 - AMD Radeon VII","19 - NVIDIA GeForce RTX 2070 Super","18 - NVIDIA GeForce RTX 2080 Max-Q","17 - NVIDIA GeForce RTX 2080 Super Max-Q","16 - NVIDIA GeForce GTX 1070 SLI","15 - NVIDIA GeForce GTX 1070 SLI","14 - NVIDIA GeForce GTX 1080 SLI","13 - NVIDIA Titan X Pascal","12 - NVIDIA GeForce GTX 1080 Ti","11 - NVIDIA GeForce RTX 2080 Mobile","10 - NVIDIA GeForce RTX 2080 Super Mobile","9 - NVIDIA Quadro RTX 5000 Max-Q","8 - NVIDIA Quadro RTX 5000","6 - NVIDIA GeForce RTX 2080","5 - NVIDIA GeForce RTX 2080 Super","4 - NVIDIA Quadro RTX 6000","2 - NVIDIA GeForce RTX 2080 Ti","1 - NVIDIA Titan RTX"],n=["973 - ARM Mali-200","972 - Qualcomm Adreno 200","971 - PowerVR SGX530","970 - PowerVR SGX531","969 - PowerVR SGX535","968 - Vivante GC800","967 - Qualcomm Adreno 203","966 - Qualcomm Adreno 205","964 - PowerVR SGX540","962 - NVIDIA GeForce ULP (Tegra 2)","961 - ARM Mali-400 MP","960 - ARM Mali-400 MP2","959 - Vivante GC1000+ Dual-Core","958 - Qualcomm Adreno 220","957 - Broadcom VideoCore-IV","956 - NVIDIA GeForce ULP (Tegra 3)","955 - ARM Mali-400 MP4","954 - Vivante GC4000","953 - Qualcomm Adreno 225","945 - Qualcomm Adreno 302","944 - Vivante GC7000UL","943 - ARM Mali-T720","942 - Qualcomm Adreno 304","941 - Qualcomm Adreno 305","940 - Qualcomm Adreno 306","939 - Qualcomm Adreno 308","938 - PowerVR SGX544","937 - ARM Mali-T720 MP2","936 - PowerVR SGX544MP2","935 - PowerVR SGX545","932 - PowerVR SGX543MP2","922 - PowerVR SGX543MP3","914 - ARM Mali-T830 MP1","913 - ARM Mali-450 MP4","912 - ARM Mali-T720 MP4","911 - PowerVR GE8100","910 - PowerVR GE8300","909 - PowerVR GE8320","908 - ARM Mali-T760 MP2","907 - Qualcomm Adreno 320","906 - ARM Mali-T624","905 - PowerVR SGX543MP4","878 - ARM Mali-T830 MP2","877 - Qualcomm Adreno 405","876 - PowerVR G6200","875 - NVIDIA GeForce Tegra 4","870 - ARM Mali-T604 MP4","864 - ARM Mali-T830 MP3","863 - ARM Mali-T860 MP2","859 - Qualcomm Adreno 504","858 - Qualcomm Adreno 505","857 - PowerVR GE8322 / IMG8322","856 - Qualcomm Adreno 506","855 - Qualcomm Adreno 508","854 - Qualcomm Adreno 509","853 - ARM Mali-T628 MP4","852 - PowerVR SGX554MP4","814 - ARM Mali-T760 MP4","813 - ARM Mali-T628 MP6","812 - Intel HD Graphics (Bay Trail)","811 - PowerVR G6400","810 - PowerVR GX6250","809 - PowerVR G6430","808 - Qualcomm Adreno 330","807 - Qualcomm Adreno 510","806 - Qualcomm Adreno 512","805 - Qualcomm Adreno 610","804 - Qualcomm Adreno 612","741 - Intel HD Graphics (Cherry Trail)","728 - ARM Mali-G51 MP4","726 - Qualcomm Adreno 616","725 - Qualcomm Adreno 618","724 - Qualcomm Adreno 418","704 - Qualcomm Adreno 620","703 - Qualcomm Adreno 420","702 - PowerVR GX6450","692 - ARM Mali-T880 MP2","691 - ARM Mali-T760 MP6","659 - ARM Mali-G52 MP1","658 - ARM Mali-G52 MP2","657 - ARM Mali-G52 MP6","656 - ARM Mali-T880 MP4","655 - ARM Mali-G72 MP3","634 - Qualcomm Adreno 430","631 - ARM Mali-G71 MP2","630 - ARM Mali-T760 MP8","583 - ARM Mali-G76 MP4","582 - ARM Mali-T880 MP12","581 - Apple A9 / PowerVR GT7600","580 - NVIDIA Tegra K1 Kepler GPU","579 - PowerVR GXA6850","578 - Qualcomm Adreno 530","577 - PowerVR GM9446","538 - ARM Mali-G71 MP8","537 - ARM Mali-G72 MP12","536 - ARM Mali-G71 MP20","535 - ARM Mali-G72 MP18","534 - ARM Mali-G57 MP6","533 - Qualcomm Adreno 540","532 - ARM Mali-G76 MP10","531 - ARM Mali-G76 MP12","530 - Qualcomm Adreno 630","529 - Qualcomm Adreno 640","528 - ARM Mali-G76 MP16","527 - ARM Mali-G77 MP11","512 - Apple A10 Fusion GPU / PowerVR","421 - NVIDIA Tegra X1 Maxwell GPU","392 - Apple A9X / PowerVR Series 7XT","356 - Apple A10X Fusion GPU / PowerVR","355 - Apple A11 Bionic GPU","354 - Qualcomm Adreno 650","353 - Apple A12 Bionic GPU","347 - Apple A13 Bionic GPU","320 - Apple A12X Bionic GPU","319 - Apple A12Z Bionic GPU"],i=function(e){return e.toLowerCase().split("- ")[1].split(" /")[0]},a=new(function(){function e(e){this.userAgent=e||(window&&window.navigator?window.navigator.userAgent:""),this.isAndroidDevice=!/like android/i.test(this.userAgent)&&/android/i.test(this.userAgent),this.iOSDevice=this.match(1,/(iphone|ipod|ipad)/i).toLowerCase(),"MacIntel"===navigator.platform&&navigator.maxTouchPoints>2&&!window.MSStream&&(this.iOSDevice="ipad")}return e.prototype.match=function(e,t){var n=this.userAgent.match(t);return n&&n.length>1&&n[e]||""},Object.defineProperty(e.prototype,"isMobile",{get:function(){return!this.isTablet&&(/[^-]mobi/i.test(this.userAgent)||"iphone"===this.iOSDevice||"ipod"===this.iOSDevice||this.isAndroidDevice||/nexus\s*[0-6]\s*/i.test(this.userAgent))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isTablet",{get:function(){return/tablet/i.test(this.userAgent)&&!/tablet pc/i.test(this.userAgent)||"ipad"===this.iOSDevice||this.isAndroidDevice&&!/[^-]mobi/i.test(this.userAgent)||!/nexus\s*[0-6]\s*/i.test(this.userAgent)&&/nexus\s*[0-9]+/i.test(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDesktop",{get:function(){return!this.isMobile&&!this.isTablet},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMacOS",{get:function(){return/macintosh/i.test(this.userAgent)&&{version:this.match(1,/mac os x (\d+(\.?_?\d+)+)/i).replace(/[_\s]/g,".").split(".").map((function(e){return e}))[1]}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isWindows",{get:function(){return/windows /i.test(this.userAgent)&&{version:this.match(1,/Windows ((NT|XP)( \d\d?.\d)?)/i)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isiOS",{get:function(){return!!this.iOSDevice&&{version:this.match(1,/os (\d+([_\s]\d+)*) like mac os x/i).replace(/[_\s]/g,".")||this.match(1,/version\/(\d+(\.\d+)?)/i)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isAndroid",{get:function(){return this.isAndroidDevice&&{version:this.match(1,/android[ \/-](\d+(\.\d+)*)/i)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"browser",{get:function(){var e=this.match(1,/version\/(\d+(\.\d+)?)/i);return/opera/i.test(this.userAgent)?{name:"Opera",version:e||this.match(1,/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr\/|opios/i.test(this.userAgent)?{name:"Opera",version:this.match(1,/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||e}:/SamsungBrowser/i.test(this.userAgent)?{name:"Samsung Internet for Android",version:e||this.match(1,/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/yabrowser/i.test(this.userAgent)?{name:"Yandex Browser",version:e||this.match(1,/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(this.userAgent)?{name:"UC Browser",version:this.match(1,/(?:ucbrowser)[\s\/](\d+(\.\d+)?)/i)}:/msie|trident/i.test(this.userAgent)?{name:"Internet Explorer",version:this.match(1,/(?:msie |rv:)(\d+(\.\d+)?)/i)}:/(edge|edgios|edga|edg)/i.test(this.userAgent)?{name:"Microsoft Edge",version:this.match(2,/(edge|edgios|edga|edg)\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(this.userAgent)?{name:"Firefox",version:this.match(1,/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)}:/chromium/i.test(this.userAgent)?{name:"Chromium",version:this.match(1,/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||e}:/chrome|crios|crmo/i.test(this.userAgent)?{name:"Chrome",version:this.match(1,/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/safari|applewebkit/i.test(this.userAgent)?{name:"Safari",version:e}:{name:this.match(1,/^(.*)\/(.*) /),version:this.match(2,/^(.*)\/(.*) /)}},enumerable:!1,configurable:!0}),e}()),o=a.browser,s=a.isMobile,u=a.isTablet,l=function(e){return e.replace(/[\D]/g,"")},c=function(e,t,n){var r=["adreno","apple","mali-t","mali","nvidia","powervr"].find((function(e){return t.includes(e)}));if(r)for(var a=0;a<e.length;a++)for(var o=e[a],s=0;s<o.length;s++){var u=i(o[s]);if(u.includes(r)&&("mali"!==u||!u.includes("mali-t"))&&l(u).includes(n))return[a,"BENCHMARK - "+u]}return[void 0,void 0]},d=function(e,t,n){var r=["intel","amd","nvidia"].find((function(e){return t.includes(e)}));if(r)for(var a=0;a<e.length;a++)for(var o=e[a],s=0;s<o.length;s++){var u=i(o[s]);if(u.includes(r)&&l(u).includes(n))return[a,"BENCHMARK - "+u]}return[void 0,void 0]};e.getGPUTier=function(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=i.mobileBenchmarkPercentages,h=void 0===a?[0,50,30,20]:a,f=i.desktopBenchmarkPercentages,p=void 0===f?[0,50,30,20]:f,m=i.forceRendererString,v=void 0===m?"":m,g=i.forceMobile,y=void 0!==g&&g,b=i.glContext,_=i.failIfMajorPerformanceCaveat,x=void 0===_||_,w=s||u||y,M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FALLBACK";return{tier:"GPU_".concat(w?"MOBILE":"DESKTOP","_TIER_").concat(e),type:t}};if(v)e=v;else{var E=b||function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n={alpha:!1,antialias:!1,depth:!1,failIfMajorPerformanceCaveat:t,powerPreference:"high-performance",stencil:!1};"boolean"!=typeof e&&"Safari"===e.name&&e.version.includes("12")&&delete n.powerPreference;var r=document.createElement("canvas"),i=r.getContext("webgl",n)||r.getContext("experimental-webgl",n);if(i&&i instanceof WebGLRenderingContext)return i}(o,x);if(!E)return M(0,"WEBGL_UNSUPPORTED");e=function(e){var t=e.getExtension("WEBGL_debug_renderer_info");return t&&e.getParameter(t.UNMASKED_RENDERER_WEBGL)}(E)}if(e=function(e){var t=e.toLowerCase();return t.includes("angle (")&&t.includes("direct3d")&&(t=t.replace("angle (","").split(" direct3d")[0]),t.includes("nvidia")&&t.includes("gb")&&(t=t.split(/\dgb/)[0]),t}(e),/(radeon hd 6970m|radeon hd 6770m|radeon hd 6490m|radeon hd 6630m|radeon hd 6750m|radeon hd 5750|radeon hd 5670|radeon hd 4850|radeon hd 4870|radeon hd 4670|geforce 9400m|geforce 320m|geforce 330m|geforce gt 130|geforce gt 120|geforce gtx 285|geforce 8600|geforce 9600m|geforce 9400m|geforce 8800 gs|geforce 8800 gt|quadro fx 5|quadro fx 4|radeon hd 2600|radeon hd 2400|radeon r9 200|mali-4|mali-3|mali-2|google swiftshader|sgx543|legacy|sgx 543)/.test(e))return M(0,"BLACKLISTED");var A=(w?c:d)(function(e,t){var n=0;return t.map((function(t){var r=Math.round(e.length/100*t),i=e.slice(n,n+r);return n+=r,i}))}(w?n:t,w?h:p),e,l(e)),S=r(A,2),T=S[0],C=S[1];return M(T,C)},Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t,n){"use strict";t.a={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(17),i=n(24),a=n(1),o=n.n(a),s=n(25),u=(n(39),n(3)),l=n(10),c=n(23);o.a.Component;var d=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=Object(s.b)(t.props),t}return Object(i.a)(t,e),t.prototype.render=function(){return o.a.createElement(r.b,{history:this.history,children:this.props.children})},t}(o.a.Component);var h=function(e,t){return"function"===typeof e?e(t):e},f=function(e,t){return"string"===typeof e?Object(s.c)(e,null,null,t):e},p=function(e){return e},m=o.a.forwardRef;"undefined"===typeof m&&(m=p);var v=m((function(e,t){var n=e.innerRef,r=e.navigate,i=e.onClick,a=Object(l.a)(e,["innerRef","navigate","onClick"]),s=a.target,c=Object(u.a)({},a,{onClick:function(e){try{i&&i(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||s&&"_self"!==s||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),r())}});return c.ref=p!==m&&t||n,o.a.createElement("a",c)}));var g=m((function(e,t){var n=e.component,i=void 0===n?v:n,a=e.replace,s=e.to,d=e.innerRef,g=Object(l.a)(e,["component","replace","to","innerRef"]);return o.a.createElement(r.d.Consumer,null,(function(e){e||Object(c.a)(!1);var n=e.history,r=f(h(s,e.location),e.location),l=r?n.createHref(r):"",v=Object(u.a)({},g,{href:l,navigate:function(){var t=h(s,e.location);(a?n.replace:n.push)(t)}});return p!==m?v.ref=t||d:v.innerRef=d,o.a.createElement(i,v)}))})),y=function(e){return e},b=o.a.forwardRef;"undefined"===typeof b&&(b=y);b((function(e,t){var n=e["aria-current"],i=void 0===n?"page":n,a=e.activeClassName,s=void 0===a?"active":a,d=e.activeStyle,p=e.className,m=e.exact,v=e.isActive,_=e.location,x=e.sensitive,w=e.strict,M=e.style,E=e.to,A=e.innerRef,S=Object(l.a)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return o.a.createElement(r.d.Consumer,null,(function(e){e||Object(c.a)(!1);var n=_||e.location,a=f(h(E,n),n),l=a.pathname,T=l&&l.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),C=T?Object(r.e)(n.pathname,{path:T,exact:m,sensitive:x,strict:w}):null,D=!!(v?v(C,n):C),R=D?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(p,s):p,I=D?Object(u.a)({},M,{},d):M,k=Object(u.a)({"aria-current":D&&i||null,className:R,style:I,to:a},S);return y!==b?k.ref=t||A:k.innerRef=A,o.a.createElement(g,k)}))}))},function(e,t,n){"use strict";var r=n(58),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var l=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=f(n);i&&i!==p&&e(t,i,r)}var o=c(n);d&&(o=o.concat(d(n)));for(var s=u(t),m=u(n),v=0;v<o.length;++v){var g=o[v];if(!a[g]&&(!r||!r[g])&&(!m||!m[g])&&(!s||!s[g])){var y=h(n,g);try{l(t,g,y)}catch(b){}}}}return t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(13),i=n(34);var a=n(35);function o(e){var t="function"===typeof Map?new Map:void 0;return(o=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,o)}function o(){return Object(a.a)(e,arguments,Object(r.a)(this).constructor)}return o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),Object(i.a)(o,e)})(e)}},,,,function(e,t,n){"use strict";var r=n(1),i=n(43),a=n(76);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var s=new Set,u={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f=Object.prototype.hasOwnProperty,p={},m={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function _(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(m,e)||!f.call(p,e)&&(h.test(e)?m[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);g[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);g[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);g[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=60103,M=60106,E=60107,A=60108,S=60114,T=60109,C=60110,D=60112,R=60113,I=60120,k=60115,O=60116,L=60121,P=60128,B=60129,F=60130,N=60131;if("function"===typeof Symbol&&Symbol.for){var G=Symbol.for;w=G("react.element"),M=G("react.portal"),E=G("react.fragment"),A=G("react.strict_mode"),S=G("react.profiler"),T=G("react.provider"),C=G("react.context"),D=G("react.forward_ref"),R=G("react.suspense"),I=G("react.suspense_list"),k=G("react.memo"),O=G("react.lazy"),L=G("react.block"),G("react.scope"),P=G("react.opaque.id"),B=G("react.debug_trace_mode"),F=G("react.offscreen"),N=G("react.legacy_hidden")}var j,U="function"===typeof Symbol&&Symbol.iterator;function z(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=U&&e[U]||e["@@iterator"])?e:null}function V(e){if(void 0===j)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return"\n"+j+e}var H=!1;function W(e,t){if(!e||H)return"";H=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=s);break}}}finally{H=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?V(e):""}function X(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 22:return e=W(e.type._render,!1);case 1:return e=W(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case M:return"Portal";case S:return"Profiler";case A:return"StrictMode";case R:return"Suspense";case I:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case D:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case k:return q(e.type);case L:return q(e._render);case O:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function Y(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Z(e){e._valueTracker||(e._valueTracker=function(e){var t=Q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Y(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Y(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Y(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Y(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Y(n)}}function le(e,t){var n=Y(t.value),r=Y(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ce(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var de="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function fe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?fe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var me,ve=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((me=me||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=me.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ye={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function _e(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ye.hasOwnProperty(e)&&ye[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=_e(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ye).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ye[t]=ye[e]}))}));var we=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Me(e,t){if(t){if(we[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Ee(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ae(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Te=null,Ce=null;function De(e){if(e=Yr(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=Zr(t),Se(e.stateNode,e.type,t))}}function Re(e){Te?Ce?Ce.push(e):Ce=[e]:Te=e}function Ie(){if(Te){var e=Te,t=Ce;if(Ce=Te=null,De(e),t)for(e=0;e<t.length;e++)De(t[e])}}function ke(e,t){return e(t)}function Oe(e,t,n,r,i){return e(t,n,r,i)}function Le(){}var Pe=ke,Be=!1,Fe=!1;function Ne(){null===Te&&null===Ce||(Le(),Ie())}function Ge(e,t){var n=e.stateNode;if(null===n)return null;var r=Zr(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var je=!1;if(d)try{var Ue={};Object.defineProperty(Ue,"passive",{get:function(){je=!0}}),window.addEventListener("test",Ue,Ue),window.removeEventListener("test",Ue,Ue)}catch(el){je=!1}function ze(e,t,n,r,i,a,o,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Ve=!1,He=null,We=!1,Xe=null,qe={onError:function(e){Ve=!0,He=e}};function Ye(e,t,n,r,i,a,o,s,u){Ve=!1,He=null,ze.apply(qe,arguments)}function Qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(Qe(e)!==e)throw Error(o(188))}function Je(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Qe(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ke(i),e;if(a===r)return Ke(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function $e(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,rt,it=!1,at=[],ot=null,st=null,ut=null,lt=new Map,ct=new Map,dt=[],ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ft(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function pt(e,t){switch(e){case"focusin":case"focusout":ot=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ut=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ct.delete(t.pointerId)}}function mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=ft(t,n,r,i,a),null!==t&&(null!==(t=Yr(t))&&tt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function vt(e){var t=qr(e.target);if(null!==t){var n=Qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ze(n)))return e.blockedOn=t,void rt(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Yr(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function yt(e,t,n){gt(e)&&n.delete(t)}function bt(){for(it=!1;0<at.length;){var e=at[0];if(null!==e.blockedOn){null!==(e=Yr(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&at.shift()}null!==ot&&gt(ot)&&(ot=null),null!==st&&gt(st)&&(st=null),null!==ut&&gt(ut)&&(ut=null),lt.forEach(yt),ct.forEach(yt)}function _t(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,bt)))}function xt(e){function t(t){return _t(t,e)}if(0<at.length){_t(at[0],e);for(var n=1;n<at.length;n++){var r=at[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ot&&_t(ot,e),null!==st&&_t(st,e),null!==ut&&_t(ut,e),lt.forEach(t),ct.forEach(t),n=0;n<dt.length;n++)(r=dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<dt.length&&null===(n=dt[0]).blockedOn;)vt(n),null===n.blockedOn&&dt.shift()}function wt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Mt={animationend:wt("Animation","AnimationEnd"),animationiteration:wt("Animation","AnimationIteration"),animationstart:wt("Animation","AnimationStart"),transitionend:wt("Transition","TransitionEnd")},Et={},At={};function St(e){if(Et[e])return Et[e];if(!Mt[e])return e;var t,n=Mt[e];for(t in n)if(n.hasOwnProperty(t)&&t in At)return Et[e]=n[t];return e}d&&(At=document.createElement("div").style,"AnimationEvent"in window||(delete Mt.animationend.animation,delete Mt.animationiteration.animation,delete Mt.animationstart.animation),"TransitionEvent"in window||delete Mt.transitionend.transition);var Tt=St("animationend"),Ct=St("animationiteration"),Dt=St("animationstart"),Rt=St("transitionend"),It=new Map,kt=new Map,Ot=["abort","abort",Tt,"animationEnd",Ct,"animationIteration",Dt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Rt,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),kt.set(r,t),It.set(r,i),l(i,[r])}}(0,a.unstable_now)();var Pt=8;function Bt(e){if(0!==(1&e))return Pt=15,1;if(0!==(2&e))return Pt=14,2;if(0!==(4&e))return Pt=13,4;var t=24&e;return 0!==t?(Pt=12,t):0!==(32&e)?(Pt=11,32):0!==(t=192&e)?(Pt=10,t):0!==(256&e)?(Pt=9,256):0!==(t=3584&e)?(Pt=8,t):0!==(4096&e)?(Pt=7,4096):0!==(t=4186112&e)?(Pt=6,t):0!==(t=62914560&e)?(Pt=5,t):67108864&e?(Pt=4,67108864):0!==(134217728&e)?(Pt=3,134217728):0!==(t=805306368&e)?(Pt=2,t):0!==(1073741824&e)?(Pt=1,1073741824):(Pt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Pt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,s=e.pingedLanes;if(0!==a)r=a,i=Pt=15;else if(0!==(a=134217727&n)){var u=a&~o;0!==u?(r=Bt(u),i=Pt):0!==(s&=a)&&(r=Bt(s),i=Pt)}else 0!==(a=n&~o)?(r=Bt(a),i=Pt):0!==s&&(r=Bt(s),i=Pt);if(0===r)return 0;if(r=n&((0>(r=31-zt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Bt(t),i<=Pt)return t;Pt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-zt(t)),r|=e[n],t&=~i;return r}function Nt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Gt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=jt(24&~t))?Gt(10,t):e;case 10:return 0===(e=jt(192&~t))?Gt(8,t):e;case 8:return 0===(e=jt(3584&~t))&&(0===(e=jt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=jt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function jt(e){return e&-e}function Ut(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-zt(t)]=n}var zt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Vt(e)/Ht|0)|0},Vt=Math.log,Ht=Math.LN2;var Wt=a.unstable_UserBlockingPriority,Xt=a.unstable_runWithPriority,qt=!0;function Yt(e,t,n,r){Be||Le();var i=Zt,a=Be;Be=!0;try{Oe(i,e,t,n,r)}finally{(Be=a)||Ne()}}function Qt(e,t,n,r){Xt(Wt,Zt.bind(null,e,t,n,r))}function Zt(e,t,n,r){var i;if(qt)if((i=0===(4&t))&&0<at.length&&-1<ht.indexOf(e))e=ft(null,e,t,n,r),at.push(e);else{var a=Kt(e,t,n,r);if(null===a)i&&pt(e,r);else{if(i){if(-1<ht.indexOf(e))return e=ft(a,e,t,n,r),void at.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return ot=mt(ot,e,t,n,r,i),!0;case"dragenter":return st=mt(st,e,t,n,r,i),!0;case"mouseover":return ut=mt(ut,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,mt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ct.set(a,mt(ct.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;pt(e,r)}Sr(e,t,r,null,n)}}}function Kt(e,t,n,r){var i=Ae(r);if(null!==(i=qr(i))){var a=Qe(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Ze(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Sr(e,t,r,i,n),null}var Jt=null,$t=null,en=null;function tn(){if(en)return en;var e,t,n=$t,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return en=i.slice(e,1<t?1-t:void 0)}function nn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var rn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0};function an(){return!0}function on(){return!1}function sn(e,t,n,r,i){var a=5<arguments.length&&void 0!==arguments[5]?arguments[5]:rn;for(var o in this._reactName=e,this._targetInst=n,this.type=t,this.nativeEvent=r,this.target=i,this.currentTarget=null,a)if(a.hasOwnProperty(o)){var s=a[o];this[o]=s?s(r):r[o]}return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?an:on,this.isPropagationStopped=on,this}i(sn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an});var un,ln,cn,dn=i({},rn,{view:0,detail:0}),hn=i({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(un=e.screenX-cn.screenX,ln=e.screenY-cn.screenY):ln=un=0,cn=e),un)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),fn=i({},hn,{dataTransfer:0}),pn=i({},dn,{relatedTarget:0}),mn=i({},rn,{animationName:0,elapsedTime:0,pseudoElement:0}),vn=i({},rn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gn=i({},rn,{data:0}),yn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function wn(){return xn}var Mn=i({},dn,{key:function(e){if(e.key){var t=yn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=nn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?bn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wn,charCode:function(e){return"keypress"===e.type?nn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?nn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),En=i({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),An=i({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wn}),Sn=i({},rn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tn=i({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Cn=[9,13,27,32],Dn=d&&"CompositionEvent"in window,Rn=null;d&&"documentMode"in document&&(Rn=document.documentMode);var In=d&&"TextEvent"in window&&!Rn,kn=d&&(!Dn||Rn&&8<Rn&&11>=Rn),On=String.fromCharCode(32),Ln=!1;function Pn(e,t){switch(e){case"keyup":return-1!==Cn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Fn=!1;var Nn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Nn[e.type]:"textarea"===t}function jn(e,t,n,r){n=new sn("onChange","change",null,n,r),Re(r),Cr(t,e,n)}var Un=null,zn=null;function Vn(e){_r(e,0)}function Hn(e){if(K(Qr(e)))return e}function Wn(e,t){if("change"===e)return t}var Xn=!1;if(d){var qn;if(d){var Yn="oninput"in document;if(!Yn){var Qn=document.createElement("div");Qn.setAttribute("oninput","return;"),Yn="function"===typeof Qn.oninput}qn=Yn}else qn=!1;Xn=qn&&(!document.documentMode||9<document.documentMode)}function Zn(){Un&&(Un.detachEvent("onpropertychange",Kn),zn=Un=null)}function Kn(e){if("value"===e.propertyName&&Hn(zn)){var t=[];if(jn(t,zn,e,Ae(e)),e=Vn,Be)e(t);else{Be=!0;try{ke(e,t)}finally{Be=!1,Ne()}}}}function Jn(e,t,n){"focusin"===e?(Zn(),zn=n,(Un=t).attachEvent("onpropertychange",Kn)):"focusout"===e&&Zn()}function $n(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Hn(zn)}function er(e,t){if("click"===e)return Hn(t)}function tr(e,t){if("input"===e||"change"===e)return Hn(t)}var nr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},rr=Object.prototype.hasOwnProperty;function ir(e,t){if(nr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!rr.call(t,n[r])||!nr(e[n[r]],t[n[r]]))return!1;return!0}function ar(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function or(e,t){var n,r=ar(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ar(r)}}function sr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function ur(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var lr=d&&"documentMode"in document&&11>=document.documentMode,cr=null,dr=null,hr=null,fr=!1;function pr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;fr||null==cr||cr!==J(r)||("selectionStart"in(r=cr)&&ur(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},hr&&ir(hr,r)||(hr=r,(t=new sn("onSelect","select",null,t,n)).target=cr,Cr(dr,e,t)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Ot,2);for(var mr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),vr=0;vr<mr.length;vr++)kt.set(mr[vr],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yr=new Set("cancel close invalid load scroll toggle".split(" ").concat(gr));function br(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,l){if(Ye.apply(this,arguments),Ve){if(!Ve)throw Error(o(198));var c=He;Ve=!1,He=null,We||(We=!0,Xe=c)}}(r,t,void 0,e),e.currentTarget=null}function _r(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;br(i,s,l),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,l=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;br(i,s,l),a=u}}}if(We)throw e=Xe,We=!1,Xe=null,e}function xr(e,t){var n=Kr(t),r=e+"__bubble";void 0===n.get(r)&&(e=Ar(t,e,2,!1),n.set(r,{passive:!1,listener:e}))}var wr="_reactListening"+Math.random().toString(36).slice(2);function Mr(e){e[wr]||(e[wr]=!0,s.forEach((function(t){yr.has(t)||Er(t,!1,e,null),Er(t,!0,e,null)})))}function Er(e,t,n,r,i,a){var o=6<arguments.length&&void 0!==arguments[6]?arguments[6]:0,s=n;if("selectionchange"===e&&9!==n.nodeType&&(s=n.ownerDocument),void 0!==i||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(i=!0),null!==r&&!t&&yr.has(e)){if("scroll"!==e)return;o|=2,s=r}var u=Kr(s),l=e+"__"+(t?"capture":"bubble"),c=u.get(l),d=void 0!==c&&!0===c.passive&&!i;(void 0===c||d)&&(d&&s.removeEventListener(e,c.listener,t),t&&(o|=4),o=Ar(s,e,o,t,!1,i,a),u.set(l,{passive:i,listener:o}))}function Ar(e,t,n,r,i,a,o){switch(void 0===o?i=void 0===(i=kt.get(t))?2:i:i=o,i){case 0:i=Yt;break;case 1:i=Qt;break;default:i=Zt}return n=i.bind(null,t,n,e),!0!==a||je||(a=!1),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1),n}function Sr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=qr(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e(t,n);Fe=!0;try{Pe(e,t,n)}finally{Fe=!1,Ne()}}((function(){var r=a,i=Ae(n),o=[];e:{var s=It.get(e);if(void 0!==s){var u=e;switch(e){case"keypress":if(0===nn(n))break e;case"keydown":case"keyup":var l=Mn;break;case"focusin":u="focus",l=pn;break;case"focusout":u="blur",l=pn;break;case"beforeblur":case"afterblur":l=pn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=fn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=An;break;case Tt:case Ct:case Dt:l=mn;break;case Rt:l=Sn;break;case"scroll":l=dn;break;case"wheel":l=Tn;break;case"copy":case"cut":case"paste":l=vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=En}s=new sn(s,u,null,n,i,l),u=!(l=0!==(4&t))&&"scroll"===e;for(var c=s._reactName,d=null!==c?c+"Capture":null,h=[],f=r;null!==f;){var p=f,m=p.stateNode;if(5===p.tag&&null!==m&&(p=m,null!==d&&l&&(null!=(m=Ge(f,d))&&h.push(Tr(f,m,p))),null===c||l||null!=(m=Ge(f,c))&&h.push(Tr(f,m,p))),u)break;f=f.return}0!==h.length&&o.push({event:s,listeners:h})}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(u=n.relatedTarget||n.fromElement)||!qr(u)&&!u[Wr])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?qr(u):null)&&(u!==(c=Qe(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(d=hn,m="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(d=En,m="onPointerLeave",h="onPointerEnter",f="pointer"),c=null==l?s:Qr(l),p=null==u?s:Qr(u),(s=new sn(m,f+"leave",l,n,i,d)).target=c,s.relatedTarget=p,m=null,qr(i)===r&&((d=new sn(h,f+"enter",u,n,i,d)).target=p,d.relatedTarget=c,m=d),c=m,l&&u)e:{for(h=u,f=0,p=d=l;p;p=Dr(p))f++;for(p=0,m=h;m;m=Dr(m))p++;for(;0<f-p;)d=Dr(d),f--;for(;0<p-f;)h=Dr(h),p--;for(;f--;){if(d===h||null!==h&&d===h.alternate)break e;d=Dr(d),h=Dr(h)}d=null}else d=null;null!==l&&Rr(o,s,l,d,!1),null!==u&&null!==c&&Rr(o,c,u,d,!0)}if("select"===(l=(s=r?Qr(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var v=Wn;else if(Gn(s))if(Xn)v=tr;else{v=$n;var g=Jn}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=er);switch(v&&(v=v(e,r))?jn(o,v,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ie(s,"number",s.value)),g=r?Qr(r):window,e){case"focusin":(Gn(g)||"true"===g.contentEditable)&&(cr=g,dr=r,hr=null);break;case"focusout":hr=dr=cr=null;break;case"mousedown":fr=!0;break;case"contextmenu":case"mouseup":case"dragend":fr=!1,pr(o,n,i);break;case"selectionchange":if(lr)break;case"keydown":case"keyup":pr(o,n,i)}var y;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Fn?Pn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(kn&&"ko"!==n.locale&&(Fn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Fn&&(y=tn()):($t="value"in(Jt=i)?Jt.value:Jt.textContent,Fn=!0)),Cr(r,o,b=new sn(b,e,null,n,i,gn)),y?b.data=y:null!==(y=Bn(n))&&(b.data=y)),(y=In?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Ln=!0,On);case"textInput":return(e=t.data)===On&&Ln?null:e;default:return null}}(e,n):function(e,t){if(Fn)return"compositionend"===e||!Dn&&Pn(e,t)?(e=tn(),en=$t=Jt=null,Fn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return kn&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&(Cr(r,o,i=new sn("onBeforeInput","beforeinput",null,n,i,gn)),i.data=y)}_r(o,t)}))}function Tr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Cr(e,t,n){for(var r=n._reactName,i=null!==r?r+"Capture":null,a=[];null!==e;){var o=e,s=o.stateNode;5===o.tag&&null!==s&&(o=s,null!==i&&(null!=(s=Ge(e,i))&&a.unshift(Tr(e,s,o))),null!==r&&(null!=(s=Ge(e,r))&&a.push(Tr(e,s,o)))),e=e.return}0!==a.length&&t.push({event:n,listeners:a})}function Dr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Rr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=Ge(n,a))&&o.unshift(Tr(n,u,s)):i||null!=(u=Ge(n,a))&&o.push(Tr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Ir(){}var kr=null,Or=null;function Lr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Pr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Br="function"===typeof setTimeout?setTimeout:void 0,Fr="function"===typeof clearTimeout?clearTimeout:void 0;function Nr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Gr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function jr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Ur=0;var zr=Math.random().toString(36).slice(2),Vr="__reactFiber$"+zr,Hr="__reactProps$"+zr,Wr="__reactContainer$"+zr,Xr="__reactEvents$"+zr;function qr(e){var t=e[Vr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Wr]||n[Vr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=jr(e);null!==e;){if(n=e[Vr])return n;e=jr(e)}return t}n=(e=n).parentNode}return null}function Yr(e){return!(e=e[Vr]||e[Wr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Qr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Zr(e){return e[Hr]||null}function Kr(e){var t=e[Xr];return void 0===t&&(t=e[Xr]=new Map),t}var Jr=[],$r=-1;function ei(e){return{current:e}}function ti(e){0>$r||(e.current=Jr[$r],Jr[$r]=null,$r--)}function ni(e,t){$r++,Jr[$r]=e.current,e.current=t}var ri={},ii=ei(ri),ai=ei(!1),oi=ri;function si(e,t){var n=e.type.contextTypes;if(!n)return ri;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function ui(e){return null!==(e=e.childContextTypes)&&void 0!==e}function li(){ti(ai),ti(ii)}function ci(e,t,n){if(ii.current!==ri)throw Error(o(168));ni(ii,t),ni(ai,n)}function di(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,q(t)||"Unknown",a));return i({},n,r)}function hi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ri,oi=ii.current,ni(ii,e),ni(ai,ai.current),!0}function fi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=di(e,t,oi),r.__reactInternalMemoizedMergedChildContext=e,ti(ai),ti(ii),ni(ii,e)):ti(ai),ni(ai,n)}var pi=null,mi=null,vi=a.unstable_runWithPriority,gi=a.unstable_scheduleCallback,yi=a.unstable_cancelCallback,bi=a.unstable_shouldYield,_i=a.unstable_requestPaint,xi=a.unstable_now,wi=a.unstable_getCurrentPriorityLevel,Mi=a.unstable_ImmediatePriority,Ei=a.unstable_UserBlockingPriority,Ai=a.unstable_NormalPriority,Si=a.unstable_LowPriority,Ti=a.unstable_IdlePriority,Ci={},Di=void 0!==_i?_i:function(){},Ri=null,Ii=null,ki=!1,Oi=xi(),Li=1e4>Oi?xi:function(){return xi()-Oi};function Pi(){switch(wi()){case Mi:return 99;case Ei:return 98;case Ai:return 97;case Si:return 96;case Ti:return 95;default:throw Error(o(332))}}function Bi(e){switch(e){case 99:return Mi;case 98:return Ei;case 97:return Ai;case 96:return Si;case 95:return Ti;default:throw Error(o(332))}}function Fi(e,t){return e=Bi(e),vi(e,t)}function Ni(e,t,n){return e=Bi(e),gi(e,t,n)}function Gi(){if(null!==Ii){var e=Ii;Ii=null,yi(e)}ji()}function ji(){if(!ki&&null!==Ri){ki=!0;var e=0;try{var t=Ri;Fi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ri=null}catch(n){throw null!==Ri&&(Ri=Ri.slice(e+1)),gi(Mi,Gi),n}finally{ki=!1}}}function Ui(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var zi=ei(null),Vi=null,Hi=null,Wi=null;function Xi(){Wi=Hi=Vi=null}function qi(e){var t=zi.current;ti(zi),e.type._context._currentValue=t}function Yi(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function Qi(e,t){Vi=e,Wi=Hi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Co=!0),e.firstContext=null)}function Zi(e,t){if(Wi!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(Wi=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Hi){if(null===Vi)throw Error(o(308));Hi=t,Vi.dependencies={lanes:0,firstContext:t,responders:null}}else Hi=Hi.next=t;return e._currentValue}var Ki=!1;function Ji(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function $i(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ea(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ta(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function na(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ra(e,t,n,r){var a=e.updateQueue;Ki=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,u=a.shared.pending;if(null!==u){a.shared.pending=null;var l=u,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var d=e.alternate;if(null!==d){var h=(d=d.updateQueue).lastBaseUpdate;h!==s&&(null===h?d.firstBaseUpdate=c:h.next=c,d.lastBaseUpdate=l)}}if(null!==o){for(h=a.baseState,s=0,d=c=l=null;;){u=o.lane;var f=o.eventTime;if((r&u)===u){null!==d&&(d=d.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(u=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,u);break e}h=p;break e;case 3:p.effectTag=-4097&p.effectTag|64;case 0:if(null===(u="function"===typeof(p=m.payload)?p.call(f,h,u):p)||void 0===u)break e;h=i({},h,u);break e;case 2:Ki=!0}}null!==o.callback&&(e.effectTag|=32,null===(u=a.effects)?a.effects=[o]:u.push(o))}else f={eventTime:f,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=f,l=h):d=d.next=f,s|=u;if(null===(o=o.next)){if(null===(u=a.shared.pending))break;o=u.next,u.next=null,a.lastBaseUpdate=u,a.shared.pending=null}}null===d&&(l=h),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=d,Ds|=s,e.lanes=s,e.memoizedState=h}}function ia(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var aa=x.ReactCurrentBatchConfig,oa=(new r.Component).refs;function sa(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ua={isMounted:function(e){return!!(e=e._reactInternals)&&Qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e,aa.suspense),a=ea(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),ta(e,a),nu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e,aa.suspense),a=ea(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),ta(e,a),nu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),r=tu(e,aa.suspense),i=ea(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),ta(e,i),nu(e,r,n)}};function la(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ir(n,r)||!ir(i,a))}function ca(e,t,n){var r=!1,i=ri,a=t.contextType;return"object"===typeof a&&null!==a?a=Zi(a):(i=ui(t)?oi:ii.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?si(e,i):ri),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ua,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function da(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ua.enqueueReplaceState(t,t.state,null)}function ha(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=oa,Ji(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Zi(a):(a=ui(t)?oi:ii.current,i.context=si(e,a)),ra(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(sa(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ua.enqueueReplaceState(i,i.state,null),ra(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.effectTag|=4)}var fa=Array.isArray;function pa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===oa&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function ma(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function va(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Lu(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Nu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=pa(e,t,n),r.return=e,r):((r=Pu(n.type,n.key,n.props,null,e.mode,r)).ref=pa(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Gu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Bu(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Nu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Pu(t.type,t.key,t.props,null,e.mode,n)).ref=pa(e,null,t),n.return=e,n;case M:return(t=Gu(t,e.mode,n)).return=e,t}if(fa(t)||z(t))return(t=Bu(t,e.mode,n,null)).return=e,t;ma(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?n.type===E?d(e,t,n.props.children,r,i):l(e,t,n,r):null;case M:return n.key===i?c(e,t,n,r):null}if(fa(n)||z(n))return null!==i?null:d(e,t,n,r,null);ma(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return e=e.get(null===r.key?n:r.key)||null,r.type===E?d(t,e,r.props.children,i,r.key):l(t,e,r,i);case M:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(fa(r)||z(r))return d(t,e=e.get(n)||null,r,i,null);ma(t,r)}return null}function m(i,o,s,u){for(var l=null,c=null,d=o,m=o=0,v=null;null!==d&&m<s.length;m++){d.index>m?(v=d,d=null):v=d.sibling;var g=f(i,d,s[m],u);if(null===g){null===d&&(d=v);break}e&&d&&null===g.alternate&&t(i,d),o=a(g,o,m),null===c?l=g:c.sibling=g,c=g,d=v}if(m===s.length)return n(i,d),l;if(null===d){for(;m<s.length;m++)null!==(d=h(i,s[m],u))&&(o=a(d,o,m),null===c?l=d:c.sibling=d,c=d);return l}for(d=r(i,d);m<s.length;m++)null!==(v=p(d,i,m,s[m],u))&&(e&&null!==v.alternate&&d.delete(null===v.key?m:v.key),o=a(v,o,m),null===c?l=v:c.sibling=v,c=v);return e&&d.forEach((function(e){return t(i,e)})),l}function v(i,s,u,l){var c=z(u);if("function"!==typeof c)throw Error(o(150));if(null==(u=c.call(u)))throw Error(o(151));for(var d=c=null,m=s,v=s=0,g=null,y=u.next();null!==m&&!y.done;v++,y=u.next()){m.index>v?(g=m,m=null):g=m.sibling;var b=f(i,m,y.value,l);if(null===b){null===m&&(m=g);break}e&&m&&null===b.alternate&&t(i,m),s=a(b,s,v),null===d?c=b:d.sibling=b,d=b,m=g}if(y.done)return n(i,m),c;if(null===m){for(;!y.done;v++,y=u.next())null!==(y=h(i,y.value,l))&&(s=a(y,s,v),null===d?c=y:d.sibling=y,d=y);return c}for(m=r(i,m);!y.done;v++,y=u.next())null!==(y=p(m,i,v,y.value,l))&&(e&&null!==y.alternate&&m.delete(null===y.key?v:y.key),s=a(y,s,v),null===d?c=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),c}return function(e,r,a,u){var l="object"===typeof a&&null!==a&&a.type===E&&null===a.key;l&&(a=a.props.children);var c="object"===typeof a&&null!==a;if(c)switch(a.$$typeof){case w:e:{for(c=a.key,l=r;null!==l;){if(l.key===c){switch(l.tag){case 7:if(a.type===E){n(e,l.sibling),(r=i(l,a.props.children)).return=e,e=r;break e}break;default:if(l.elementType===a.type){n(e,l.sibling),(r=i(l,a.props)).ref=pa(e,l,a),r.return=e,e=r;break e}}n(e,l);break}t(e,l),l=l.sibling}a.type===E?((r=Bu(a.props.children,e.mode,u,a.key)).return=e,e=r):((u=Pu(a.type,a.key,a.props,null,e.mode,u)).ref=pa(e,r,a),u.return=e,e=u)}return s(e);case M:e:{for(l=a.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Gu(a,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Nu(a,e.mode,u)).return=e,e=r),s(e);if(fa(a))return m(e,r,a,u);if(z(a))return v(e,r,a,u);if(c&&ma(e,a),"undefined"===typeof a&&!l)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,q(e.type)||"Component"))}return n(e,r)}}var ga=va(!0),ya=va(!1),ba={},_a=ei(ba),xa=ei(ba),wa=ei(ba);function Ma(e){if(e===ba)throw Error(o(174));return e}function Ea(e,t){switch(ni(wa,t),ni(xa,e),ni(_a,ba),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ti(_a),ni(_a,t)}function Aa(){ti(_a),ti(xa),ti(wa)}function Sa(e){Ma(wa.current);var t=Ma(_a.current),n=pe(t,e.type);t!==n&&(ni(xa,e),ni(_a,n))}function Ta(e){xa.current===e&&(ti(_a),ti(xa))}var Ca=ei(0);function Da(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ra=null,Ia=null,ka=!1;function Oa(e,t){var n=ku(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function La(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Pa(e){if(ka){var t=Ia;if(t){var n=t;if(!La(e,t)){if(!(t=Gr(n.nextSibling))||!La(e,t))return e.effectTag=-1025&e.effectTag|2,ka=!1,void(Ra=e);Oa(Ra,n)}Ra=e,Ia=Gr(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,ka=!1,Ra=e}}function Ba(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ra=e}function Fa(e){if(e!==Ra)return!1;if(!ka)return Ba(e),ka=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Pr(t,e.memoizedProps))for(t=Ia;t;)Oa(e,t),t=Gr(t.nextSibling);if(Ba(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ia=Gr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ia=null}}else Ia=Ra?Gr(e.stateNode.nextSibling):null;return!0}function Na(){Ia=Ra=null,ka=!1}var Ga=[];function ja(){for(var e=0;e<Ga.length;e++)Ga[e]._workInProgressVersionPrimary=null;Ga.length=0}var Ua=x.ReactCurrentDispatcher,za=x.ReactCurrentBatchConfig,Va=0,Ha=null,Wa=null,Xa=null,qa=!1,Ya=!1;function Qa(){throw Error(o(321))}function Za(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!nr(e[n],t[n]))return!1;return!0}function Ka(e,t,n,r,i,a){if(Va=a,Ha=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ua.current=null===e||null===e.memoizedState?Eo:Ao,e=n(r,i),Ya){a=0;do{if(Ya=!1,!(25>a))throw Error(o(301));a+=1,Xa=Wa=null,t.updateQueue=null,Ua.current=So,e=n(r,i)}while(Ya)}if(Ua.current=Mo,t=null!==Wa&&null!==Wa.next,Va=0,Xa=Wa=Ha=null,qa=!1,t)throw Error(o(300));return e}function Ja(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Xa?Ha.memoizedState=Xa=e:Xa=Xa.next=e,Xa}function $a(){if(null===Wa){var e=Ha.alternate;e=null!==e?e.memoizedState:null}else e=Wa.next;var t=null===Xa?Ha.memoizedState:Xa.next;if(null!==t)Xa=t,Wa=e;else{if(null===e)throw Error(o(310));e={memoizedState:(Wa=e).memoizedState,baseState:Wa.baseState,baseQueue:Wa.baseQueue,queue:Wa.queue,next:null},null===Xa?Ha.memoizedState=Xa=e:Xa=Xa.next=e}return Xa}function eo(e,t){return"function"===typeof t?t(e):t}function to(e){var t=$a(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=Wa,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=a=null,l=i;do{var c=l.lane;if((Va&c)===c)null!==u&&(u=u.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),r=l.eagerReducer===e?l.eagerState:e(r,l.action);else{var d={lane:c,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===u?(s=u=d,a=r):u=u.next=d,Ha.lanes|=c,Ds|=c}l=l.next}while(null!==l&&l!==i);null===u?a=r:u.next=s,nr(r,t.memoizedState)||(Co=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function no(e){var t=$a(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);nr(a,t.memoizedState)||(Co=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ro(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Va&e)===e)&&(t._workInProgressVersionPrimary=r,Ga.push(t))),e)return n(t._source);throw Ga.push(t),Error(o(350))}function io(e,t,n,r){var i=xs;if(null===i)throw Error(o(349));var a=t._getVersion,s=a(t._source),u=Ua.current,l=u.useState((function(){return ro(i,t,n)})),c=l[1],d=l[0];l=Xa;var h=e.memoizedState,f=h.refs,p=f.getSnapshot,m=h.source;h=h.subscribe;var v=Ha;return e.memoizedState={refs:f,source:t,subscribe:r},u.useEffect((function(){f.getSnapshot=n,f.setSnapshot=c;var e=a(t._source);if(!nr(s,e)){e=n(t._source),nr(d,e)||(c(e),e=tu(v,aa.suspense),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var u=31-zt(o),l=1<<u;r[u]|=e,o&=~l}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=f.getSnapshot,n=f.setSnapshot;try{n(e(t._source));var r=tu(v,aa.suspense);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),nr(p,n)&&nr(m,t)&&nr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:eo,lastRenderedState:d}).dispatch=c=wo.bind(null,Ha,e),l.queue=e,l.baseQueue=null,d=ro(i,t,n),l.memoizedState=l.baseState=d),d}function ao(e,t,n){return io($a(),e,t,n)}function oo(e){var t=Ja();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:eo,lastRenderedState:e}).dispatch=wo.bind(null,Ha,e),[t.memoizedState,e]}function so(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Ha.updateQueue)?(t={lastEffect:null},Ha.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function uo(){return $a().memoizedState}function lo(e,t,n,r){var i=Ja();Ha.effectTag|=e,i.memoizedState=so(1|t,n,void 0,void 0===r?null:r)}function co(e,t,n,r){var i=$a();r=void 0===r?null:r;var a=void 0;if(null!==Wa){var o=Wa.memoizedState;if(a=o.destroy,null!==r&&Za(r,o.deps))return void so(t,n,a,r)}Ha.effectTag|=e,i.memoizedState=so(1|t,n,a,r)}function ho(e,t){return lo(516,4,e,t)}function fo(e,t){return co(516,4,e,t)}function po(e,t){return co(4,2,e,t)}function mo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function vo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,co(4,2,mo.bind(null,t,e),n)}function go(){}function yo(e,t){return Ja().memoizedState=[e,void 0===t?null:t],e}function bo(e,t){var n=$a();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Za(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function _o(e,t){var n=$a();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Za(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function xo(e,t,n){var r=Pi();Fi(98>r?98:r,(function(){e(!0)})),Fi(97<r?97:r,(function(){var r=za.suspense;za.suspense=void 0===t?null:t;try{e(!1),n()}finally{za.suspense=r}}))}function wo(e,t,n){var r=eu(),i=tu(e,aa.suspense),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Ha||null!==o&&o===Ha)Ya=qa=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=o(s,n);if(a.eagerReducer=o,a.eagerState=u,nr(u,s))return}catch(l){}nu(e,i,r)}}var Mo={readContext:Zi,useCallback:Qa,useContext:Qa,useEffect:Qa,useImperativeHandle:Qa,useLayoutEffect:Qa,useMemo:Qa,useReducer:Qa,useRef:Qa,useState:Qa,useDebugValue:Qa,useDeferredValue:Qa,useTransition:Qa,useMutableSource:Qa,useOpaqueIdentifier:Qa,unstable_isNewReconciler:!1},Eo={readContext:Zi,useCallback:yo,useContext:Zi,useEffect:ho,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,lo(4,2,mo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return lo(4,2,e,t)},useMemo:function(e,t){var n=Ja();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ja();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=wo.bind(null,Ha,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ja().memoizedState=e},useState:oo,useDebugValue:go,useDeferredValue:function(e,t){var n=oo(e),r=n[0],i=n[1];return ho((function(){var n=za.suspense;za.suspense=void 0===t?null:t;try{i(e)}finally{za.suspense=n}}),[e,t]),r},useTransition:function(e){var t=oo(!1),n=t[0];return t=t[1],[yo(xo.bind(null,t,e),[t,e]),n]},useMutableSource:function(e,t,n){var r=Ja();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},io(r,e,t,n)},useOpaqueIdentifier:function(){if(ka){var e=!1,t=function(e){return{$$typeof:P,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Ur++).toString(36))),Error(o(355))})),n=oo(t)[1];return 0===(2&Ha.mode)&&(Ha.effectTag|=516,so(5,(function(){n("r:"+(Ur++).toString(36))}),void 0,null)),t}return oo(t="r:"+(Ur++).toString(36)),t},unstable_isNewReconciler:!1},Ao={readContext:Zi,useCallback:bo,useContext:Zi,useEffect:fo,useImperativeHandle:vo,useLayoutEffect:po,useMemo:_o,useReducer:to,useRef:uo,useState:function(){return to(eo)},useDebugValue:go,useDeferredValue:function(e,t){var n=to(eo),r=n[0],i=n[1];return fo((function(){var n=za.suspense;za.suspense=void 0===t?null:t;try{i(e)}finally{za.suspense=n}}),[e,t]),r},useTransition:function(e){var t=to(eo),n=t[0];return t=t[1],[bo(xo.bind(null,t,e),[t,e]),n]},useMutableSource:ao,useOpaqueIdentifier:function(){return to(eo)[0]},unstable_isNewReconciler:!1},So={readContext:Zi,useCallback:bo,useContext:Zi,useEffect:fo,useImperativeHandle:vo,useLayoutEffect:po,useMemo:_o,useReducer:no,useRef:uo,useState:function(){return no(eo)},useDebugValue:go,useDeferredValue:function(e,t){var n=no(eo),r=n[0],i=n[1];return fo((function(){var n=za.suspense;za.suspense=void 0===t?null:t;try{i(e)}finally{za.suspense=n}}),[e,t]),r},useTransition:function(e){var t=no(eo),n=t[0];return t=t[1],[bo(xo.bind(null,t,e),[t,e]),n]},useMutableSource:ao,useOpaqueIdentifier:function(){return no(eo)[0]},unstable_isNewReconciler:!1},To=x.ReactCurrentOwner,Co=!1;function Do(e,t,n,r){t.child=null===e?ya(t,null,n,r):ga(t,e.child,n,r)}function Ro(e,t,n,r,i){n=n.render;var a=t.ref;return Qi(t,i),r=Ka(e,t,n,r,a,i),null===e||Co?(t.effectTag|=1,Do(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.lanes&=~i,Qo(e,t,i))}function Io(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Ou(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Pu(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,ko(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:ir)(i,r)&&e.ref===t.ref)?Qo(e,t,a):(t.effectTag|=1,(e=Lu(o,r)).ref=t.ref,e.return=t,t.child=e)}function ko(e,t,n,r,i,a){if(null!==e&&ir(e.memoizedProps,r)&&e.ref===t.ref){if(Co=!1,0===(a&i))return t.lanes=e.lanes,Qo(e,t,a);0!==(16384&e.effectTag)&&(Co=!0)}return Po(e,t,n,r,a)}function Oo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},cu(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},cu(t,e),null;t.memoizedState={baseLanes:0},cu(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,cu(t,r);return Do(e,t,i,n),t.child}function Lo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Po(e,t,n,r,i){var a=ui(n)?oi:ii.current;return a=si(t,a),Qi(t,i),n=Ka(e,t,n,r,a,i),null===e||Co?(t.effectTag|=1,Do(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.lanes&=~i,Qo(e,t,i))}function Bo(e,t,n,r,i){if(ui(n)){var a=!0;hi(t)}else a=!1;if(Qi(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),ca(t,n,r),ha(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=Zi(l):l=si(t,l=ui(n)?oi:ii.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==l)&&da(t,o,r,l),Ki=!1;var h=t.memoizedState;o.state=h,ra(t,r,o,i),u=t.memoizedState,s!==r||h!==u||ai.current||Ki?("function"===typeof c&&(sa(t,n,c,r),u=t.memoizedState),(s=Ki||la(t,n,s,r,h,u,l))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.effectTag|=4)):("function"===typeof o.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=s):("function"===typeof o.componentDidMount&&(t.effectTag|=4),r=!1)}else{o=t.stateNode,$i(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:Ui(t.type,s),o.props=l,d=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Zi(u):u=si(t,u=ui(n)?oi:ii.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||h!==u)&&da(t,o,r,u),Ki=!1,h=t.memoizedState,o.state=h,ra(t,r,o,i);var p=t.memoizedState;s!==d||h!==p||ai.current||Ki?("function"===typeof f&&(sa(t,n,f,r),p=t.memoizedState),(l=Ki||la(t,n,l,r,h,p,u))?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.effectTag|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=l):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.effectTag|=256),r=!1)}return Fo(e,t,n,r,a,i)}function Fo(e,t,n,r,i,a){Lo(e,t);var o=0!==(64&t.effectTag);if(!r&&!o)return i&&fi(t,n,!1),Qo(e,t,a);r=t.stateNode,To.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&o?(t.child=ga(t,e.child,null,a),t.child=ga(t,null,s,a)):Do(e,t,s,a),t.memoizedState=r.state,i&&fi(t,n,!0),t.child}function No(e){var t=e.stateNode;t.pendingContext?ci(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ci(0,t.context,!1),Ea(e,t.containerInfo)}var Go,jo,Uo,zo={dehydrated:null,retryLane:0};function Vo(e,t,n){var r,i=t.pendingProps,a=Ca.current,o=!1;return(r=0!==(64&t.effectTag))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),ni(Ca,1&a),null===e?(void 0!==i.fallback&&Pa(t),o?(e=i.fallback,a=t.mode,o=t.child,i={mode:"hidden",children:i.children},0===(2&a)&&null!==o?(o.childLanes=0,o.pendingProps=i):o=Fu(i,a,0,null),e=Bu(e,a,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState={baseLanes:n},t.memoizedState=zo,e):((n=Fu({mode:"visible",children:i.children},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=Wo(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=zo,i):(n=Ho(e,t,i.children,n),t.memoizedState=null,n))}function Ho(e,t,n,r){var i=e.child;return e=i.sibling,n=Lu(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.effectTag=8,t.firstEffect=t.lastEffect=e),t.child=n}function Wo(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var s={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=s,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Lu(o,s),null!==e?r=Lu(e,r):(r=Bu(r,a,i,null)).effectTag|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Xo(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Yi(e.return,t)}function qo(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function Yo(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Do(e,t,r.children,n),0!==(2&(r=Ca.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!==(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Xo(e,n);else if(19===e.tag)Xo(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ni(Ca,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Da(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),qo(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Da(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}qo(t,!0,n,null,a,t.lastEffect);break;case"together":qo(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Qo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ds|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Lu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Lu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function Zo(e,t){if(!ka)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ko(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return ui(t.type)&&li(),null;case 3:return Aa(),ti(ai),ti(ii),ja(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Fa(t)?t.effectTag|=4:r.hydrate||(t.effectTag|=256)),null;case 5:Ta(t);var a=Ma(wa.current);if(n=t.type,null!==e&&null!=t.stateNode)jo(e,t,n,r),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Ma(_a.current),Fa(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Vr]=t,r[Hr]=s,n){case"dialog":xr("cancel",r),xr("close",r);break;case"iframe":case"object":case"embed":xr("load",r);break;case"video":case"audio":for(e=0;e<gr.length;e++)xr(gr[e],r);break;case"source":xr("error",r);break;case"img":case"image":case"link":xr("error",r),xr("load",r);break;case"details":xr("toggle",r);break;case"input":ee(r,s),xr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},xr("invalid",r);break;case"textarea":ue(r,s),xr("invalid",r)}for(var l in Me(n,s),e=null,s)s.hasOwnProperty(l)&&(a=s[l],"children"===l?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):u.hasOwnProperty(l));switch(n){case"input":Z(r),re(r,s,!0);break;case"textarea":Z(r),ce(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Ir)}r=e,t.updateQueue=r,null!==r&&(t.effectTag|=4)}else{switch(l=9===a.nodeType?a:a.ownerDocument,e===de&&(e=fe(n)),e===de?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[Vr]=t,e[Hr]=r,Go(e,t),t.stateNode=e,l=Ee(n,r),n){case"dialog":xr("cancel",e),xr("close",e),a=r;break;case"iframe":case"object":case"embed":xr("load",e),a=r;break;case"video":case"audio":for(a=0;a<gr.length;a++)xr(gr[a],e);a=r;break;case"source":xr("error",e),a=r;break;case"img":case"image":case"link":xr("error",e),xr("load",e),a=r;break;case"details":xr("toggle",e),a=r;break;case"input":ee(e,r),a=$(e,r),xr("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),xr("invalid",e);break;case"textarea":ue(e,r),a=se(e,r),xr("invalid",e);break;default:a=r}Me(n,a);var c=a;for(s in c)if(c.hasOwnProperty(s)){var d=c[s];"style"===s?xe(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&ve(e,d):"children"===s?"string"===typeof d?("textarea"!==n||""!==d)&&ge(e,d):"number"===typeof d&&ge(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=d&&"onScroll"===s&&xr("scroll",e):null!=d&&_(e,s,d,l))}switch(n){case"input":Z(e),re(e,r,!1);break;case"textarea":Z(e),ce(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Y(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?oe(e,!!r.multiple,s,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Ir)}Lr(n,r)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Uo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Ma(wa.current),Ma(_a.current),Fa(t)?(r=t.stateNode,n=t.memoizedProps,r[Vr]=t,r.nodeValue!==n&&(t.effectTag|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Vr]=t,t.stateNode=r)}return null;case 13:return ti(Ca),r=t.memoizedState,0!==(64&t.effectTag)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Fa(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Ca.current)?0===Ss&&(Ss=3):(0!==Ss&&3!==Ss||(Ss=4),null===xs||0===(134217727&Ds)&&0===(134217727&Rs)||ou(xs,Ms))),(r||n)&&(t.effectTag|=4),null);case 4:return Aa(),null===e&&Mr(t.stateNode.containerInfo),null;case 10:return qi(t),null;case 17:return ui(t.type)&&li(),null;case 19:if(ti(Ca),null===(r=t.memoizedState))return null;if(s=0!==(64&t.effectTag),null===(l=r.rendering))if(s)Zo(r,!1);else{if(0!==Ss||null!==e&&0!==(64&e.effectTag))for(e=t.child;null!==e;){if(null!==(l=Da(e))){for(t.effectTag|=64,Zo(r,!1),null!==(s=l.updateQueue)&&(t.updateQueue=s,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).effectTag&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ni(Ca,1&Ca.current|2),t.child}e=e.sibling}null!==r.tail&&Li()>Ls&&(t.effectTag|=64,s=!0,Zo(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Da(l))){if(t.effectTag|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),Zo(r,!0),null===r.tail&&"hidden"===r.tailMode&&!l.alternate&&!ka)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Li()-r.renderingStartTime>Ls&&1073741824!==n&&(t.effectTag|=64,s=!0,Zo(r,!1),t.lanes=33554432);r.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=r.last)?n.sibling=l:t.child=l,r.last=l)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Li(),n.sibling=null,t=Ca.current,ni(Ca,s?1&t|2:1&t),n):null;case 23:case 24:return du(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.effectTag|=4),null}throw Error(o(156,t.tag))}function Jo(e){switch(e.tag){case 1:ui(e.type)&&li();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Aa(),ti(ai),ti(ii),ja(),0!==(64&(t=e.effectTag)))throw Error(o(285));return e.effectTag=-4097&t|64,e;case 5:return Ta(e),null;case 13:return ti(Ca),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return ti(Ca),null;case 4:return Aa(),null;case 10:return qi(e),null;case 23:case 24:return du(),null;default:return null}}function $o(e,t){try{var n="",r=t;do{n+=X(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function es(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Go=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},jo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Ma(_a.current);var o,s=null;switch(n){case"input":a=$(e,a),r=$(e,r),s=[];break;case"option":a=ae(e,a),r=ae(e,r),s=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":a=se(e,a),r=se(e,r),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Ir)}for(d in Me(n,r),n=null,a)if(!r.hasOwnProperty(d)&&a.hasOwnProperty(d)&&null!=a[d])if("style"===d){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(u.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var c=r[d];if(l=null!=a?a[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(u.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&xr("scroll",e),s||l===c||(s=[])):"object"===typeof c&&null!==c&&c.$$typeof===P?c.toString():(s=s||[]).push(d,c))}n&&(s=s||[]).push("style",n);var d=s;(t.updateQueue=d)&&(t.effectTag|=4)}},Uo=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var ts="function"===typeof WeakMap?WeakMap:Map;function ns(e,t,n){(n=ea(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ns||(Ns=!0,Gs=r),es(0,t)},n}function rs(e,t,n){(n=ea(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return es(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===js?js=new Set([this]):js.add(this),es(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var is="function"===typeof WeakSet?WeakSet:Set;function as(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Cu(e,t,r)}else n.current=null}function os(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ui(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.effectTag&&Nr(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(o(163))}function ss(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Au(n,e),Eu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.effectTag&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Ui(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&ia(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}ia(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&Lr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xt(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(o(163))}function us(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=_e("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ls(e,t,n){if(mi&&"function"===typeof mi.onCommitFiberUnmount)try{mi.onCommitFiberUnmount(pi,t)}catch(s){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var i=r,a=i.destroy;if(i=i.tag,void 0!==a)if(0!==(4&i))Au(t,r);else{i=t;var o=n;try{a()}catch(s){Cu(i,o,s)}}r=r.next}while(r!==e)}break;case 1:if(as(t,n),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(s){Cu(t,n,s)}break;case 5:as(t,n);break;case 4:fs(e,t,n)}}function cs(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ds(e){return 5===e.tag||3===e.tag||4===e.tag}function hs(e){e:{for(var t=e.return;null!==t;){if(ds(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.effectTag&&(ge(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ds(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?function e(t,n,r){var i=t.tag,a=5===i||6===i;if(a)t=a?t.stateNode:t.stateNode.instance,n?8===r.nodeType?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(8===r.nodeType?(n=r.parentNode).insertBefore(t,r):(n=r).appendChild(t),null!==(r=r._reactRootContainer)&&void 0!==r||null!==n.onclick||(n.onclick=Ir));else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t):function e(t,n,r){var i=t.tag,a=5===i||6===i;if(a)t=a?t.stateNode:t.stateNode.instance,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t)}function fs(e,t,n){for(var r,i,a=t,s=!1;;){if(!s){s=a.return;e:for(;;){if(null===s)throw Error(o(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===a.tag||6===a.tag){e:for(var u=e,l=a,c=n,d=l;;)if(ls(u,d,c),null!==d.child&&4!==d.tag)d.child.return=d,d=d.child;else{if(d===l)break e;for(;null===d.sibling;){if(null===d.return||d.return===l)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}i?(u=r,l=a.stateNode,8===u.nodeType?u.parentNode.removeChild(l):u.removeChild(l)):r.removeChild(a.stateNode)}else if(4===a.tag){if(null!==a.child){r=a.stateNode.containerInfo,i=!0,a.child.return=a,a=a.child;continue}}else if(ls(e,a,n),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(s=!1)}a.sibling.return=a.return,a=a.sibling}}function ps(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Hr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ee(e,i),t=Ee(e,r),i=0;i<a.length;i+=2){var s=a[i],u=a[i+1];"style"===s?xe(n,u):"dangerouslySetInnerHTML"===s?ve(n,u):"children"===s?ge(n,u):_(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":le(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,xt(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(Os=Li(),us(t.child,!0)),void ms(t);case 19:return void ms(t);case 17:return;case 23:case 24:return void us(t,null!==t.memoizedState)}throw Error(o(163))}function ms(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new is),t.forEach((function(t){var r=Ru.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vs(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var gs=Math.ceil,ys=x.ReactCurrentDispatcher,bs=x.ReactCurrentOwner,_s=0,xs=null,ws=null,Ms=0,Es=0,As=ei(0),Ss=0,Ts=null,Cs=0,Ds=0,Rs=0,Is=0,ks=null,Os=0,Ls=1/0;function Ps(){Ls=Li()+500}var Bs,Fs=null,Ns=!1,Gs=null,js=null,Us=!1,zs=null,Vs=90,Hs=[],Ws=[],Xs=null,qs=0,Ys=null,Qs=-1,Zs=0,Ks=0,Js=null,$s=!1;function eu(){return 0!==(48&_s)?Li():-1!==Qs?Qs:Qs=Li()}function tu(e,t){return 0===(2&(e=e.mode))?1:0===(4&e)?99===Pi()?1:2:(0===Zs&&(Zs=Cs),null!==t?(0!==Ks&&(Ks=null!==ks?ks.pendingLanes:0),t=Zs,e=4186112&~Ks,0===(e&=-e)&&(0===(e=(t=4186112&~t)&-t)&&(e=8192)),e):(t=Pi(),0!==(4&_s)&&98===t?t=Gt(12,Zs):t=Gt(t=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(t),Zs),t))}function nu(e,t,n){if(50<qs)throw qs=0,Ys=null,Error(o(185));if(null===(e=ru(e,t)))return null;Ut(e,t,n),e===xs&&(Rs|=t,4===Ss&&ou(e,Ms));var r=Pi();1===t?0!==(8&_s)&&0===(48&_s)?su(e):(iu(e,n),0===_s&&(Ps(),Gi())):(0===(4&_s)||98!==r&&99!==r||(null===Xs?Xs=new Set([e]):Xs.add(e)),iu(e,n)),ks=e}function ru(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function iu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-zt(s),l=1<<u,c=a[u];if(-1===c){if(0===(l&r)||0!==(l&i)){c=t,Bt(l);var d=Pt;a[u]=10<=d?c+1e3:6<=d?c+5e3:-1}}else c<=t&&(e.expiredLanes|=l);s&=~l}if(r=Ft(e,e===xs?Ms:0),t=Pt,0===r)null!==n&&(n!==Ci&&yi(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Ci&&yi(n)}15===t?(n=su.bind(null,e),null===Ri?(Ri=[n],Ii=gi(Mi,ji)):Ri.push(n),n=Ci):14===t?n=Ni(99,su.bind(null,e)):n=Ni(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),au.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function au(e){if(Qs=-1,Ks=Zs=0,0!==(48&_s))throw Error(o(327));var t=e.callbackNode;if(Mu()&&e.callbackNode!==t)return null;var n=Ft(e,e===xs?Ms:0);if(0===n)return null;var r=n,i=_s;_s|=16;var a=pu();for(xs===e&&Ms===r||(Ps(),hu(e,r));;)try{gu();break}catch(u){fu(e,u)}if(Xi(),ys.current=a,_s=i,null!==ws?r=0:(xs=null,Ms=0,r=Ss),0!==(Cs&Rs))hu(e,0);else if(0!==r){if(2===r&&(_s|=64,e.hydrate&&(e.hydrate=!1,Nr(e.containerInfo)),0!==(n=Nt(e))&&(r=mu(e,n))),1===r)throw t=Ts,hu(e,0),ou(e,n),iu(e,Li()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:_u(e);break;case 3:if(ou(e,n),(62914560&n)===n&&10<(r=Os+500-Li())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){eu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Br(_u.bind(null,e),r);break}_u(e);break;case 4:if(ou(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-zt(n);a=1<<s,(s=r[s])>i&&(i=s),n&=~a}if(n=i,10<(n=(120>(n=Li()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*gs(n/1960))-n)){e.timeoutHandle=Br(_u.bind(null,e),n);break}_u(e);break;case 5:_u(e);break;default:throw Error(o(329))}}return iu(e,Li()),e.callbackNode===t?au.bind(null,e):null}function ou(e,t){for(t&=~Is,t&=~Rs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-zt(t),r=1<<n;e[n]=-1,t&=~r}}function su(e){if(0!==(48&_s))throw Error(o(327));if(Mu(),e===xs&&0!==(e.expiredLanes&Ms)){var t=Ms,n=mu(e,t);0!==(Cs&Rs)&&(n=mu(e,t=Ft(e,t)))}else n=mu(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(_s|=64,e.hydrate&&(e.hydrate=!1,Nr(e.containerInfo)),0!==(t=Nt(e))&&(n=mu(e,t))),1===n)throw n=Ts,hu(e,0),ou(e,t),iu(e,Li()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,_u(e),iu(e,Li()),null}function uu(e,t){var n=_s;_s|=1;try{return e(t)}finally{0===(_s=n)&&(Ps(),Gi())}}function lu(e,t){var n=_s;_s&=-2,_s|=8;try{return e(t)}finally{0===(_s=n)&&(Ps(),Gi())}}function cu(e,t){ni(As,Es),Es|=t,Cs|=t}function du(){Es=As.current,ti(As)}function hu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Fr(n)),null!==ws)for(n=ws.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&li();break;case 3:Aa(),ti(ai),ti(ii),ja();break;case 5:Ta(r);break;case 4:Aa();break;case 13:case 19:ti(Ca);break;case 10:qi(r);break;case 23:case 24:du()}n=n.return}xs=e,ws=Lu(e.current,null),Ms=Es=Cs=t,Ss=0,Ts=null,Is=Rs=Ds=0}function fu(e,t){for(;;){var n=ws;try{if(Xi(),Ua.current=Mo,qa){for(var r=Ha.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}qa=!1}if(Va=0,Xa=Wa=Ha=null,Ya=!1,bs.current=null,null===n||null===n.return){Ss=1,Ts=t,ws=null;break}e:{var a=e,o=n.return,s=n,u=t;if(t=Ms,s.effectTag|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var l=u;if(0===(2&s.mode)){var c=s.alternate;c?(s.updateQueue=c.updateQueue,s.memoizedState=c.memoizedState,s.lanes=c.lanes):(s.updateQueue=null,s.memoizedState=null)}var d=0!==(1&Ca.current),h=o;do{var f;if(f=13===h.tag){var p=h.memoizedState;if(null!==p)f=null!==p.dehydrated;else{var m=h.memoizedProps;f=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!d)}}if(f){var v=h.updateQueue;if(null===v){var g=new Set;g.add(l),h.updateQueue=g}else v.add(l);if(0===(2&h.mode)){if(h.effectTag|=64,s.effectTag|=16384,s.effectTag&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=ea(-1,1);y.tag=2,ta(s,y)}s.lanes|=1;break e}u=void 0,s=t;var b=a.pingCache;if(null===b?(b=a.pingCache=new ts,u=new Set,b.set(l,u)):void 0===(u=b.get(l))&&(u=new Set,b.set(l,u)),!u.has(s)){u.add(s);var _=Du.bind(null,a,l,s);l.then(_,_)}h.effectTag|=4096,h.lanes=t;break e}h=h.return}while(null!==h);u=Error((q(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Ss&&(Ss=2),u=$o(u,s),h=o;do{switch(h.tag){case 3:a=u,h.effectTag|=4096,t&=-t,h.lanes|=t,na(h,ns(0,a,t));break e;case 1:a=u;var x=h.type,w=h.stateNode;if(0===(64&h.effectTag)&&("function"===typeof x.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===js||!js.has(w)))){h.effectTag|=4096,t&=-t,h.lanes|=t,na(h,rs(h,a,t));break e}}h=h.return}while(null!==h)}bu(n)}catch(M){t=M,ws===n&&null!==n&&(ws=n=n.return);continue}break}}function pu(){var e=ys.current;return ys.current=Mo,null===e?Mo:e}function mu(e,t){var n=_s;_s|=16;var r=pu();for(xs===e&&Ms===t||hu(e,t);;)try{vu();break}catch(i){fu(e,i)}if(Xi(),_s=n,ys.current=r,null!==ws)throw Error(o(261));return xs=null,Ms=0,Ss}function vu(){for(;null!==ws;)yu(ws)}function gu(){for(;null!==ws&&!bi();)yu(ws)}function yu(e){var t=Bs(e.alternate,e,Es);e.memoizedProps=e.pendingProps,null===t?bu(e):ws=t,bs.current=null}function bu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.effectTag)){if(null!==(n=Ko(n,t,Es)))return void(ws=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Es)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=Jo(t)))return n.effectTag&=2047,void(ws=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=t.sibling))return void(ws=t);ws=t=e}while(null!==t);0===Ss&&(Ss=5)}function _u(e){var t=Pi();return Fi(99,xu.bind(null,e,t)),null}function xu(e,t){do{Mu()}while(null!==zs);if(0!==(48&_s))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<a;){var l=31-zt(a),c=1<<l;i[l]=0,s[l]=-1,u[l]=-1,a&=~c}if(null!==Xs&&0===(24&r)&&Xs.has(e)&&Xs.delete(e),e===xs&&(ws=xs=null,Ms=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=_s,_s|=32,bs.current=null,kr=qt,ur(s=sr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(c=u.getSelection&&u.getSelection())&&0!==c.rangeCount){u=c.anchorNode,a=c.anchorOffset,l=c.focusNode,c=c.focusOffset;try{u.nodeType,l.nodeType}catch(S){u=null;break e}var d=0,h=-1,f=-1,p=0,m=0,v=s,g=null;t:for(;;){for(var y;v!==u||0!==a&&3!==v.nodeType||(h=d+a),v!==l||0!==c&&3!==v.nodeType||(f=d+c),3===v.nodeType&&(d+=v.nodeValue.length),null!==(y=v.firstChild);)g=v,v=y;for(;;){if(v===s)break t;if(g===u&&++p===a&&(h=d),g===l&&++m===c&&(f=d),null!==(y=v.nextSibling))break;g=(v=g).parentNode}v=y}u=-1===h||-1===f?null:{start:h,end:f}}else u=null;u=u||{start:0,end:0}}else u=null;Or={focusedElem:s,selectionRange:u},qt=!1,Js=null,$s=!1,Fs=r;do{try{wu()}catch(S){if(null===Fs)throw Error(o(330));Cu(Fs,Fs.return,S),Fs=Fs.nextEffect}}while(null!==Fs);Js=null,Fs=r;do{try{for(s=e;null!==Fs;){var b=Fs.effectTag;if(16&b&&ge(Fs.stateNode,""),128&b){var _=Fs.alternate;if(null!==_){var x=_.ref;null!==x&&("function"===typeof x?x(null):x.current=null)}}switch(1038&b){case 2:hs(Fs),Fs.effectTag&=-3;break;case 6:hs(Fs),Fs.effectTag&=-3,ps(Fs.alternate,Fs);break;case 1024:Fs.effectTag&=-1025;break;case 1028:Fs.effectTag&=-1025,ps(Fs.alternate,Fs);break;case 4:ps(Fs.alternate,Fs);break;case 8:fs(s,u=Fs,Fs.return);var w=u.alternate;cs(u),null!==w&&cs(w)}Fs=Fs.nextEffect}}catch(S){if(null===Fs)throw Error(o(330));Cu(Fs,Fs.return,S),Fs=Fs.nextEffect}}while(null!==Fs);if(x=Or,_=sr(),b=x.focusedElem,s=x.selectionRange,_!==b&&b&&b.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(b.ownerDocument.documentElement,b)){null!==s&&ur(b)&&(_=s.start,void 0===(x=s.end)&&(x=_),"selectionStart"in b?(b.selectionStart=_,b.selectionEnd=Math.min(x,b.value.length)):(x=(_=b.ownerDocument||document)&&_.defaultView||window).getSelection&&(x=x.getSelection(),u=b.textContent.length,w=Math.min(s.start,u),s=void 0===s.end?w:Math.min(s.end,u),!x.extend&&w>s&&(u=s,s=w,w=u),u=or(b,w),a=or(b,s),u&&a&&(1!==x.rangeCount||x.anchorNode!==u.node||x.anchorOffset!==u.offset||x.focusNode!==a.node||x.focusOffset!==a.offset)&&((_=_.createRange()).setStart(u.node,u.offset),x.removeAllRanges(),w>s?(x.addRange(_),x.extend(a.node,a.offset)):(_.setEnd(a.node,a.offset),x.addRange(_))))),_=[];for(x=b;x=x.parentNode;)1===x.nodeType&&_.push({element:x,left:x.scrollLeft,top:x.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<_.length;b++)(x=_[b]).element.scrollLeft=x.left,x.element.scrollTop=x.top}qt=!!kr,Or=kr=null,e.current=n,Fs=r;do{try{for(b=e;null!==Fs;){var M=Fs.effectTag;if(36&M&&ss(b,Fs.alternate,Fs),128&M){_=void 0;var E=Fs.ref;if(null!==E){var A=Fs.stateNode;switch(Fs.tag){case 5:_=A;break;default:_=A}"function"===typeof E?E(_):E.current=_}}Fs=Fs.nextEffect}}catch(S){if(null===Fs)throw Error(o(330));Cu(Fs,Fs.return,S),Fs=Fs.nextEffect}}while(null!==Fs);Fs=null,Di(),_s=i}else e.current=n;if(Us)Us=!1,zs=e,Vs=t;else for(Fs=r;null!==Fs;)t=Fs.nextEffect,Fs.nextEffect=null,8&Fs.effectTag&&((M=Fs).sibling=null,M.stateNode=null),Fs=t;if(0===(r=e.pendingLanes)&&(js=null),1===r?e===Ys?qs++:(qs=0,Ys=e):qs=0,n=n.stateNode,mi&&"function"===typeof mi.onCommitFiberRoot)try{mi.onCommitFiberRoot(pi,n,void 0,64===(64&n.current.effectTag))}catch(S){}if(iu(e,Li()),Ns)throw Ns=!1,e=Gs,Gs=null,e;return 0!==(8&_s)||Gi(),null}function wu(){for(;null!==Fs;){var e=Fs.alternate;$s||null===Js||(0!==(8&Fs.effectTag)?$e(Fs,Js)&&($s=!0):13===Fs.tag&&vs(e,Fs)&&$e(Fs,Js)&&($s=!0));var t=Fs.effectTag;0!==(256&t)&&os(e,Fs),0===(512&t)||Us||(Us=!0,Ni(97,(function(){return Mu(),null}))),Fs=Fs.nextEffect}}function Mu(){if(90!==Vs){var e=97<Vs?97:Vs;return Vs=90,Fi(e,Su)}return!1}function Eu(e,t){Hs.push(t,e),Us||(Us=!0,Ni(97,(function(){return Mu(),null})))}function Au(e,t){Ws.push(t,e),Us||(Us=!0,Ni(97,(function(){return Mu(),null})))}function Su(){if(null===zs)return!1;var e=zs;if(zs=null,0!==(48&_s))throw Error(o(331));var t=_s;_s|=32;var n=Ws;Ws=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(l){if(null===a)throw Error(o(330));Cu(a,a.return,l)}}for(n=Hs,Hs=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var u=i.create;i.destroy=u()}catch(l){if(null===a)throw Error(o(330));Cu(a,a.return,l)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.effectTag&&(u.sibling=null,u.stateNode=null),u=e;return _s=t,Gi(),!0}function Tu(e,t,n){ta(e,t=ns(0,t=$o(n,t),1)),t=eu(),null!==(e=ru(e,1))&&(Ut(e,1,t),iu(e,t))}function Cu(e,t,n){var r;if(3===e.tag)Tu(e,e,n);else for(r=e.return;null!==r;){if(3===r.tag){Tu(r,e,n);break}if(1===r.tag&&(t=r.stateNode,"function"===typeof r.type.getDerivedStateFromError||"function"===typeof t.componentDidCatch&&(null===js||!js.has(t)))){var i=rs(r,e=$o(n,e),1);if(ta(r,i),i=eu(),null!==(r=ru(r,1)))Ut(r,1,i),iu(r,i);else if("function"===typeof t.componentDidCatch&&(null===js||!js.has(t)))try{t.componentDidCatch(n,e)}catch(a){}break}r=r.return}}function Du(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,xs===e&&(Ms&n)===n&&(4===Ss||3===Ss&&(62914560&Ms)===Ms&&500>Li()-Os?hu(e,0):Is|=n),iu(e,t)}function Ru(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Pi()?1:2:(0===Zs&&(Zs=Cs),0===(t=jt(62914560&~Zs))&&(t=4194304))),n=eu(),null!==(e=ru(e,t))&&(Ut(e,t,n),iu(e,n))}function Iu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function ku(e,t,n,r){return new Iu(e,t,n,r)}function Ou(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Lu(e,t){var n=e.alternate;return null===n?((n=ku(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pu(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Ou(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case E:return Bu(n.children,i,a,t);case B:s=8,i|=16;break;case A:s=8,i|=1;break;case S:return(e=ku(12,n,t,8|i)).elementType=S,e.type=S,e.lanes=a,e;case R:return(e=ku(13,n,t,i)).type=R,e.elementType=R,e.lanes=a,e;case I:return(e=ku(19,n,t,i)).elementType=I,e.lanes=a,e;case F:return Fu(n,i,a,t);case N:return(e=ku(24,n,t,i)).elementType=N,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:s=10;break e;case C:s=9;break e;case D:s=11;break e;case k:s=14;break e;case O:s=16,r=null;break e;case L:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=ku(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Bu(e,t,n,r){return(e=ku(7,e,r,t)).lanes=n,e}function Fu(e,t,n,r){return(e=ku(23,e,r,t)).elementType=F,e.lanes=n,e}function Nu(e,t,n){return(e=ku(6,e,null,t)).lanes=n,e}function Gu(e,t,n){return(t=ku(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ju(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Array(31).fill(0),this.expirationTimes=Array(31).fill(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Array(31).fill(0),this.mutableSourceEagerHydrationData=null}function Uu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:M,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function zu(e,t,n,r){var i=t.current,a=eu(),s=tu(i,aa.suspense);e:if(n){t:{if(Qe(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(ui(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(o(171))}if(1===n.tag){var l=n.type;if(ui(l)){n=di(n,l,u);break e}}n=u}else n=ri;return null===t.context?t.context=n:t.pendingContext=n,(t=ea(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),ta(i,t),nu(i,s,a),s}function Vu(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Hu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wu(e,t){Hu(e,t),(e=e.alternate)&&Hu(e,t)}function Xu(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new ju(e,t,null!=n&&!0===n.hydrate),t=ku(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,Ji(t),e[Wr]=n.current,Mr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function qu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Yu(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=Vu(o);s.call(e)}}zu(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Xu(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var u=i;i=function(){var e=Vu(o);u.call(e)}}lu((function(){zu(t,o,e,i)}))}return Vu(o)}function Qu(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!qu(t))throw Error(o(200));return Uu(e,t,null,n)}Bs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||ai.current)Co=!0;else{if(0===(n&r)){switch(Co=!1,t.tag){case 3:No(t),Na();break;case 5:Sa(t);break;case 1:ui(t.type)&&hi(t);break;case 4:Ea(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;ni(zi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Vo(e,t,n):(ni(Ca,1&Ca.current),null!==(t=Qo(e,t,n))?t.sibling:null);ni(Ca,1&Ca.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.effectTag)){if(r)return Yo(e,t,n);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ni(Ca,Ca.current),r)break;return null;case 23:case 24:return t.lanes=0,Oo(e,t,n)}return Qo(e,t,n)}Co=0!==(16384&e.effectTag)}else Co=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=si(t,ii.current),Qi(t,n),i=Ka(null,t,r,e,i,n),t.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,ui(r)){var a=!0;hi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ji(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&sa(t,r,s,e),i.updater=ua,t.stateNode=i,i._reactInternals=t,ha(t,r,e,n),t=Fo(null,t,r,!0,a,n)}else t.tag=0,Do(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Ou(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===D)return 11;if(e===k)return 14}return 2}(i),e=Ui(i,e),a){case 0:t=Po(null,t,i,e,n);break e;case 1:t=Bo(null,t,i,e,n);break e;case 11:t=Ro(null,t,i,e,n);break e;case 14:t=Io(null,t,i,Ui(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Po(e,t,r,i=t.elementType===r?i:Ui(r,i),n);case 1:return r=t.type,i=t.pendingProps,Bo(e,t,r,i=t.elementType===r?i:Ui(r,i),n);case 3:if(No(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,$i(e,t),ra(t,r,null,n),(r=t.memoizedState.element)===i)Na(),t=Qo(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Ia=Gr(t.stateNode.containerInfo.firstChild),Ra=t,a=ka=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Ga.push(a);for(n=ya(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling}else Do(e,t,r,n),Na();t=t.child}return t;case 5:return Sa(t),null===e&&Pa(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,Pr(r,i)?s=null:null!==a&&Pr(r,a)&&(t.effectTag|=16),Lo(e,t),Do(e,t,s,n),t.child;case 6:return null===e&&Pa(t),null;case 13:return Vo(e,t,n);case 4:return Ea(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ga(t,null,r,n):Do(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ro(e,t,r,i=t.elementType===r?i:Ui(r,i),n);case 7:return Do(e,t,t.pendingProps,n),t.child;case 8:case 12:return Do(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var u=t.type._context;if(ni(zi,u._currentValue),u._currentValue=a,null!==s)if(u=s.value,0===(a=nr(u,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,a):1073741823))){if(s.children===i.children&&!ai.current){t=Qo(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var l=u.dependencies;if(null!==l){s=u.child;for(var c=l.firstContext;null!==c;){if(c.context===r&&0!==(c.observedBits&a)){1===u.tag&&((c=ea(-1,n&-n)).tag=2,ta(u,c)),u.lanes|=n,null!==(c=u.alternate)&&(c.lanes|=n),Yi(u.return,n),l.lanes|=n;break}c=c.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Do(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,Qi(t,n),r=r(i=Zi(i,a.unstable_observedBits)),t.effectTag|=1,Do(e,t,r,n),t.child;case 14:return a=Ui(i=t.type,t.pendingProps),Io(e,t,i,a=Ui(i.type,a),r,n);case 15:return ko(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ui(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,ui(r)?(e=!0,hi(t)):e=!1,Qi(t,n),ca(t,r,i),ha(t,r,i,n),Fo(null,t,r,!0,e,n);case 19:return Yo(e,t,n);case 23:case 24:return Oo(e,t,n)}throw Error(o(156,t.tag))},Xu.prototype.render=function(e){zu(e,this._internalRoot,null,null)},Xu.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;zu(null,e,null,(function(){t[Wr]=null}))},et=function(e){13===e.tag&&(nu(e,4,eu()),Wu(e,4))},tt=function(e){13===e.tag&&(nu(e,67108864,eu()),Wu(e,67108864))},nt=function(e){if(13===e.tag){var t=eu(),n=tu(e,null);nu(e,n,t),Wu(e,n)}},rt=function(e,t){return t()},Se=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Zr(r);if(!i)throw Error(o(90));K(r),ne(r,i)}}}break;case"textarea":le(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},ke=uu,Oe=function(e,t,n,r,i){var a=_s;_s|=4;try{return Fi(98,e.bind(null,t,n,r,i))}finally{0===(_s=a)&&(Ps(),Gi())}},Le=function(){0===(49&_s)&&(function(){if(null!==Xs){var e=Xs;Xs=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,iu(e,Li())}))}Gi()}(),Mu())},Pe=function(e,t){var n=_s;_s|=2;try{return e(t)}finally{0===(_s=n)&&(Ps(),Gi())}};var Zu={Events:[Yr,Qr,Zr,Re,Ie,Mu,{current:!1}]},Ku={findFiberByHostInstance:qr,bundleType:0,version:"17.0.0-alpha.0-2d131d782",rendererPackageName:"react-dom"},Ju={bundleType:Ku.bundleType,version:Ku.version,rendererPackageName:Ku.rendererPackageName,rendererConfig:Ku.rendererConfig,overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Je(e))?null:e.stateNode},findFiberByHostInstance:Ku.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var $u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$u.isDisabled&&$u.supportsFiber)try{pi=$u.inject(Ju),mi=$u}catch(el){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zu,t.createPortal=Qu,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Je(t))?null:e.stateNode},t.flushSync=function(e,t){var n=_s;if(0!==(48&n))return e(t);_s|=1;try{if(e)return Fi(99,e.bind(null,t))}finally{_s=n,Gi()}},t.hydrate=function(e,t,n){if(!qu(t))throw Error(o(200));return Yu(null,e,t,!0,n)},t.render=function(e,t,n){if(!qu(t))throw Error(o(200));return Yu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!qu(e))throw Error(o(40));return!!e._reactRootContainer&&(lu((function(){Yu(null,null,e,!1,(function(){e._reactRootContainer=null,e[Wr]=null}))})),!0)},t.unstable_batchedUpdates=uu,t.unstable_createPortal=function(e,t){return Qu(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!qu(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Yu(e,t,n,!1,r)},t.version="17.0.0-alpha.0-2d131d782"},function(e,t,n){"use strict";var r=n(43),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,s=60110,u=60112;t.Suspense=60113;var l=60115,c=60116;if("function"===typeof Symbol&&Symbol.for){var d=Symbol.for;i=d("react.element"),a=d("react.portal"),t.Fragment=d("react.fragment"),t.StrictMode=d("react.strict_mode"),t.Profiler=d("react.profiler"),o=d("react.provider"),s=d("react.context"),u=d("react.forward_ref"),t.Suspense=d("react.suspense"),l=d("react.memo"),c=d("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function f(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(f(85));this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=v.prototype;var b=y.prototype=new g;b.constructor=y,r(b,v.prototype),b.isPureReactComponent=!0;var _={current:null},x=Object.prototype.hasOwnProperty,w={key:!0,ref:!0,__self:!0,__source:!0};function M(e,t,n){var r,a={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,r)&&!w.hasOwnProperty(r)&&(a[r]=t[r]);var u=arguments.length-2;if(1===u)a.children=n;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===a[r]&&(a[r]=u[r]);return{$$typeof:i,type:e,key:o,ref:s,props:a,_owner:_.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var A=/\/+/g;function S(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,n,r,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case a:u=!0}}if(u)return o=o(u=e),e=""===r?"."+S(u,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(A,"$&/")+"/"),T(o,t,n,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(A,"$&/")+"/")+e)),t.push(o)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var l=0;l<e.length;l++){var c=r+S(s=e[l],l);u+=T(s,t,n,c,o)}else if("function"===typeof(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e)))for(e=c.call(e),l=0;!(s=e.next()).done;)u+=T(s=s.value,t,n,c=r+S(s,l++),o);else if("object"===s)throw t=""+e,Error(f(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function C(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function D(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var R={current:null};function I(){var e=R.current;if(null===e)throw Error(f(321));return e}var k={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:_,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error(f(143));return e}},t.Component=v,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(f(267,e));var a=r({},e.props),o=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=_.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)x.call(t,c)&&!w.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];a.children=l}return{$$typeof:i,type:e.type,key:o,ref:s,props:a,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=M,t.createFactory=function(e){var t=M.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:c,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:l,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return I().useCallback(e,t)},t.useContext=function(e,t){return I().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return I().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return I().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return I().useLayoutEffect(e,t)},t.useMemo=function(e,t){return I().useMemo(e,t)},t.useReducer=function(e,t,n){return I().useReducer(e,t,n)},t.useRef=function(e){return I().useRef(e)},t.useState=function(e){return I().useState(e)},t.version="17.0.0-alpha.0-2d131d782"},function(e,t,n){"use strict";e.exports=n(77)},function(e,t,n){"use strict";var r,i,a,o;if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var u=Date,l=u.now();t.unstable_now=function(){return u.now()-l}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,d=null,h=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};r=function(e){null!==c?setTimeout(r,0,e):(c=e,setTimeout(h,0))},i=function(e,t){d=setTimeout(e,t)},a=function(){clearTimeout(d)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,p=window.clearTimeout;if("undefined"!==typeof console){var m=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,g=null,y=-1,b=5,_=0;t.unstable_shouldYield=function(){return t.unstable_now()>=_},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<e?Math.floor(1e3/e):5};var x=new MessageChannel,w=x.port2;x.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();_=e+b;try{g(!0,e)?w.postMessage(null):(v=!1,g=null)}catch(n){throw w.postMessage(null),n}}else v=!1},r=function(e){g=e,v||(v=!0,w.postMessage(null))},i=function(e,n){y=f((function(){e(t.unstable_now())}),n)},a=function(){p(y),y=-1}}function M(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<S(i,t)))break e;e[r]=t,e[n]=i,n=r}}function E(e){return void 0===(e=e[0])?null:e}function A(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=a+1,u=e[s];if(void 0!==o&&0>S(o,n))void 0!==u&&0>S(u,o)?(e[r]=u,e[s]=n,r=s):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==u&&0>S(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function S(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var T=[],C=[],D=1,R=null,I=3,k=!1,O=!1,L=!1;function P(e){for(var t=E(C);null!==t;){if(null===t.callback)A(C);else{if(!(t.startTime<=e))break;A(C),t.sortIndex=t.expirationTime,M(T,t)}t=E(C)}}function B(e){if(L=!1,P(e),!O)if(null!==E(T))O=!0,r(F);else{var t=E(C);null!==t&&i(B,t.startTime-e)}}function F(e,n){O=!1,L&&(L=!1,a()),k=!0;var r=I;try{for(P(n),R=E(T);null!==R&&(!(R.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=R.callback;if("function"===typeof o){R.callback=null,I=R.priorityLevel;var s=o(R.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?R.callback=s:R===E(T)&&A(T),P(n)}else A(T);R=E(T)}if(null!==R)var u=!0;else{var l=E(C);null!==l&&i(B,l.startTime-n),u=!1}return u}finally{R=null,I=r,k=!1}}var N=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){O||k||(O=!0,r(F))},t.unstable_getCurrentPriorityLevel=function(){return I},t.unstable_getFirstCallbackNode=function(){return E(T)},t.unstable_next=function(e){switch(I){case 1:case 2:case 3:var t=3;break;default:t=I}var n=I;I=t;try{return e()}finally{I=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=N,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=I;I=e;try{return t()}finally{I=n}},t.unstable_scheduleCallback=function(e,n,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:D++,callback:n,priorityLevel:e,startTime:o,expirationTime:u=o+u,sortIndex:-1},o>s?(e.sortIndex=o,M(C,e),null===E(T)&&e===E(C)&&(L?a():L=!0,i(B,o-s))):(e.sortIndex=u,M(T,e),O||k||(O=!0,r(F))),e},t.unstable_wrapCallback=function(e){var t=I;return function(){var n=I;I=t;try{return e.apply(this,arguments)}finally{I=n}}}},function(e,t,n){"use strict";var r=Array.isArray,i=Object.keys,a=Object.prototype.hasOwnProperty;e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){var o,s,u,l=r(t),c=r(n);if(l&&c){if((s=t.length)!=n.length)return!1;for(o=s;0!==o--;)if(!e(t[o],n[o]))return!1;return!0}if(l!=c)return!1;var d=t instanceof Date,h=n instanceof Date;if(d!=h)return!1;if(d&&h)return t.getTime()==n.getTime();var f=t instanceof RegExp,p=n instanceof RegExp;if(f!=p)return!1;if(f&&p)return t.toString()==n.toString();var m=i(t);if((s=m.length)!==i(n).length)return!1;for(o=s;0!==o--;)if(!a.call(n,m[o]))return!1;for(o=s;0!==o--;)if(!e(t[u=m[o]],n[u]))return!1;return!0}return t!==t&&n!==n}},function(e,t,n){"use strict";var r,i,a,o,s;if("object"===typeof performance&&"function"===typeof performance.now){var u=performance;t.unstable_now=function(){return u.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var d=null,h=null,f=function e(){if(null!==d)try{var n=t.unstable_now();d(!0,n),d=null}catch(r){throw setTimeout(e,0),r}};r=function(e){null!==d?setTimeout(r,0,e):(d=e,setTimeout(f,0))},i=function(e,t){h=setTimeout(e,t)},a=function(){clearTimeout(h)},o=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var p=window.setTimeout,m=window.clearTimeout;if("undefined"!==typeof console){var v=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof v&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}var g=!1,y=null,b=-1,_=5,x=0;o=function(){return t.unstable_now()>=x},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,M=w.port2;w.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();x=e+_;try{y(!0,e)?M.postMessage(null):(g=!1,y=null)}catch(n){throw M.postMessage(null),n}}else g=!1},r=function(e){y=e,g||(g=!0,M.postMessage(null))},i=function(e,n){b=p((function(){e(t.unstable_now())}),n)},a=function(){m(b),b=-1}}function E(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<T(i,t)))break e;e[r]=t,e[n]=i,n=r}}function A(e){return void 0===(e=e[0])?null:e}function S(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=a+1,u=e[s];if(void 0!==o&&0>T(o,n))void 0!==u&&0>T(u,o)?(e[r]=u,e[s]=n,r=s):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==u&&0>T(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function T(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var C=[],D=[],R=1,I=null,k=3,O=!1,L=!1,P=!1;function B(e){for(var t=A(D);null!==t;){if(null===t.callback)S(D);else{if(!(t.startTime<=e))break;S(D),t.sortIndex=t.expirationTime,E(C,t)}t=A(D)}}function F(e){if(P=!1,B(e),!L)if(null!==A(C))L=!0,r(N);else{var t=A(D);null!==t&&i(F,t.startTime-e)}}function N(e,n){L=!1,P&&(P=!1,a()),O=!0;var r=k;try{for(B(n),I=A(C);null!==I&&(!(I.expirationTime>n)||e&&!o());){var s=I.callback;if("function"===typeof s){I.callback=null,k=I.priorityLevel;var u=s(I.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?I.callback=u:I===A(C)&&S(C),B(n)}else S(C);I=A(C)}if(null!==I)var l=!0;else{var c=A(D);null!==c&&i(F,c.startTime-n),l=!1}return l}finally{I=null,k=r,O=!1}}var G=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){L||O||(L=!0,r(N))},t.unstable_getCurrentPriorityLevel=function(){return k},t.unstable_getFirstCallbackNode=function(){return A(C)},t.unstable_next=function(e){switch(k){case 1:case 2:case 3:var t=3;break;default:t=k}var n=k;k=t;try{return e()}finally{k=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=G,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=k;k=e;try{return t()}finally{k=n}},t.unstable_scheduleCallback=function(e,n,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:R++,callback:n,priorityLevel:e,startTime:o,expirationTime:u=o+u,sortIndex:-1},o>s?(e.sortIndex=o,E(D,e),null===A(C)&&e===A(D)&&(P?a():P=!0,i(F,o-s))):(e.sortIndex=u,E(C,e),L||O||(L=!0,r(N))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();B(e);var n=A(C);return n!==I&&null!==I&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<I.expirationTime||o()},t.unstable_wrapCallback=function(e){var t=k;return function(){var n=k;k=t;try{return e.apply(this,arguments)}finally{k=n}}}},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){!function(e){"use strict";function t(){var e,n=0,r=[],i=0,a=0,o=f((function(e){a||u(1,e)})),s=f((function(e){a||u(-1,e)}));function u(t,r){a++;var i=0;try{r===v&&p();var o=t>0&&h(r);o?o.call(r,f((function(e){i++,u(1,e)})),f((function(e){i++,u(-1,e)}))):(n=t,e=r,l())}catch(s){n||i||u(-1,s)}}function l(){i||(setTimeout(c,0),i=1)}function c(){var e=r;i=0,r=[],e.forEach(d)}function d(e){e()}function h(e){var t=e&&(m(e)||"object"===typeof e)&&e.then;return m(t)&&t}function f(e){var t=0;return function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];t++||e.apply(this,n)}}function p(){throw new TypeError("Chaining cycle detected")}var m=function(e){return"function"===typeof e},v={then:function(i,a){var o=t();return r.push((function(){var t=n>0?i:a;if(m(t))try{var r=t(e);r===o&&p();var s=h(r);s?s.call(r,o.resolve,o.reject):o.resolve(r)}catch(u){o.reject(u)}else o[n>0?"resolve":"reject"](e)})),n&&l(),o},resolve:o,reject:s};return v}function n(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return{then:n.then.bind(n),resolve:e,reject:t}}t.all=n.all=function(e){var t=0,n=[],i=r();return 0===e.length?i.resolve([]):e.forEach((function(a,o){var s=r();s.resolve(a),s.then((function(r){t++,n[o]=r,t===e.length&&i.resolve(n)}),i.reject)})),i};var r="function"===typeof Promise?n:t;function i(){var e=Object.create(null);function t(e,t){var n=void 0;self.troikaDefine=function(e){return n=e};var r=URL.createObjectURL(new Blob(["/** "+e.replace(/\*/g,"")+" **/\n\ntroikaDefine(\n"+t+"\n)"],{type:"application/javascript"}));try{importScripts(r)}catch(i){console.error(i)}return URL.revokeObjectURL(r),delete self.troikaDefine,n}self.addEventListener("message",(function(n){var r=n.data,i=r.messageId,a=r.action,o=r.data;try{"registerModule"===a&&function n(r,i){var a=r.id,o=r.name,s=r.dependencies;void 0===s&&(s=[]);var u=r.init;void 0===u&&(u=function(){});var l=r.getTransferables;if(void 0===l&&(l=null),!e[a])try{s=s.map((function(t){return t&&t.isWorkerModule&&(n(t,(function(e){if(e instanceof Error)throw e})),t=e[t.id].value),t})),u=t("<"+o+">.init",u),l&&(l=t("<"+o+">.getTransferables",l));var c=null;"function"===typeof u?c=u.apply(void 0,s):console.error("worker module init function failed to rehydrate"),e[a]={id:a,value:c,getTransferables:l},i(c)}catch(d){d&&d.noLog||console.error(d),i(d)}}(o,(function(e){e instanceof Error?postMessage({messageId:i,success:!1,error:e.message}):postMessage({messageId:i,success:!0,result:{isCallable:"function"===typeof e}})})),"callModule"===a&&function(t,n){var r,i=t.id,a=t.args;e[i]&&"function"===typeof e[i].value||n(new Error("Worker module "+i+": not found or its 'init' did not return a function"));try{var o=(r=e[i]).value.apply(r,a);o&&"function"===typeof o.then?o.then(s,(function(e){return n(e instanceof Error?e:new Error(""+e))})):s(o)}catch(u){n(u)}function s(t){try{var r=e[i].getTransferables&&e[i].getTransferables(t);r&&Array.isArray(r)&&r.length||(r=void 0),n(t,r)}catch(u){console.error(u),n(u)}}}(o,(function(e,t){e instanceof Error?postMessage({messageId:i,success:!1,error:e.message}):postMessage({messageId:i,success:!0,result:e},t||void 0)}))}catch(s){postMessage({messageId:i,success:!1,error:s.stack})}}))}var a=function(){var e=!1;if("undefined"!==typeof window&&"undefined"!==typeof window.document)try{new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"}))).terminate(),e=!0}catch(t){console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+t.message+"]")}return a=function(){return e},e},o=0,s=0,u=!1,l=Object.create(null),c=Object.create(null);function d(e){if((!e||"function"!==typeof e.init)&&!u)throw new Error("requires `options.init` function");var t=e.dependencies,n=e.init,i=e.getTransferables,s=e.workerId;if(!a())return function(e){var t=function e(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return e._getInitResult().then((function(e){if("function"===typeof e)return e.apply(void 0,t);throw new Error("Worker module function was called but `init` did not return a callable function")}))};return t._getInitResult=function(){var n=e.dependencies,i=e.init;n=Array.isArray(n)?n.map((function(e){return e&&e._getInitResult?e._getInitResult():e})):[];var a=r.all(n).then((function(e){return i.apply(null,e)}));return t._getInitResult=function(){return a},a},t}(e);null==s&&(s="#default");var l="workerModule"+ ++o,c=e.name||l,p=null;function m(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return p||(p=f(s,"registerModule",m.workerModuleData)),p.then((function(t){if(t.isCallable)return f(s,"callModule",{id:l,args:e});throw new Error("Worker module function was called but `init` did not return a callable function")}))}return t=t&&t.map((function(e){return"function"!==typeof e||e.workerModuleData||(u=!0,e=d({workerId:s,name:"<"+c+"> function dependency: "+e.name,init:"function(){return (\n"+h(e)+"\n)}"}),u=!1),e&&e.workerModuleData&&(e=e.workerModuleData),e})),m.workerModuleData={isWorkerModule:!0,id:l,name:c,dependencies:t,init:h(n),getTransferables:i&&h(i)},m}function h(e){var t=e.toString();return!/^function/.test(t)&&/^\w+\s*\(/.test(t)&&(t="function "+t),t}function f(e,t,n){var a=r(),o=++s;return c[o]=function(e){e.success?a.resolve(e.result):a.reject(new Error("Error in worker "+t+" call: "+e.error))},c._count++,c.count>1e3&&console.warn("Large number of open WorkerModule requests, some may not be returning"),function(e){var t=l[e];if(!t){var n=h(i);(t=l[e]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+e.replace(/\*/g,"")+" **/\n\n;("+n+")()"],{type:"application/javascript"})))).onmessage=function(e){var t=e.data,n=t.messageId,r=c[n];if(!r)throw new Error("WorkerModule response with empty or unknown messageId");delete c[n],c.count--,r(t)}}return t}(e).postMessage({messageId:o,action:t,data:n}),a}c._count=0;var p=d({name:"Thenable",dependencies:[r],init:function(e){return e}});e.Thenable=r,e.ThenableWorkerModule=p,e.defineWorkerModule=d,e.stringifyFunction=h,Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t,n){!function(e,t){"use strict";var n=/\bvoid\s+main\s*\(\s*\)\s*{/g;function r(e){return e.replace(/^[ \t]*#include +<([\w\d./]+)>/gm,(function(e,n){var i=t.ShaderChunk[n];return i?r(i):e}))}var i=Object.assign||function(){for(var e=arguments,t=arguments[0],n=1,r=arguments.length;n<r;n++){var i=e[n];if(i)for(var a in i)i.hasOwnProperty(a)&&(t[a]=i[a])}return t},a=Date.now(),o=new WeakMap;function s(e,n){var h=function(e){return JSON.stringify(e,l)}(n),f=o.get(e);if(f||(f=Object.create(null),o.set(e,f)),f[h])return f[h].clone();var p,m,v=function(e){var t=d.get(e);return null==t&&d.set(e,t=++c),t}(h),g="_derivedShaders"+v,y="_onBeforeCompile"+v;function b(t){e.onBeforeCompile.call(this,t);var o=this[g]||(this[g]={vertex:{},fragment:{}}),s=o.vertex,l=o.fragment;if(s.source!==t.vertexShader||l.source!==t.fragmentShader){var c=function(e,t,n){var i=e.vertexShader,a=e.fragmentShader,o=t.vertexDefs,s=t.vertexMainIntro,l=t.vertexMainOutro,c=t.vertexTransform,d=t.fragmentDefs,h=t.fragmentMainIntro,f=t.fragmentMainOutro,p=t.fragmentColorTransform,m=t.customRewriter,v=t.timeUniform;if(o=o||"",s=s||"",l=l||"",d=d||"",h=h||"",f=f||"",(c||m)&&(i=r(i)),(p||m)&&(a=r(a=a.replace(/^[ \t]*#include <((?:tonemapping|encodings|fog|premultiplied_alpha|dithering)_fragment)>/gm,"\n//!BEGIN_POST_CHUNK $1\n$&\n//!END_POST_CHUNK\n"))),m){var g=m({vertexShader:i,fragmentShader:a});i=g.vertexShader,a=g.fragmentShader}if(p){var y=[];a=a.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,(function(e){return y.push(e),""})),f=p+"\n"+y.join("\n")+"\n"+f}if(v){var b="\nuniform float "+v+";\n";o=b+o,d=b+d}return c&&(o=o+"\nvec3 troika_position_"+n+";\nvec3 troika_normal_"+n+";\nvec2 troika_uv_"+n+";\nvoid troikaVertexTransform"+n+"(inout vec3 position, inout vec3 normal, inout vec2 uv) {\n  "+c+"\n}\n",s="\ntroika_position_"+n+" = vec3(position);\ntroika_normal_"+n+" = vec3(normal);\ntroika_uv_"+n+" = vec2(uv);\ntroikaVertexTransform"+n+"(troika_position_"+n+", troika_normal_"+n+", troika_uv_"+n+");\n"+s+"\n",i=i.replace(/\b(position|normal|uv)\b/g,(function(e,t,r,i){return/\battribute\s+vec[23]\s+$/.test(i.substr(0,r))?t:"troika_"+t+"_"+n}))),i=u(i,n,o,s,l),a=u(a,n,d,h,f),{vertexShader:i,fragmentShader:a}}(t,n,v);s.source=t.vertexShader,s.result=c.vertexShader,l.source=t.fragmentShader,l.result=c.fragmentShader}t.vertexShader=s.result,t.fragmentShader=l.result,i(t.uniforms,this.uniforms),n.timeUniform&&(t.uniforms[n.timeUniform]={get value(){return Date.now()-a}}),this[y]&&this[y](t)}function _(){e.constructor.apply(this,arguments),this._listeners=void 0}_.prototype=Object.create(e,{constructor:{value:_},isDerivedMaterial:{value:!0},baseMaterial:{value:e},onBeforeCompile:{get:function(){return b},set:function(e){this[y]=e}},copy:{value:function(n){return e.copy.call(this,n),e.isShaderMaterial||e.isDerivedMaterial||(this.extensions=i({},n.extensions),this.defines=i({},n.defines),this.uniforms=t.UniformsUtils.clone(n.uniforms)),this}},getDepthMaterial:{value:function(){var r=this._depthMaterial;return r||(m||((m=s(e.isDerivedMaterial?e.getDepthMaterial():new t.MeshDepthMaterial({depthPacking:t.RGBADepthPacking}),n)).defines.IS_DEPTH_MATERIAL=""),(r=this._depthMaterial=m.clone()).uniforms=this.uniforms),r}},getDistanceMaterial:{value:function(){var r=this._distanceMaterial;return r||(p||((p=s(e.isDerivedMaterial?e.getDistanceMaterial():new t.MeshDistanceMaterial,n)).defines.IS_DISTANCE_MATERIAL=""),(r=this._distanceMaterial=p.clone()).uniforms=this.uniforms),r}},dispose:{value:function(){var t=this._depthMaterial,n=this._distanceMaterial;t&&t.dispose(),n&&n.dispose(),e.dispose.call(this)}}});var x=new _;return x.copy(e),x.uniforms=i(t.UniformsUtils.clone(e.uniforms||{}),n.uniforms),x.defines=i({},e.defines,n.defines),x.defines["TROIKA_DERIVED_MATERIAL_"+v]="",x.extensions=i({},e.extensions,n.extensions),f[h]=x,x.clone()}function u(e,t,r,i,a){return(i||a||r)&&(e=e.replace(n,"\n"+r+"\nvoid troikaOrigMain"+t+"() {"),e+="\nvoid main() {\n  "+i+"\n  troikaOrigMain"+t+"();\n  "+a+"\n}"),e}function l(e,t){return"uniforms"===e?void 0:"function"===typeof t?t.toString():t}var c=0,d=new Map,h={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},f=function(e){this.name=e,this.textureUniform="dataTex_"+e,this.textureSizeUniform="dataTexSize_"+e,this.multiplierUniform="dataMultiplier_"+e,this.dataSizeUniform="dataSize_"+e,this.readFunction="readData_"+e,this._raw=new Float32Array(0),this._texture=new t.DataTexture(new Uint8Array(0),0,1),this._length=0,this._multiplier=1},p={length:{configurable:!0}};function m(e,t,n){var r=255*e,i=r%1*255,a=i%1*255,o=a%1*255;return r&=255,i&=255,a&=255,o=255&Math.round(o),t[n]=r,t[n+1]=i,t[n+2]=a,t[n+3]=o,t}p.length.set=function(e){if(e!==this._length){var t=Math.pow(2,Math.ceil(Math.log2(e))),n=this._raw;t<n.length?this._raw=n.subarray(0,t):t>n.length&&(this._raw=new Float32Array(t),this._raw.set(n)),this._length=e}},p.length.get=function(){return this._length},f.prototype.push=function(e){return this.set(this.length++,e)},f.prototype.setArray=function(e){this.length=e.length,this._raw.set(e),this._needsRepack=!0},f.prototype.get=function(e){return this._raw[e]},f.prototype.set=function(e,t){e+1>this._length&&(this.length=e+1),t!==this._raw[e]&&(this._raw[e]=t,m(t/this._multiplier,this._texture.image.data,4*e),this._needsMultCheck=!0)},f.prototype.clone=function(){var e=new f(this.name);return e.setArray(this._raw),e},f.prototype.getShaderUniforms=function(){var e,t=this;return(e={})[this.textureUniform]={get value(){return t._sync(),t._texture}},e[this.textureSizeUniform]={get value(){return t._sync(),t._texture.image.width}},e[this.dataSizeUniform]={get value(){return t._sync(),t.length}},e[this.multiplierUniform]={get value(){return t._sync(),t._multiplier}},e},f.prototype.getShaderHeaderCode=function(){var e=this.textureUniform,t=this.textureSizeUniform,n=this.dataSizeUniform,r=this.multiplierUniform;return"\nuniform sampler2D "+e+";\nuniform float "+t+";\nuniform float "+n+";\nuniform float "+r+";\n\nfloat "+this.readFunction+"(float index) {\n  vec2 texUV = vec2((index + 0.5) / "+t+", 0.5);\n  vec4 pixel = texture2D("+e+", texUV);\n  return dot(pixel, 1.0 / vec4(1.0, 255.0, 65025.0, 16581375.0)) * "+r+";\n}\n"},f.prototype._sync=function(){var e=this._texture,t=this._raw,n=this._needsRepack;if(t.length!==e.image.width&&(e.image={data:new Uint8Array(4*t.length),width:t.length,height:1},n=!0),n||this._needsMultCheck){var r=this._raw.reduce((function(e,t){return Math.max(e,t)}),0),i=Math.pow(2,Math.ceil(Math.log2(r)));i!==this._multiplier&&(this._multiplier=i,n=!0),e.needsUpdate=!0,this._needsMultCheck=!1}if(n){for(var a=0,o=t.length,s=this._multiplier;a<o;a++)m(t[a]/s,e.image.data,4*a);this._needsRepack=!1}},Object.defineProperties(f.prototype,p);var v=null,g=new t.MeshStandardMaterial({color:16777215,side:t.DoubleSide}),y=function(e){function n(){e.call(this,n.getGeometry(),g),this.pointA=new t.Vector3,this.controlA=new t.Vector3,this.controlB=new t.Vector3,this.pointB=new t.Vector3,this.radius=.01,this.dashArray=new t.Vector2,this.dashOffset=0,this.frustumCulled=!1}e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n;var r={material:{configurable:!0},customDepthMaterial:{configurable:!0},customDistanceMaterial:{configurable:!0}};return n.getGeometry=function(){return v||(v=new t.CylinderBufferGeometry(1,1,1,6,64).translate(0,.5,0))},r.material.get=function(){var e=this._derivedMaterial,n=this._baseMaterial||g;return e&&e.baseMaterial===n||(e=this._derivedMaterial=function(e){return s(e,{uniforms:{pointA:{value:new t.Vector3},controlA:{value:new t.Vector3},controlB:{value:new t.Vector3},pointB:{value:new t.Vector3},radius:{value:.01},dashing:{value:new t.Vector3}},vertexDefs:"\nuniform vec3 pointA;\nuniform vec3 controlA;\nuniform vec3 controlB;\nuniform vec3 pointB;\nuniform float radius;\nvarying float bezierT;\n\nvec3 cubicBezier(vec3 p1, vec3 c1, vec3 c2, vec3 p2, float t) {\n  float t2 = 1.0 - t;\n  float b0 = t2 * t2 * t2;\n  float b1 = 3.0 * t * t2 * t2;\n  float b2 = 3.0 * t * t * t2;\n  float b3 = t * t * t;\n  return b0 * p1 + b1 * c1 + b2 * c2 + b3 * p2;\n}\n\nvec3 cubicBezierDerivative(vec3 p1, vec3 c1, vec3 c2, vec3 p2, float t) {\n  float t2 = 1.0 - t;\n  return -3.0 * p1 * t2 * t2 +\n    c1 * (3.0 * t2 * t2 - 6.0 * t2 * t) +\n    c2 * (6.0 * t2 * t - 3.0 * t * t) +\n    3.0 * p2 * t * t;\n}\n",vertexTransform:'\nfloat t = position.y;\nbezierT = t;\nvec3 bezierCenterPos = cubicBezier(pointA, controlA, controlB, pointB, t);\nvec3 bezierDir = normalize(cubicBezierDerivative(pointA, controlA, controlB, pointB, t));\n\n// Make "sideways" always perpendicular to the camera ray; this ensures that any twists\n// in the cylinder occur where you won\'t see them: \nvec3 viewDirection = normalMatrix * vec3(0.0, 0.0, 1.0);\nif (bezierDir == viewDirection) {\n  bezierDir = normalize(cubicBezierDerivative(pointA, controlA, controlB, pointB, t == 1.0 ? t - 0.0001 : t + 0.0001));\n}\nvec3 sideways = normalize(cross(bezierDir, viewDirection));\nvec3 upish = normalize(cross(sideways, bezierDir));\n\n// Build a matrix for transforming this disc in the cylinder:\nmat4 discTx;\ndiscTx[0].xyz = sideways * radius;\ndiscTx[1].xyz = bezierDir * radius;\ndiscTx[2].xyz = upish * radius;\ndiscTx[3].xyz = bezierCenterPos;\ndiscTx[3][3] = 1.0;\n\n// Apply transform, ignoring original y\nposition = (discTx * vec4(position.x, 0.0, position.z, 1.0)).xyz;\nnormal = normalize(mat3(discTx) * normal);\n',fragmentDefs:"\nuniform vec3 dashing;\nvarying float bezierT;\n",fragmentMainIntro:"\nif (dashing.x + dashing.y > 0.0) {\n  float dashFrac = mod(bezierT - dashing.z, dashing.x + dashing.y);\n  if (dashFrac > dashing.x) {\n    discard;\n  }\n}\n"})}(n),n.addEventListener("dispose",(function t(){n.removeEventListener("dispose",t),e.dispose()}))),e},r.material.set=function(e){this._baseMaterial=e},r.customDepthMaterial.get=function(){return this.material.getDepthMaterial()},r.customDistanceMaterial.get=function(){return this.material.getDistanceMaterial()},n.prototype.onBeforeRender=function(e){var t=this.material.uniforms,n=this.pointA,r=this.controlA,i=this.controlB,a=this.pointB,o=this.radius,s=this.dashArray,u=this.dashOffset;t.pointA.value.copy(n),t.controlA.value.copy(r),t.controlB.value.copy(i),t.pointB.value.copy(a),t.radius.value=o,t.dashing.value.set(s.x,s.y,u||0)},n.prototype.raycast=function(e,t){},Object.defineProperties(n.prototype,r),n}(t.Mesh);e.BezierMesh=y,e.ShaderFloatArray=f,e.createDerivedMaterial=s,e.expandShaderIncludes=r,e.getShaderUniformTypes=function(e){for(var t,n=/\buniform\s+(int|float|vec[234])\s+([A-Za-z_][\w]*)/g,r=Object.create(null);null!==(t=n.exec(e));)r[t[2]]=t[1];return r},e.getShadersForMaterial=function(e){var n=h[e.type];return n?t.ShaderLib[n]:e},e.voidMainRegExp=n,Object.defineProperty(e,"__esModule",{value:!0})}(t,n(0))},function(e,t,n){var r=n(84),i=n(85),a=n(86),o=n(88);e.exports=function(e,t){return r(e)||i(e,t)||a(e,t)||o()}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(u){i=!0,a=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}},function(e,t,n){var r=n(87);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){var r=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,r="function"===typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(S){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),o=new M(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return A()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=_(o,n);if(s){if(s===c)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===c)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=u;var c={};function d(){}function h(){}function f(){}var p={};s(p,i,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(E([])));v&&v!==t&&n.call(v,i)&&(p=v);var g=f.prototype=d.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var r;this._invoke=function(i,a){function o(){return new t((function(r,o){!function r(i,a,o,s){var u=l(e[i],e,a);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"===typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,o,s)}),(function(e){r("throw",e,o,s)})):t.resolve(d).then((function(e){c.value=e,o(c)}),(function(e){return r("throw",e,o,s)}))}s(u.arg)}(i,a,r,o)}))}return r=r?r.then(o,o):o()}}function _(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return c;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var r=l(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,c;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,c):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,c)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function E(e){if(e){var t=e[i];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=f,s(g,"constructor",f),s(f,"constructor",h),h.displayName=s(f,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,s(e,o,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(u(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},y(g),s(g,o,"Generator"),s(g,i,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=E,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,c):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),c},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),w(n),c}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;w(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},e}(e.exports);try{regeneratorRuntime=r}catch(i){"object"===typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},function(e,t){var n,r,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:a}catch(e){n=a}try{r="function"===typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var u,l=[],c=!1,d=-1;function h(){c&&u&&(c=!1,u.length?l=u.concat(l):d=-1,l.length&&f())}function f(){if(!c){var e=s(h);c=!0;for(var t=l.length;t;){for(u=l,l=[];++d<t;)u&&u[d].run();d=-1,t=l.length}u=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new p(e,t)),1!==l.length||c||s(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},,function(e,t,n){"use strict";var r=n(93);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,h=r?Symbol.for("react.concurrent_mode"):60111,f=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.suspense_list"):60120,v=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,y=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,_=r?Symbol.for("react.responder"):60118,x=r?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case d:case h:case o:case u:case s:case p:return e;default:switch(e=e&&e.$$typeof){case c:case f:case g:case v:case l:return e;default:return t}}case a:return t}}}function M(e){return w(e)===h}t.AsyncMode=d,t.ConcurrentMode=h,t.ContextConsumer=c,t.ContextProvider=l,t.Element=i,t.ForwardRef=f,t.Fragment=o,t.Lazy=g,t.Memo=v,t.Portal=a,t.Profiler=u,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return M(e)||w(e)===d},t.isConcurrentMode=M,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return w(e)===f},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===g},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===a},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===s},t.isSuspense=function(e){return w(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===h||e===u||e===s||e===p||e===m||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===v||e.$$typeof===l||e.$$typeof===c||e.$$typeof===f||e.$$typeof===b||e.$$typeof===_||e.$$typeof===x||e.$$typeof===y)},t.typeOf=w},,function(e,t,n){"use strict";n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return v})),n.d(t,"e",(function(){return p}));n(9);var r=n(19),i=n(1),a=n.n(i),o=n(0),s=n(8);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var l=new o.Object3D;function c(e,t,n){var i,a;return t.args=n(t.args),(i=e.position).set.apply(i,Object(r.a)(t.position||[0,0,0])),(a=e.rotation).set.apply(a,Object(r.a)(t.rotation||[0,0,0])),t}function d(e,t,n){void 0!==t&&(e.position.fromArray(n.positions,3*t),e.quaternion.fromArray(n.quaternions,4*t))}var h=0;function f(e,t,n,r){var a=Object(i.useRef)(null),f=r||a,p=Object(i.useContext)(v),m=p.worker,g=p.bodies,y=p.buffers,b=p.refs,_=p.events,x=p.subscriptions;Object(i.useLayoutEffect)((function(){f.current||(f.current=new o.Object3D);var r,i=f.current,a=m,s=[i.uuid];return i instanceof o.InstancedMesh?(i.instanceMatrix.setUsage(o.DynamicDrawUsage),s=new Array(i.count).fill(0).map((function(e,t){return i.uuid+"/"+t})),r=s.map((function(e,r){var a=c(l,t(r),n);return l.updateMatrix(),i.setMatrixAt(r,l.matrix),i.instanceMatrix.needsUpdate=!0,a}))):r=[c(i,t(0),n)],r.forEach((function(e,t){b[s[t]]=i,e.onCollide&&(_[s[t]]=e.onCollide,e.onCollide=!0)})),a.postMessage({op:"addBodies",type:e,uuid:s,props:r}),function(){r.forEach((function(e,t){delete b[s[t]],e.onCollide&&delete _[s[t]]})),a.postMessage({op:"removeBodies",uuid:s})}}),[]),Object(s.e)((function(){if(f.current&&y.positions.length&&y.quaternions.length)if(f.current instanceof o.InstancedMesh)for(var e=0;e<f.current.count;e++){var t=g.current[f.current.uuid+"/"+e];void 0!==t&&(d(l,t,y),l.updateMatrix(),f.current.setMatrixAt(e,l.matrix)),f.current.instanceMatrix.needsUpdate=!0}else d(f.current,g.current[f.current.uuid],y)}));var w=Object(i.useMemo)((function(){var e=function(e,t,n){return f.current&&m.postMessage({op:e,uuid:(r=t,void 0!==r?f.current.uuid+"/"+r:f.current.uuid),props:n});var r},t=function(t,n){return function(r){var i=h++;return x[i]=r,e("subscribe",n,{id:i,type:t}),function(){delete x[i],e("unsubscribe",n,i)}}},n=function(e,t){return e+t.charAt(0).toUpperCase()+t.slice(1)},r=function(r,i){return{set:function(t,a,o){return e(n("set",r),i,[t,a,o])},copy:function(t){var a=t.x,o=t.y,s=t.z;return e(n("set",r),i,[a,o,s])},subscribe:t(r,i)}},i=function(r,i){return{set:function(t){return e(n("set",r),i,t)},subscribe:t(r,i)}};function a(t){return{position:r("position",t),rotation:r("quaternion",t),velocity:r("velocity",t),angularVelocity:r("angularVelocity",t),linearFactor:r("linearFactor",t),angularFactor:r("angularFactor",t),mass:i("mass",t),linearDamping:i("linearDamping",t),angularDamping:i("angularDamping",t),allowSleep:i("allowSleep",t),sleepSpeedLimit:i("sleepSpeedLimit",t),sleepTimeLimit:i("sleepTimeLimit",t),collisionFilterGroup:i("collisionFilterGroup",t),collisionFilterMask:i("collisionFilterMask",t),fixedRotation:i("fixedRotation",t),applyForce:function(n,r){e("applyForce",t,[n,r])},applyImpulse:function(n,r){e("applyImpulse",t,[n,r])},applyLocalForce:function(n,r){e("applyLocalForce",t,[n,r])},applyLocalImpulse:function(n,r){e("applyLocalImpulse",t,[n,r])}}}var o={};return u({},a(void 0),{at:function(e){return o[e]||(o[e]=a(e))}})}),[]);return[f,w]}function p(e,t){return f("Plane",e,(function(){return[]}),t)}function m(e,t){return f("Box",e,(function(e){return e||[1,1,1]}),t)}var v=Object(i.createContext)({}),g="undefined"==typeof window?function(){return null}:Object(i.lazy)((function(){return n.e(3).then(n.bind(null,98))}));function y(e){return a.a.createElement(i.Suspense,{fallback:null},a.a.createElement(g,e))}}]]);
//# sourceMappingURL=2.751ecfab.chunk.js.map